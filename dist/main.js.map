{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/config.service.ts","webpack:///./src/app/mainview/mainview.component.css","webpack:///./src/app/mainview/mainview.component.html","webpack:///./src/app/mainview/mainview.component.ts","webpack:///./src/app/mainview/mathjax/mathjax.directive.ts","webpack:///./src/app/mainview/unique.pipe.ts","webpack:///./src/app/settings/categories/citations/citations.component.html","webpack:///./src/app/settings/categories/citations/citations.component.ts","webpack:///./src/app/settings/categories/errors/errors.component.html","webpack:///./src/app/settings/categories/errors/errors.component.ts","webpack:///./src/app/settings/categories/managers/managers.component.html","webpack:///./src/app/settings/categories/managers/managers.component.ts","webpack:///./src/app/settings/categories/regions/regions.component.html","webpack:///./src/app/settings/categories/regions/regions.component.ts","webpack:///./src/app/settings/categories/regressionregions/regressionregions.component.html","webpack:///./src/app/settings/categories/regressionregions/regressionregions.component.ts","webpack:///./src/app/settings/categories/regressiontypes/regressiontypes.component.html","webpack:///./src/app/settings/categories/regressiontypes/regressiontypes.component.ts","webpack:///./src/app/settings/categories/roles/roles.component.html","webpack:///./src/app/settings/categories/roles/roles.component.ts","webpack:///./src/app/settings/categories/scenarios/scenarios.component.html","webpack:///./src/app/settings/categories/scenarios/scenarios.component.ts","webpack:///./src/app/settings/categories/statisticgroups/statisticgroups.component.html","webpack:///./src/app/settings/categories/statisticgroups/statisticgroups.component.ts","webpack:///./src/app/settings/categories/unitsystems/unitsystems.component.html","webpack:///./src/app/settings/categories/unitsystems/unitsystems.component.ts","webpack:///./src/app/settings/categories/unittypes/unittypes.component.html","webpack:///./src/app/settings/categories/unittypes/unittypes.component.ts","webpack:///./src/app/settings/categories/variabletypes/variabletypes.component.html","webpack:///./src/app/settings/categories/variabletypes/variabletypes.component.ts","webpack:///./src/app/settings/settings.component.css","webpack:///./src/app/settings/settings.component.html","webpack:///./src/app/settings/settings.component.ts","webpack:///./src/app/settings/settings.service.ts","webpack:///./src/app/shared/about/about.component.css","webpack:///./src/app/shared/about/about.component.html","webpack:///./src/app/shared/about/about.component.ts","webpack:///./src/app/shared/components/loader.component.css","webpack:///./src/app/shared/components/loader.component.ts","webpack:///./src/app/shared/components/loader.service.ts","webpack:///./src/app/shared/guards/admin.guard.ts","webpack:///./src/app/shared/guards/auth.guard.ts","webpack:///./src/app/shared/services/app.service.ts","webpack:///./src/app/shared/services/auth.service.ts","webpack:///./src/app/shared/services/login.service.ts","webpack:///./src/app/sidebar/sidebar.component.css","webpack:///./src/app/sidebar/sidebar.component.html","webpack:///./src/app/sidebar/sidebar.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \".form-invalid input {\\r\\n    margin-bottom: 12px !important;\\r\\n}\\r\\n\\r\\n.hidden {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.modal-content{\\r\\n    height: 400px;\\r\\n    top: calc(50% - 200px) !important;\\r\\n    max-width: 40% !important;\\r\\n}\\r\\n\\r\\n#loginError {\\r\\n    color: red;\\r\\n    margin-bottom: 5px;\\r\\n}\\r\\n\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSwrQkFBK0I7Q0FDbEM7O0FBRUQ7SUFDSSxjQUFjO0NBQ2pCOztBQUVEO0lBQ0ksY0FBYztJQUNkLGtDQUFrQztJQUNsQywwQkFBMEI7Q0FDN0I7O0FBRUQ7SUFDSSxXQUFXO0lBQ1gsbUJBQW1CO0NBQ3RCIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1pbnZhbGlkIGlucHV0IHtcclxuICAgIG1hcmdpbi1ib3R0b206IDEycHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLmhpZGRlbiB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4ubW9kYWwtY29udGVudHtcclxuICAgIGhlaWdodDogNDAwcHg7XHJcbiAgICB0b3A6IGNhbGMoNTAlIC0gMjAwcHgpICFpbXBvcnRhbnQ7XHJcbiAgICBtYXgtd2lkdGg6IDQwJSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4jbG9naW5FcnJvciB7XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG59XHJcblxyXG4iXX0= */\"","module.exports = \"<aboutModal></aboutModal>\\r\\n<nav class=\\\"wim-nav\\\">\\r\\n    <div class=\\\"container\\\" style=\\\"width: 100%;\\\">\\r\\n        <button class=\\\"mobile-nav-toggle\\\" (click)=\\\"toggleSidebar()\\\"></button>\\r\\n        <a href=\\\"https://usgs.gov\\\" class=\\\"nav-branding\\\">\\r\\n            <img src=\\\"https://wim.usgs.gov/website-assets/usgs-logo.png\\\" />\\r\\n        </a>\\r\\n        <span class=\\\"nav-title\\\">\\r\\n            {{title}}\\r\\n        </span>\\r\\n        <div class=\\\"nav-links\\\">\\r\\n            <a routerLink=\\\"\\\" routerLinkActive=\\\"active\\\">\\r\\n                <span class=\\\"nav-link-text\\\">Home</span>\\r\\n            </a>\\r\\n            <a [class.hidden]=\\\"!isLoggedIn\\\" routerLink=\\\"settings\\\" routerLinkActive=\\\"active\\\">\\r\\n                <span class=\\\"nav-link-text\\\">Settings</span>\\r\\n            </a>\\r\\n            <a (click)=\\\"showAbout()\\\">\\r\\n                <span>\\r\\n                    <i class=\\\"ion-information-circled\\\"></i>\\r\\n                    <span class=\\\"nav-link-text\\\">About</span>\\r\\n                </span>\\r\\n            </a>\\r\\n            <a (click)=\\\"showLoginModal()\\\" [class.hidden]=\\\"isLoggedIn\\\">\\r\\n                <span>\\r\\n                    <span class=\\\"nav-link-text\\\">Login</span>\\r\\n                </span>\\r\\n            </a>\\r\\n            <a (click)=\\\"logout()\\\" [class.hidden]=\\\"!isLoggedIn\\\">\\r\\n                <span>\\r\\n                    <span class=\\\"nav-link-text\\\">Logout</span>\\r\\n                </span>\\r\\n            </a>\\r\\n            <!--<a href=\\\"/#/\\\"><span><i class=\\\"ion-plus-round\\\"></i> New Site</span></a>\\r\\n                <a href=\\\"/#/\\\"><span><i class=\\\"ion-ios-book\\\"></i> Guide</span></a>\\r\\n                <a href=\\\"/#/\\\"><span><i class=\\\"ion-help\\\"></i> FAQ</span></a>-->\\r\\n        </div>\\r\\n    </div>\\r\\n</nav>\\r\\n<wim-sidebar *ngIf=\\\"router.url.indexOf('/settings') === -1\\\"></wim-sidebar>\\r\\n<ng-template #login let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">Login</h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <form [formGroup]=\\\"LoginForm\\\">\\r\\n            <!-- Username* -->\\r\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{'form-invalid': !LoginForm.get('username').valid && LoginForm.get('username').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"username\\\">Username:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"username\\\" required>\\r\\n            </div>\\r\\n    \\r\\n            <!-- Password* -->\\r\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{'form-invalid': !LoginForm.get('password').valid && LoginForm.get('password').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"password\\\">Password:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"password\\\" formControlName=\\\"password\\\">\\r\\n            </div>\\r\\n\\r\\n            <div [class.hidden]=\\\"!loginError\\\" id=\\\"loginError\\\">\\r\\n                Username or Password incorrect.\\r\\n            </div>\\r\\n\\r\\n            <div>\\r\\n                <button [disabled]=\\\"loading || !LoginForm.valid\\\" class=\\\"btn btn-primary\\\" (click)=\\\"loginRun()\\\">Login</button>\\r\\n                <!--<img *ngIf=\\\"loading\\\" src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />-->\\r\\n                <!--<a [routerLink]=\\\"['/register']\\\" class=\\\"btn btn-link\\\">Register</a>-->\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n</ng-template>\\r\\n<router-outlet></router-outlet>\"","import { Component, ViewChild, OnInit, OnDestroy } from '@angular/core';\r\n// import { NavbarComponent } from './navbar/navbar.component';\r\nimport { MainviewComponent } from './mainview/mainview.component';\r\nimport { SidebarComponent } from './sidebar/sidebar.component';\r\nimport { PageScrollConfig } from 'ng2-page-scroll';\r\nimport { environment } from '../environments/environment';\r\nimport { NSSService } from './shared/services/app.service';\r\nimport { AuthService } from './shared/services/auth.service';\r\nimport { Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { LoginService } from './shared/services/login.service';\r\nimport { Manager } from './shared/interfaces/manager';\r\nimport { NgbModal, ModalDismissReasons, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\n@Component({\r\n    selector: 'app-root',\r\n    templateUrl: './app.component.html',\r\n    styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy {\r\n    public loggedInRole = '';\r\n    @ViewChild('login') public loginModal; // : ModalDirective;  //modal for validator\r\n    private modalElement: any;\r\n    public closeResult: any;\r\n    private modalSubscript;\r\n    public appVersion: string;\r\n    public manager: Manager;\r\n    public LoginForm: FormGroup;\r\n    public modalRef;\r\n    public title;\r\n    loading = false;\r\n    returnUrl: string;\r\n    isLoggedIn: boolean;\r\n    public loginError = false;\r\n    public toggleSidebar;\r\n    constructor(\r\n        private _nssService: NSSService,\r\n        public router: Router,\r\n        private _authService: AuthService,\r\n        private _loginService: LoginService,\r\n        private _fb: FormBuilder,\r\n        private _toasterService: ToasterService,\r\n        private _modalService: NgbModal\r\n    ) {\r\n        PageScrollConfig.defaultScrollOffset = 85;\r\n        this._nssService.setVersion(environment.version);\r\n        this.LoginForm = _fb.group({\r\n            username: new FormControl(null, Validators.required),\r\n            password: new FormControl(null, Validators.required)\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._authService.loggedInRole().subscribe(role => {\r\n            if (role === 'Administrator' || role === 'Manager') {\r\n                this.loggedInRole = role;\r\n            }\r\n        });\r\n\r\n        this._loginService.isLoggedIn().subscribe(loggedIn => {\r\n            this.isLoggedIn = loggedIn;\r\n        });\r\n\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n        if (this.loggedInRole !== null && !this.checkSetupTime()) {\r\n            this._loginService._loggedInSubject.next(true);\r\n        } else {\r\n            this.logout();\r\n        }\r\n\r\n        this.manager = { username: '', password: '' };\r\n\r\n        // get return url from route parameters or default to '/'\r\n        this.returnUrl = '';\r\n\r\n        this.modalElement = this.loginModal;\r\n        this.loginError = false;\r\n    }\r\n    // @ViewChild(NavbarComponent) navbarComponent: NavbarComponent;\r\n    @ViewChild(SidebarComponent) sidebarComponent: SidebarComponent;\r\n    @ViewChild(MainviewComponent) mainviewCommponent: MainviewComponent;\r\n    public showAbout() {\r\n        this._nssService.setAboutModal(true);\r\n    }\r\n    public showCreate() {\r\n        this._nssService.setCreateModal(true);\r\n    }\r\n\r\n    public showLoginModal(): void {\r\n        this.LoginForm.controls['username'].setValue(null);\r\n        this.LoginForm.controls['password'].setValue(null);\r\n        this.modalRef = this._modalService.open(this.modalElement, { backdrop: 'static', keyboard: false, size: 'lg' });\r\n        this.modalRef.result.then(\r\n            result => {\r\n                // this is the solution for the first modal losing scrollability\r\n                if (document.querySelector('body > .modal')) {\r\n                    document.body.classList.add('modal-open');\r\n                }\r\n                this.closeResult = `Closed with: ${result}`;\r\n                if (this.closeResult) {\r\n                    this.router.navigate(['']);\r\n                }\r\n            },\r\n            reason => {\r\n                this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n                if (this.closeResult) {\r\n                    this.router.navigate(['']);\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else {\r\n            return `with: ${reason}`;\r\n        }\r\n    }\r\n\r\n    // log user in, navigate to home\r\n    public loginRun() {\r\n        this.manager.username = this.LoginForm.get('username').value;\r\n        this.manager.password = this.LoginForm.get('password').value;\r\n        this.loading = true; // not using this yet\r\n        this._loginService.login(this.manager.username, this.manager.password).subscribe(\r\n            () => {\r\n                if (this._loginService.isLoggedIn) {\r\n                    this.router.navigate([this.returnUrl]);\r\n                    this._nssService.setLoginModal(false);\r\n                }\r\n                this.loading = false; // not using this yet\r\n                this._nssService.setLoginModal(false);\r\n                this.loginError = false;\r\n                this.modalRef.close();\r\n            },\r\n            error => {\r\n                this._toasterService.pop('error', 'Error logging in', error._body.message || error.statusText);\r\n                this.loading = false;\r\n            }\r\n        );\r\n    }\r\n\r\n    public logout() {\r\n        this._loginService.logout();\r\n        this.router.navigate(['']);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.modalSubscript.unsubscribe();\r\n    }\r\n\r\n    private checkSetupTime(): boolean {\r\n        let tooOld = false;\r\n\r\n        const twentyFourHours: number = 12 * 60 * 60 * 1000;\r\n        const now: number = new Date().getTime();\r\n        const setupTime: number = Number(localStorage.getItem('setupTime'));\r\n        if (now - setupTime > twentyFourHours) {\r\n          // is it greater than 12 hours\r\n          tooOld = true;\r\n          localStorage.clear();\r\n        }\r\n\r\n        return tooOld;\r\n      }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HttpModule } from '@angular/http';\r\nimport { APP_INITIALIZER, NgModule } from '@angular/core';\r\nimport { MultiselectDropdownModule } from '../../node_modules/angular-2-dropdown-multiselect';\r\nimport { ToasterModule } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { MathjaxDirective } from './mainview/mathjax/mathjax.directive';\r\nimport { Ng2PageScrollModule } from 'ng2-page-scroll';\r\nimport { ChartModule } from 'angular2-highcharts';\r\nimport { HighchartsStatic } from 'angular2-highcharts/dist/HighchartsService';\r\nimport { ColorPickerModule } from 'ngx-color-picker';\r\nimport { NgbModule, NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { MainviewComponent } from './mainview/mainview.component';\r\nimport { SidebarComponent } from './sidebar/sidebar.component';\r\nimport { SettingsComponent } from './settings/settings.component';\r\nimport { AboutModal } from './shared/about/about.component';\r\n\r\nimport { StatisticGroupsComponent } from './settings/categories/statisticgroups/statisticgroups.component';\r\nimport { RegressionTypesComponent } from './settings/categories/regressiontypes/regressiontypes.component';\r\nimport { UnitTypesComponent } from './settings/categories/unittypes/unittypes.component';\r\nimport { UnitSystemsComponent } from './settings/categories/unitsystems/unitsystems.component';\r\nimport { VariableTypesComponent } from './settings/categories/variabletypes/variabletypes.component';\r\nimport { RegressionRegionsComponent } from './settings/categories/regressionregions/regressionregions.component';\r\nimport { ScenariosComponent } from './settings/categories/scenarios/scenarios.component';\r\nimport { ManagersComponent } from './settings/categories/managers/managers.component';\r\nimport { CitationsComponent } from './settings/categories/citations/citations.component';\r\nimport { ErrorsComponent } from './settings/categories/errors/errors.component';\r\n\r\nimport { environment } from '../environments/environment';\r\nimport { UniquePipe } from './mainview/unique.pipe';\r\n\r\nimport { NSSService } from './shared/services/app.service';\r\nimport { ConfigService } from './config.service';\r\nimport { LoginService } from './shared/services/login.service';\r\nimport { LoaderService } from './shared/components/loader.service';\r\nimport { LoaderComponent } from './shared/components/loader.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { AuthService } from './shared/services/auth.service';\r\nimport { SettingsService } from './settings/settings.service';\r\nimport { RegionsComponent } from './settings/categories/regions/regions.component';\r\nimport { RolesComponent } from './settings/categories/roles/roles.component';\r\nimport { AuthGuard } from './shared/guards/auth.guard';\r\nimport { AdminGuard } from './shared/guards/admin.guard';\r\n\r\ndeclare const require: any;\r\n\r\nconst appRoutes: Routes = [\r\n  {\r\n    path: 'settings',\r\n    component: SettingsComponent,\r\n    canActivate: [AuthGuard],\r\n    canActivateChild: [AuthGuard],\r\n    children: [\r\n      { path: 'statisticgroups', component: StatisticGroupsComponent },\r\n      { path: 'regions', component: RegionsComponent, canActivate: [AdminGuard]},\r\n      { path: 'regressionregions', component: RegressionRegionsComponent },\r\n      { path: 'regressiontypes', component: RegressionTypesComponent },\r\n      { path: 'unittypes', component: UnitTypesComponent },\r\n      { path: 'unitsystems', component: UnitSystemsComponent },\r\n      { path: 'variabletypes', component: VariableTypesComponent },\r\n      { path: 'scenarios', component: ScenariosComponent },\r\n      { path: 'managers', component: ManagersComponent, canActivate: [AdminGuard] },\r\n      { path: 'citations', component: CitationsComponent},\r\n      { path: 'errors', component: ErrorsComponent, canActivate: [AdminGuard]},\r\n      { path: 'roles', component: RolesComponent, canActivate: [AdminGuard]}\r\n    ],\r\n    runGuardsAndResolvers: 'always'\r\n  },\r\n  { path: '', component: MainviewComponent, pathMatch: 'full' }\r\n];\r\n\r\nexport function ConfigLoader(configService: ConfigService) {\r\n  // Note: this factory needs to return a function (that returns a promise)\r\n  return () => configService.load(environment.configFile);\r\n}\r\n\r\nexport function highchartsFactory() {\r\n  // need this to be able to do exporting of charts\r\n  const hc = require('highcharts');\r\n  const exp = require('highcharts/modules/exporting');\r\n  exp(hc);\r\n  return hc;\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent, MainviewComponent, SidebarComponent, SettingsComponent, AboutModal, LoaderComponent, UniquePipe, MathjaxDirective,\r\n    StatisticGroupsComponent, RegressionTypesComponent, UnitTypesComponent, UnitSystemsComponent, VariableTypesComponent,\r\n    RegressionRegionsComponent, ScenariosComponent, ManagersComponent, CitationsComponent, ErrorsComponent, RegionsComponent, RolesComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule, FormsModule, HttpModule, ToasterModule, BrowserAnimationsModule, ReactiveFormsModule, MultiselectDropdownModule,\r\n    Ng2PageScrollModule.forRoot(), ChartModule, ColorPickerModule, NgbModule.forRoot(),\r\n    RouterModule.forRoot(appRoutes, {onSameUrlNavigation: 'reload'})\r\n  ],\r\n  providers: [\r\n    NSSService, { provide: HighchartsStatic, useFactory: highchartsFactory }, ConfigService, LoaderService,\r\n    { provide: APP_INITIALIZER, useFactory: ConfigLoader, deps: [ConfigService], multi: true },\r\n    LoginService, AuthService, SettingsService, AuthGuard, AdminGuard\r\n  ],\r\n  bootstrap: [AppComponent],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppModule {}\r\n","// ------------------------------------------------------------------------------\r\n// ----- config.service..ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: service to get configuration file\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Http, Headers, RequestOptions, Response, URLSearchParams } from '@angular/http';\r\nimport { Config } from 'app/shared/interfaces/config';\r\n\r\n@Injectable()\r\nexport class ConfigService {\r\n    private config: Config;\r\n    constructor(private _http: Http) {}\r\n\r\n    public load(url: string) {\r\n        return new Promise(resolve => {\r\n            this._http\r\n                .get(url)\r\n                .map(res => res.json())\r\n                .subscribe(config => {\r\n                    this.config = config;\r\n                    resolve();\r\n                });\r\n        });\r\n    }\r\n\r\n    public getConfiguration(): Config {\r\n        return this.config;\r\n    }\r\n}\r\n","module.exports = \".mainPage {\\r\\n    width:auto;\\r\\n    margin-top: 102px;\\r\\n    margin-left: 345px;\\r\\n    position:relative;\\r\\n    box-sizing: border-box;\\r\\n    padding-right: 15px;\\r\\n    \\r\\n}\\r\\n\\r\\n.scrollable{\\r\\n    max-height:calc(100% - 70px);\\r\\n\\r\\n}\\r\\n\\r\\n.warning-text{\\r\\n    color:red;\\r\\n    font-style: italic;\\r\\n    font-size: small;\\r\\n}\\r\\n\\r\\n.reqError {\\r\\n    background-color: #efe1e1!important;\\r\\n    border: 1px solid #a94442!important;\\r\\n}\\r\\n\\r\\n.redFont {\\r\\n    color:red;\\r\\n}\\r\\n\\r\\n[hidden] { display: none !important;}\\r\\n\\r\\n[type=\\\"radio\\\"] {\\r\\n    position: initial !important;\\r\\n}\\r\\n\\r\\n[type=\\\"checkbox\\\"] {\\r\\n    position: initial !important;\\r\\n}\\r\\n\\r\\n@media print{\\r\\n    body * {\\r\\n        visibility: hidden;\\r\\n        -webkit-print-color-adjust: exact !important;\\r\\n    }\\r\\n    .hidden-print {\\r\\n        display: none !important;\\r\\n    }\\r\\n    #print-content * {\\r\\n        visibility: visible;\\r\\n    }\\r\\n}\\r\\n\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbnZpZXcvbWFpbnZpZXcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQix1QkFBdUI7SUFDdkIsb0JBQW9COztDQUV2Qjs7QUFFRDtJQUNJLDZCQUE2Qjs7Q0FFaEM7O0FBQ0Q7SUFDSSxVQUFVO0lBQ1YsbUJBQW1CO0lBQ25CLGlCQUFpQjtDQUNwQjs7QUFDRDtJQUNJLG9DQUFvQztJQUNwQyxvQ0FBb0M7Q0FDdkM7O0FBQ0Q7SUFDSSxVQUFVO0NBQ2I7O0FBQ0QsV0FBVyx5QkFBeUIsQ0FBQzs7QUFDckM7SUFDSSw2QkFBNkI7Q0FDaEM7O0FBQ0Q7SUFDSSw2QkFBNkI7Q0FDaEM7O0FBQ0Q7SUFDSTtRQUNJLG1CQUFtQjtRQUNuQiw2Q0FBNkM7S0FDaEQ7SUFDRDtRQUNJLHlCQUF5QjtLQUM1QjtJQUNEO1FBQ0ksb0JBQW9CO0tBQ3ZCO0NBQ0oiLCJmaWxlIjoic3JjL2FwcC9tYWludmlldy9tYWludmlldy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW5QYWdlIHtcclxuICAgIHdpZHRoOmF1dG87XHJcbiAgICBtYXJnaW4tdG9wOiAxMDJweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAzNDVweDtcclxuICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDE1cHg7XHJcbiAgICBcclxufVxyXG5cclxuLnNjcm9sbGFibGV7XHJcbiAgICBtYXgtaGVpZ2h0OmNhbGMoMTAwJSAtIDcwcHgpO1xyXG5cclxufVxyXG4ud2FybmluZy10ZXh0e1xyXG4gICAgY29sb3I6cmVkO1xyXG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xyXG4gICAgZm9udC1zaXplOiBzbWFsbDtcclxufVxyXG4ucmVxRXJyb3Ige1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VmZTFlMSFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYTk0NDQyIWltcG9ydGFudDtcclxufVxyXG4ucmVkRm9udCB7XHJcbiAgICBjb2xvcjpyZWQ7XHJcbn1cclxuW2hpZGRlbl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fVxyXG5bdHlwZT1cInJhZGlvXCJdIHtcclxuICAgIHBvc2l0aW9uOiBpbml0aWFsICFpbXBvcnRhbnQ7XHJcbn1cclxuW3R5cGU9XCJjaGVja2JveFwiXSB7XHJcbiAgICBwb3NpdGlvbjogaW5pdGlhbCAhaW1wb3J0YW50O1xyXG59XHJcbkBtZWRpYSBwcmludHtcclxuICAgIGJvZHkgKiB7XHJcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgICAgIC13ZWJraXQtcHJpbnQtY29sb3ItYWRqdXN0OiBleGFjdCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICAgLmhpZGRlbi1wcmludCB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICAgI3ByaW50LWNvbnRlbnQgKiB7XHJcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxuICAgIH1cclxufVxyXG5cclxuIl19 */\"","module.exports = \"<div id=\\\"printArea\\\" class=\\\"mainPage scrollable\\\">\\r\\n\\r\\n    <!-- toaster directive -->\\r\\n    <toaster-container></toaster-container>\\r\\n    <!-- / toaster directive -->\\r\\n\\r\\n    <div><h3 style=\\\"font-size: 32px !important; font-weight: bolder !important;\\\">{{title}}</h3></div>\\r\\n    <div style=\\\"margin-bottom: 5px; opacity: 0.5; letter-spacing: 0.6px;\\\">{{timestamp | date:\\\"MMMM d, y hh:mma\\\"}}</div>\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n        <div *ngIf=\\\"selectedRegion\\\">\\r\\n            <label style=\\\"margin-bottom: 0 !important; margin-top: 15px !important;\\\">Region:</label>\\r\\n            <div style=\\\"font-weight: bolder !important; font-size: 18px !important;\\\">{{selectedRegion.name}}</div>\\r\\n        </div>\\r\\n\\r\\n        <br/>\\r\\n        <div *ngIf=\\\"selectedStatisticGrp?.length>0\\\">\\r\\n            <label style=\\\"margin-bottom: 0 !important; margin-top: 15px !important;\\\">Statistic Group(s):</label>\\r\\n            <div>\\r\\n                <span *ngFor=\\\"let st of selectedStatisticGrp;let isLast=last\\\" style=\\\"font-weight: bolder !important; font-size: 18px !important;\\\">{{st.name}}{{isLast ? \\\"\\\" : \\\", \\\"}}</span>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <br />\\r\\n        <div *ngIf=\\\"selectedRegressionRegion?.length>0\\\">\\r\\n            <label style=\\\"margin-bottom: 0 !important; margin-top: 15px !important;\\\">Regression Group(s):</label>\\r\\n            <div>\\r\\n                <span *ngFor=\\\"let rr of selectedRegressionRegion;let isLast=last\\\" style=\\\"font-weight: bolder !important; font-size: 18px !important;\\\">{{rr.name}}{{isLast ? \\\"\\\" : \\\", \\\"}}</span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <br clear=\\\"all\\\"/>\\r\\n\\r\\n     <!-- scenarios && !resultsBack-->\\r\\n    <div class=\\\"hidden-print\\\" *ngIf=\\\"scenarios && !resultsBack\\\">\\r\\n        <label>Equation Variables</label> \\r\\n        <br/>\\r\\n        <div *ngIf=\\\"scenarios.length == 0\\\">There are no scenarios available for the options chosen.</div>\\r\\n        <form #scenarioForm=\\\"ngForm\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-xs-12\\\" *ngFor=\\\"let sc of scenarios;let sInd = index\\\">\\r\\n                    <h3>{{sc.statisticGroupName}}</h3>\\r\\n                    <div class=\\\"col-xs-12\\\" *ngIf=\\\"sc.regressionRegions?.length > 0\\\">\\r\\n                        <table class=\\\"table\\\">\\r\\n                            <tr *ngFor=\\\"let rr of sc.regressionRegions;let rInd = index\\\">\\r\\n                                <td style=\\\"vertical-align:middle;\\\">{{rr.name}} <span *ngIf=\\\"multipleRegRegions\\\" style=\\\"font-size: x-small\\\">(RG_Code: {{rr.code}})</span></td>\\r\\n                                <td *ngIf=\\\"showWeights\\\" class=\\\"col-xs-3\\\" style=\\\"vertical-align:middle;text-align:end;\\\">% Area Weight:</td>\\r\\n                                <td *ngIf=\\\"showWeights\\\" class=\\\"col-xs-2\\\">\\r\\n                                    <input style=\\\"display:inline;\\\" type=\\\"text\\\" id=\\\"PercentWeight\\\"class=\\\"form-control\\\" (keypress)=\\\"_keyPress($event)\\\" name=\\\"PercentWeight-{{rInd}}\\\" [(ngModel)]=\\\"rr.percentWeight\\\">\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </table>\\r\\n                    </div><!-- end length > 0-->\\r\\n                    <div *ngIf=\\\"sc.regressionRegions.length == 0\\\"><h3>There are no Results for your selection. Please try another .... </h3></div>\\r\\n                </div>  <!-- end ngFor scenarios -->\\r\\n            </div>\\r\\n            <table *ngIf=\\\"scenarios[0].regressionRegions.length > 0\\\" style=\\\"border:solid 1px gray\\\" class=\\\"table\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th class=\\\"col-xs-5\\\">Parameter</th>\\r\\n                        <th>Code</th>\\r\\n                        <th class=\\\"col-xs-2\\\">Value</th>\\r\\n                        <th class=\\\"col-xs-1\\\" *ngIf=\\\"multipleRegRegions\\\"></th>\\r\\n                        <th class=\\\"col-xs-2\\\">Min Limit</th>\\r\\n                        <th class=\\\"col-xs-3\\\">Max Limit</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let p of uniqueParameters;let pInd=index \\\">\\r\\n                        <td>{{p.name}} <a (click)=\\\"showDescription(p, pInd)\\\"><span class=\\\"glyphicon glyphicon-question-sign nss-tooltip\\\"></span></a>\\r\\n                            <!-- description span -->\\r\\n                            <br *ngIf=\\\"p.seeDescription\\\"/>\\r\\n                            <span style=\\\"font-size:small;\\\" *ngIf=\\\"p.seeDescription\\\">{{p.description}}</span>\\r\\n                            <!-- outOfRange span -->\\r\\n                            <br *ngIf=\\\"p.outOfRange\\\"/>\\r\\n                            <span *ngIf=\\\"p.outOfRange\\\" class=\\\"warning-text\\\">Warning: Parameter is outside of suggested range. Estimates will be extrapolations with unknown errors</span>\\r\\n                        </td>\\r\\n                        <td>{{p.code}}</td>\\r\\n                        <td>\\r\\n                            <div class=\\\"col-xs-10\\\" style=\\\"margin-left:0;padding-left:0;\\\">\\r\\n                                <input class=\\\"form-control\\\" style=\\\"display:inline\\\" [ngClass]=\\\"{'reqError':p.missingVal}\\\" type=\\\"text\\\"\\r\\n                                        (keypress)=\\\"_keyPress($event)\\\" (blur)=\\\"compareValue(p)\\\" [(ngModel)]=\\\"p.value\\\" name=\\\"Value-{{pInd}}\\\" required>\\r\\n                                (<span [innerHTML]=\\\"setSuperScript(p.unitType.abbr)\\\" style=\\\"display:inline;\\\"></span>)\\r\\n                            </div>\\r\\n                        </td>\\r\\n                        <td *ngIf=\\\"multipleRegRegions\\\">\\r\\n                            <span *ngFor=\\\"let l of p.limitArray\\\">\\r\\n                                <span  class=\\\"pull-right\\\" style=\\\"white-space:nowrap;\\\" *ngIf=\\\"l != undefined\\\" [ngClass]=\\\"{'redFont':l.outOfRange}\\\">\\r\\n                                    <span style=\\\"font-size: x-small\\\">{{l != undefined ? l.rrID : ''}}</span><br />\\r\\n                                </span>\\r\\n                            </span>\\r\\n                        </td>\\r\\n                        <td>\\r\\n                            <span *ngFor=\\\"let l of p.limitArray\\\">\\r\\n                            <span *ngIf=\\\"l!=undefined\\\" style=\\\"white-space:nowrap;\\\" [ngClass]=\\\"{'redFont':l.outOfRange}\\\">{{l != undefined ? sigFigures(l.min): \\\"--\\\"}}\\r\\n                                (<span [innerHTML]=\\\"setSuperScript(p.unitType.abbr)\\\"></span>)\\r\\n                                <br/>\\r\\n                            </span>\\r\\n                        </span></td>\\r\\n                        <td>\\r\\n                            <span *ngFor=\\\"let l of p.limitArray\\\">\\r\\n                                <span *ngIf=\\\"l!=undefined\\\" style=\\\"white-space:nowrap;\\\" [ngClass]=\\\"{'redFont':l.outOfRange}\\\">{{l != undefined ? sigFigures(l.max) : \\\"--\\\"}} (\\r\\n                                    <span [innerHTML]=\\\"setSuperScript(p.unitType.abbr)\\\"></span>)\\r\\n                                    <br/>\\r\\n                                </span>\\r\\n                            </span>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n\\r\\n            <h2 style=\\\"margin:0;padding:0\\\">Citations</h2>\\r\\n            <div *ngFor=\\\"let sc of scenarios\\\">\\r\\n                <label *ngIf=\\\"sc.citations\\\">{{sc.statisticGroupName}} Citations</label>\\r\\n                <div *ngFor=\\\"let l of sc.citations\\\">\\r\\n                    <a [href]=\\\"l.citationURL\\\" [target]=\\\"_blank\\\">\\r\\n                        <div>{{l.author}}</div>\\r\\n                        <div>{{l.title}}</div>\\r\\n                    </a>\\r\\n                    <br />\\r\\n                </div>\\r\\n            </div><!--end foreach scenario (for citations) {{l != undefined ? l.rrID : ''}}-->\\r\\n        </form>\\r\\n    </div> <!--end if scenarios-->\\r\\n\\r\\n     <!-- resultsBack-->\\r\\n    <div *ngIf=\\\"resultsBack\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn-wim-primary hidden-print\\\" style=\\\"margin-bottom: 15px;\\\" (click)=\\\"editScenario()\\\">Edit Scenario Parameters</button>\\r\\n        <div *ngFor=\\\"let s of scenarios\\\">\\r\\n            <h3>{{s.statisticGroupName}}</h3>\\r\\n            <div *ngFor=\\\"let rr of s.regressionRegions;let r = index\\\">\\r\\n                <div><!-- *ngIf=\\\"rr.ID > 0\\\">  -->\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <a class=\\\"hidden-print\\\" (click)=\\\"exportInputTable(r)\\\" style=\\\"cursor: pointer\\\"><span class=\\\"glyphicon glyphicon-download-alt\\\"></span></a>\\r\\n                            <table #inputsTable>\\r\\n                                <tr><td>{{rr.name}} Region</td></tr>\\r\\n                                <tr *ngIf=\\\"rr.percentWeight\\\"><td>{{rr.percentWeight}}% Weighted</td></tr>\\r\\n                                <tr *ngFor=\\\"let p of rr.parameters\\\"><td>{{p.name}} = {{p.value}} (<span [innerHTML]=\\\"setSuperScript(p.unitType.abbr)\\\"></span>)</td></tr>\\r\\n                            </table>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <br />\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <!--<a class=\\\"hidden-print\\\" (click)=\\\"exportTable(r)\\\" style=\\\"cursor: pointer\\\"><span class=\\\"glyphicon glyphicon-download-alt\\\"></span></a>-->\\r\\n                            <span>[SEe, Standard Error of Estimate; SEp, Standard Error of Prediction; SE, Standard Error (other -- see report)]</span>\\r\\n                            <table #resultsTable style=\\\"border:solid 1px gray\\\" class=\\\"table\\\">\\r\\n                                <thead>\\r\\n                                    <tr style=\\\"border-bottom: white solid;\\\">\\r\\n                                        <th class=\\\"col-xs-6\\\">{{rr.name}} Region</th>\\r\\n                                        <th>Value</th>\\r\\n                                        <th *ngIf=\\\"rr.results[0].intervalBounds\\\" colspan=\\\"2\\\">Prediction Interval</th>\\r\\n                                        <th *ngIf=\\\"rr.results[0].errors && rr.results[0].errors.length > 0\\\" [attr.colspan]=\\\"rr.results[0].errors.length\\\">Errors (%)</th>\\r\\n                                        <th *ngIf=\\\"rr.results[0].equivalentYears>0\\\">Equivalent Yrs.</th>\\r\\n                                    </tr>\\r\\n                                    <tr>\\r\\n                                        <th class=\\\"col-xs-6\\\">Description</th>\\r\\n                                        <th>(<span [innerHTML]=\\\"setSuperScript(rr.results[0].unit.abbr)\\\"></span>)</th>\\r\\n                                        <th *ngIf=\\\"rr.results[0].intervalBounds\\\">Low</th>\\r\\n                                        <th *ngIf=\\\"rr.results[0].intervalBounds\\\">High</th>\\r\\n                                        <th *ngFor=\\\"let e of rr.results[0]?.errors\\\">{{e.code}}</th>\\r\\n                                        <th *ngIf=\\\"rr.results[0].equivalentYears>0\\\"></th><!--space for if Equivalent Yrs-->\\r\\n                                    </tr>\\r\\n                                </thead>\\r\\n                                <tbody>\\r\\n                                    <tr *ngFor=\\\"let result of rr.results\\\">\\r\\n                                        <td>{{result.description}} ({{result.code}})</td>\\r\\n                                        <td>{{sigFigures(result.value)}}</td>\\r\\n                                        <td *ngIf=\\\"rr.results[0].intervalBounds\\\">{{result.intervalBounds != undefined && result.intervalBounds.lower != \\\"NaN\\\" ? sigFigures(result.intervalBounds.lower) : '---'}}</td>\\r\\n                                        <td *ngIf=\\\"rr.results[0].intervalBounds\\\">{{result.intervalBounds != undefined && result.intervalBounds.upper != \\\"NaN\\\" ? sigFigures(result.intervalBounds.upper) : '---'}}</td>\\r\\n                                        <td *ngFor=\\\"let e of result?.errors\\\">{{e.value}}</td>\\r\\n                                        <td *ngIf=\\\"rr.results[0].equivalentYears>0\\\">{{result.equivalentYears > 0 && result.equivalentYears !== 999 ? result.equivalentYears : 'N/A'}}</td>\\r\\n                                    </tr>\\r\\n                                </tbody>\\r\\n                            </table>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div><!-- END rr.id > 0\\r\\n                <div *ngIf=\\\"rr.id == 0\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <a class=\\\"hidden-print\\\" (click)=\\\"exportInputTable(r)\\\" style=\\\"cursor: pointer\\\"><span class=\\\"glyphicon glyphicon-download-alt\\\"></span></a>\\r\\n                            <table #inputsTable>\\r\\n                                <tr><td>{{rr.name}}</td></tr>\\r\\n                            </table>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <br />\\r\\n                    <br />\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <table #resultsTable style=\\\"border:solid 1px gray\\\" class=\\\"table\\\">\\r\\n                                <thead>\\r\\n                                    <tr>\\r\\n                                        <th class=\\\"col-xs-6\\\">Description</th>\\r\\n                                        <th>Value</th>\\r\\n                                        <th *ngIf=\\\"rr.results[0].equivalentYears>0\\\">Equivalent<br/>Years</th>\\r\\n                                    </tr>\\r\\n                                </thead>\\r\\n                                <tbody>\\r\\n                                    <tr *ngFor=\\\"let result of rr.results\\\">\\r\\n                                        <td>{{result.description}} ({{result.code}})</td>\\r\\n                                        <td>{{sigFigures(result.value)}}</td>\\r\\n                                        <td *ngIf=\\\"rr.results[0].equivalentYears>0\\\">{{result.equivalentYears}}</td>\\r\\n                                    </tr>\\r\\n                                </tbody>\\r\\n                            </table>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div> --><!-- end 'Area-averaged'-->\\r\\n            </div>\\r\\n        </div> <!-- end for each Scenario-->\\r\\n\\r\\n        <!-- Citations -->\\r\\n        <h2 id=\\\"citations\\\" style=\\\"margin:0;padding:0\\\">Citations</h2>\\r\\n        <div *ngFor=\\\"let sc of scenarios\\\">\\r\\n            <div *ngFor=\\\"let c of sc.citations\\\"><!--\\\" | unique\\\">-->\\r\\n            <a [href]=\\\"c.citationURL\\\" [target]=\\\"_blank\\\">\\r\\n                <div>{{c.author}}</div>\\r\\n                <div>{{c.title}}</div>\\r\\n            </a>\\r\\n            <br />\\r\\n        </div>\\r\\n        <!-- ngfor each chart being added show here\\r\\n            //if showCharts_btn is true == show the charts and showChartBtn_txt says \\\"Hide\\\"\\r\\n            //if showCharts_btn is false == hide the charts and showChartBtn_txt says \\\"Show\\\" -->\\r\\n        <!-- charts-->\\r\\n        <div id=\\\"chart\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-xs-12\\\" *ngIf=\\\"hydroChartsArray.length >0\\\" style=\\\"padding-bottom: 25px !important;\\\">\\r\\n                    <h2 class=\\\"charts-header\\\">Charts</h2>\\r\\n                    <button class=\\\"hidden-print\\\" style=\\\"display:inline-block;\\\" type=\\\"button\\\" (click)=\\\"showHideCharts()\\\">{{showChartBtn_txt}}</button>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div [hidden]=\\\"!showCharts_btn\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-xs-12\\\" *ngFor=\\\"let c of hydroChartsArray;let i = index\\\" style=\\\"display:flex;\\\"> <!-- For Each hydroChartsArray start -->\\r\\n                        <div class=\\\"chart-wrapper\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"pull-right hidden-print\\\" (click)=\\\"removeHydroChart(i)\\\">x</button><br clear=\\\"all\\\" />\\r\\n                            <chart (load)=\\\"saveInstance($event.context)\\\" [options]=\\\"c\\\"></chart>\\r\\n                        </div>\\r\\n                        <div class=\\\"hidden-print\\\" *ngIf=\\\"selectedPlot=='Hydrograph'\\\" style=\\\"flex-grow:4;\\\">\\r\\n                            <!-- Start of FORM for hydrochart -->\\r\\n                            <form id=\\\"myChartForm\\\" name=\\\"myChartForm\\\" #myChartForm=\\\"ngForm\\\" (ngSubmit)=\\\"refreshHydrograph()\\\">\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                    <label class=\\\"col-xs-5\\\">Recurrence Interval:</label>\\r\\n                                    <div class=\\\"col-xs-5\\\">\\r\\n                                        <span class=\\\"select-wim\\\">\\r\\n                                            <select [(ngModel)]=\\\"hydrographs[i].recurrence\\\" (ngModelChange)=\\\"refreshHydrograph(i, myChartForm.form.controls)\\\" name=\\\"recurrence\\\">\\r\\n                                                <option [value]=\\\"r\\\" *ngFor=\\\"let r of hChartXAxisValues\\\">{{r}}</option>\\r\\n                                            </select>\\r\\n                                        </span>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group\\\" style=\\\"padding-top:5px;\\\">\\r\\n                                    <label class=\\\"col-xs-5\\\">Lag Time (hrs):</label>\\r\\n                                    <div class=\\\"col-xs-5\\\">\\r\\n                                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"lagTime\\\" (keypress)=\\\"_keyPress($event)\\\" [(ngModel)]=\\\"hydrographs[i].lagTime\\\" (keyup)=\\\"refreshHydrograph(i, myChartForm.form.controls)\\\">\\r\\n                                    </div>\\r\\n                                </div>\\r\\n\\r\\n                                <br clear=\\\"all\\\" />\\r\\n                                <div class=\\\"hidden-print\\\"><a class=\\\"hidden-print simple-btn\\\" (click)=\\\"showHideAdditionalChartSettings(i)\\\" style=\\\"cursor: pointer; margin-left: 15px;\\\">More options</a></div>\\r\\n                                <br clear=\\\"all\\\" />\\r\\n                                <div *ngIf=\\\"hydrographs[i]?.showExtraSettings\\\" [hidden]=\\\"!hydrographs[i].showExtraSettings\\\" class=\\\"panel panel-default hidden-print\\\" style=\\\"border: none !important;\\\">\\r\\n                                    <div class=\\\"panel-body\\\">\\r\\n                                        <div style=\\\"font-size: small\\\">\\r\\n                                            <span>* To zoom in, click and drag a box in the chart</span>\\r\\n\\r\\n                                        </div>\\r\\n                                        <!-- AXIS -->\\r\\n                                        <div>\\r\\n                                            <div style=\\\"font-size: 16px !important; font-weight: bold !important;\\\">Axes</div>\\r\\n                                            <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                <label class=\\\"control-label\\\">Choose Axis to update:</label>\\r\\n                                                <div>\\r\\n                                                    <div style=\\\"padding-right: 10px\\\">\\r\\n                                                        <input type=\\\"radio\\\"  name=\\\"axis\\\" [(ngModel)]=\\\"hydrographs[i].axis\\\" value=\\\"BottomX\\\" (click)=\\\"axis='BottomX'\\\" />Bottom X\\r\\n                                                    </div>\\r\\n                                                    <div>\\r\\n                                                        <input type=\\\"radio\\\" name=\\\"axis\\\" [(ngModel)]=\\\"hydrographs[i].axis\\\" value=\\\"LeftY\\\" (click)=\\\"axis='LeftY'\\\" />Left Y\\r\\n                                                    </div>\\r\\n                                                </div>\\r\\n                                            </div> <!-- end (AXIS) form group  -->\\r\\n                                            <!-- TYPE -->\\r\\n                                            <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                <label class=\\\"control-label\\\">Type:</label>\\r\\n                                                <div [hidden]=\\\"hydrographs[i].axis != 'BottomX'\\\">\\r\\n                                                    <span style=\\\"padding-right:10px\\\">\\r\\n                                                        <input type=\\\"radio\\\" name=\\\"type_BX\\\" [(ngModel)]=\\\"hydrographs[i].type_BX\\\" (click)=\\\"setXaxisType(i, 'linear')\\\" value=\\\"linear\\\" />Linear\\r\\n                                                    </span>\\r\\n                                                    <span>\\r\\n                                                        <input type=\\\"radio\\\" name=\\\"type_BX\\\" [(ngModel)]=\\\"hydrographs[i].type_BX\\\" (click)=\\\"setXaxisType(i, 'logarithmic')\\\" value=\\\"logarithmic\\\" />Logarithmic\\r\\n                                                    </span>\\r\\n                                                </div>\\r\\n                                                <div [hidden]=\\\"hydrographs[i].axis != 'LeftY'\\\">\\r\\n                                                    <span style=\\\"padding-right: 10px\\\">\\r\\n                                                        <input type=\\\"radio\\\" name=\\\"type_LY\\\" [(ngModel)]=\\\"hydrographs[i].type_LY\\\" (click)=\\\"setYaxisType(i, 'linear')\\\" value=\\\"linear\\\" />Linear\\r\\n                                                    </span>\\r\\n                                                    <span>\\r\\n                                                        <input type=\\\"radio\\\" name=\\\"type_LY\\\" [(ngModel)]=\\\"hydrographs[i].type_LY\\\" (click)=\\\"setYaxisType(i, 'logarithmic')\\\" value=\\\"logarithmic\\\" />Logarithmic\\r\\n                                                    </span>\\r\\n                                                </div>\\r\\n                                            </div> <!-- end (TYPE) form group -->\\r\\n                                            <!-- TITLE -->\\r\\n                                            <div class=\\\"form-group  col-xs-12\\\">\\r\\n                                                <label class=\\\"control-label\\\" style=\\\"font-size: 16px !important; font-weight: bold !important;\\\">Axis Title:</label>\\r\\n                                                <div [hidden]=\\\"hydrographs[i].axis != 'BottomX'\\\">\\r\\n                                                    <textarea cols=\\\"60\\\" rows=\\\"4\\\" class=\\\"form-control\\\" [innerHTML]=\\\"hydrographs[i].title_BX\\\" name=\\\"title_BX\\\" (keyup)=\\\"updateBXtitle(i)\\\" [(ngModel)]=\\\"hydrographs[i].title_BX\\\"></textarea>\\r\\n                                                </div>\\r\\n                                                <div [hidden]=\\\"hydrographs[i].axis != 'LeftY'\\\">\\r\\n                                                    <textarea cols=\\\"60\\\" rows=\\\"4\\\" class=\\\"form-control\\\" [innerHTML]=\\\"hydrographs[i].title_LY\\\" name=\\\"title_LY\\\" (keyup)=\\\"updateLYtitle(i)\\\"  [(ngModel)]=\\\"hydrographs[i].title_LY\\\"></textarea>\\r\\n                                                </div>\\r\\n                                            </div> <!-- end (TITLE) form group -->\\r\\n                                            <!-- MAJOR UNITS -->\\r\\n                                            <div class=\\\"form-group col-xs-4\\\">\\r\\n                                                <label class=\\\"control-label\\\">Major Units:</label>\\r\\n                                                <div [hidden]=\\\"hydrographs[i].axis != 'BottomX'\\\">\\r\\n                                                    <span style=\\\"padding-right: 10px\\\"><input type=\\\"checkbox\\\" name=\\\"majorGrid_BX\\\" (change)=\\\"setXChartLines(i, 'gridLineWidth', $event.target.checked)\\\" [(ngModel)]=\\\"hydrographs[i].majorGrid_BX\\\" /> grid</span>\\r\\n                                                    <span><input type=\\\"checkbox\\\" name=\\\"majorTic_BX\\\" (change)=\\\"setXChartLines(i, 'tickWidth', $event.target.checked)\\\" [(ngModel)]=\\\"hydrographs[i].majorTic_BX\\\"  /> tics</span>\\r\\n                                                </div>\\r\\n                                                <div [hidden]=\\\"hydrographs[i].axis != 'LeftY'\\\">\\r\\n                                                    <span style=\\\"padding-right: 10px\\\"><input type=\\\"checkbox\\\" name=\\\"majorGrid_LY\\\" (change)=\\\"setYChartLines(i, 'gridLineWidth', $event.target.checked)\\\" [(ngModel)]=\\\"hydrographs[i].majorGrid_LY\\\" /> grid</span>\\r\\n                                                    <span><input type=\\\"checkbox\\\" name=\\\"majorTic_LY\\\" (change)=\\\"setYChartLines(i, 'tickWidth', $event.target.checked)\\\" [(ngModel)]=\\\"hydrographs[i].majorTic_LY\\\" /> tics</span>\\r\\n                                                </div>\\r\\n                                            </div> <!-- end (MAJOR UNITS) form group -->\\r\\n\\r\\n                                            <!-- MINOR UNITS -->\\r\\n                                            <div class=\\\"form-group col-xs-4\\\">\\r\\n                                                <label class=\\\"control-label\\\">Minor Units:</label>\\r\\n                                                <div [hidden]=\\\"hydrographs[i].axis != 'BottomX'\\\">\\r\\n                                                    <span style=\\\"padding-right: 10px\\\"><input [disabled]=\\\"hydrographs[i].type_BX == 'logarithmic'\\\" type=\\\"checkbox\\\" name=\\\"minorGrid_BX\\\" (change)=\\\"setXChartLines(i, 'minorGridLineWidth', $event.target.checked)\\\" [(ngModel)]=\\\"hydrographs[i].minorGrid_BX\\\"/> grid</span>\\r\\n                                                    <span style=\\\"padding-right:5px\\\"><input [disabled]=\\\"hydrographs[i].type_BX == 'logarithmic'\\\" type=\\\"checkbox\\\" name=\\\"minorTic_BX\\\" (change)=\\\"setXChartLines(i, 'minorTickWidth', $event.target.checked)\\\" [(ngModel)]=\\\"hydrographs[i].minorTic_BX\\\" /> tics</span>\\r\\n                                                    <span [hidden]=\\\"hydrographs[i].type_LY != 'logarithmic' && hydrographs[i].type_BX != 'logarithmic'\\\" style=\\\"font-size: small\\\">(Disabled with Log)</span>\\r\\n                                                </div>\\r\\n\\r\\n                                                <div [hidden]=\\\"hydrographs[i].axis != 'LeftY'\\\">\\r\\n                                                    <span style=\\\"padding-right: 10px\\\"><input [disabled]=\\\"hydrographs[i].type_LY == 'logarithmic'\\\" type=\\\"checkbox\\\" name=\\\"minorGrid_LY\\\" (change)=\\\"setYChartLines(i, 'minorGridLineWidth', $event.target.checked)\\\" [(ngModel)]=\\\"hydrographs[i].minorGrid_LY\\\" /> grid</span>\\r\\n                                                    <span style=\\\"padding-right:5px\\\"><input [disabled]=\\\"hydrographs[i].type_LY == 'logarithmic'\\\" type=\\\"checkbox\\\" name=\\\"minorTic_LY\\\" (change)=\\\"setYChartLines(i, 'minorTickWidth', $event.target.checked)\\\" [(ngModel)]=\\\"hydrographs[i].minorTic_LY\\\" /> tics</span>\\r\\n                                                    <span [hidden]=\\\"hydrographs[i].type_LY != 'logarithmic' && hydrographs[i].type_BX != 'logarithmic'\\\" style=\\\"font-size: x-small;font-weight: bold\\\">(Disabled with Log)</span>\\r\\n                                                </div>\\r\\n                                            </div> <!-- end (MINOR UNITS) form group -->\\r\\n                                            <div class=\\\"form-group col-xs-4\\\">\\r\\n                                                <label class=\\\"control-label\\\">\\r\\n                                                    <div [hidden]=\\\"hydrographs[i].axis != 'BottomX'\\\">\\r\\n                                                        <span><input type=\\\"checkbox\\\" name=\\\"reverse_BX\\\" (change)=\\\"setReverseData(i, 'bx', $event.target.checked)\\\" [(ngModel)]=\\\"hydrographs[i].reverse_BX\\\"/> reverse</span>\\r\\n                                                    </div>\\r\\n                                                    <div [hidden]=\\\"hydrographs[i].axis != 'LeftY'\\\">\\r\\n                                                        <span><input type=\\\"checkbox\\\" name=\\\"reverse_LY\\\" (change)=\\\"setReverseData(i, 'ly', $event.target.checked)\\\" [(ngModel)]=\\\"hydrographs[i].reverse_LY\\\"/> reverse</span>\\r\\n                                                    </div>\\r\\n                                                </label>\\r\\n                                            </div>\\r\\n                                        </div><!-- end Axes -->\\r\\n                                        <br clear=\\\"all\\\"/>\\r\\n                                        <!--Curves and Legend-->\\r\\n                                        <div>\\r\\n                                            <div style=\\\"font-size: 16px !important; font-weight: bold !important;\\\">Curves and Legend</div>\\r\\n                                            <div><!--Curves color/width -->\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">Curve Color:</label>\\r\\n                                                  <div><input [colorPicker]=\\\"hydrographs[i].colorPickerColor\\\" (colorPickerChange)=\\\"changeLineColor(i,$event)\\\" [style.background]=\\\"hydrographs[i].colorPickerColor\\\" [value]=\\\"hydrographs[i].colorPickerColor\\\"/></div>\\r\\n                                                </div>\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">Curve Width:</label>\\r\\n                                                    <div><input type=\\\"text\\\" name=\\\"lineWidth\\\" (keyup)=\\\"setLineWidth(i)\\\" [(ngModel)]=\\\"hydrographs[i].lineWidth\\\"/></div>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div><!-- Line symbol color/point symbol -->\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">Line Symbol Color:</label>\\r\\n                                                    <div><input [colorPicker]=\\\"hydrographs[i].lineSymbolFillColor\\\" (colorPickerChange)=\\\"changeLineSymbolColor(i,$event)\\\" [style.background]=\\\"hydrographs[i].lineSymbolFillColor\\\" [value]=\\\"hydrographs[i].lineSymbolFillColor\\\"/></div>\\r\\n                                                </div>\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">Point Symbol:</label>\\r\\n                                                    <div>\\r\\n                                                        <span class=\\\"select-wim\\\">\\r\\n                                                            <select [(ngModel)]=\\\"hydrographs[i].lineSymbol\\\" (ngModelChange)=\\\"setLineSymbol(i,$event)\\\" name=\\\"lineSymbol\\\">\\r\\n                                                                <option value=\\\"circle\\\">Circle</option>\\r\\n                                                                <option value=\\\"square\\\">Square</option>\\r\\n                                                                <option value=\\\"diamond\\\">Diamond</option>\\r\\n                                                                <option value=\\\"triangle\\\">Triangle</option>\\r\\n                                                                <option value=\\\"triangle-down\\\">Triangle-down</option>\\r\\n                                                            </select>\\r\\n                                                        </span>\\r\\n                                                    </div>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <br clear=\\\"all\\\"/>\\r\\n                                            <div>\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">Legend Label:</label>\\r\\n                                                    <div><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"curveLabel\\\" [(ngModel)]=\\\"hydrographs[i].curveLabel\\\" (keyup)=\\\"updateCurveLabel(i)\\\" /></div>\\r\\n                                                </div>\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">\\r\\n                                                        <input type=\\\"checkbox\\\" name=\\\"dataLabels\\\" (change)=\\\"updateDataLabels(i, $event.target.checked)\\\" [(ngModel)]=\\\"hydrographs[i].dataLabels\\\"/> Show Data Values\\r\\n                                                    </label>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div> <!-- end curves-->\\r\\n                                    </div> <!-- end panel-body -->\\r\\n                                </div>\\r\\n                                <br clear=\\\"all\\\" />\\r\\n                            </form>\\r\\n                        </div><!-- end form for inputs-->\\r\\n                    </div> <!-- end for each hydroChartsArray loop -->\\r\\n                </div>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"fChartOptions\\\">\\r\\n                <div *ngIf=\\\"hydroChartsArray.length == 0\\\" style=\\\"padding-left: 0 !important; padding-bottom: 25px !important;\\\">\\r\\n                    <!-- show show/hide button only if there are no hydrographs above it (because that has the button also)-->\\r\\n                    <h2 class=\\\"charts-header\\\">Charts</h2>\\r\\n\\r\\n                    <button class=\\\"hidden-print\\\" style=\\\"display:inline-block;\\\" type=\\\"button\\\" (click)=\\\"showHideCharts()\\\">{{showChartBtn_txt}}</button>\\r\\n                </div>\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-xs-12\\\" *ngIf=\\\"showCharts_btn\\\" style=\\\"display: flex;\\\">\\r\\n                        <div class=\\\"chart-wrapper\\\">\\r\\n                            <button type=\\\"button\\\" class=\\\"pull-right hidden-print\\\" (click)=\\\"removeFreqChart()\\\">x</button><br clear=\\\"all\\\" />\\r\\n                            <chart (load)=\\\"saveFreqInstance($event.context)\\\" [options]=\\\"fChartOptions\\\"></chart>\\r\\n                        </div>\\r\\n                        <div style=\\\"flex-grow: 4;\\\">\\r\\n                            <br clear=\\\"all\\\" />\\r\\n                            <div class=\\\"hidden-print\\\"><a (click)=\\\"showHideAddFChartSettings()\\\" class=\\\"simple-btn\\\" style=\\\"cursor: pointer; margin-left: 15px;\\\">More options</a></div>\\r\\n                            <br clear=\\\"all\\\" />\\r\\n                            <div *ngIf=\\\"showExtraFREQSettings\\\" [hidden]=\\\"!showExtraFREQSettings\\\" class=\\\"panel panel-default hidden-print\\\" style=\\\"border: none !important;\\\">\\r\\n                                <div class=\\\"panel-body\\\">\\r\\n                                    <form id=\\\"myFChartForm\\\" name=\\\"myFChartForm\\\" #myFChartForm=\\\"ngForm\\\">\\r\\n                                        <div style=\\\"font-size: small\\\">\\r\\n                                            <span>* To zoom in, click and drag a box in the chart</span>\\r\\n                                        </div>\\r\\n                                        <!-- AXIS -->\\r\\n                                        <div>\\r\\n                                            <div style=\\\"font-size: 16px !important; font-weight: bold !important;\\\">Axes</div>\\r\\n                                            <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                <label class=\\\"control-label\\\">Choose Axis to update:</label>\\r\\n                                                <div>\\r\\n                                                    <div style=\\\"padding-right: 10px\\\">\\r\\n                                                        <input type=\\\"radio\\\"  name=\\\"Faxis\\\" [(ngModel)]=\\\"frequencyPlotChart.Faxis\\\" value=\\\"BottomX\\\" (click)=\\\"Faxis='BottomX'\\\" />Bottom X\\r\\n                                                    </div>\\r\\n                                                    <div>\\r\\n                                                        <input type=\\\"radio\\\" name=\\\"Faxis\\\" [(ngModel)]=\\\"frequencyPlotChart.Faxis\\\" value=\\\"LeftY\\\" (click)=\\\"Faxis='LeftY'\\\" />Left Y\\r\\n                                                    </div>\\r\\n                                                </div>\\r\\n                                            </div> <!-- end (AXIS) form group  -->\\r\\n                                            <!-- TYPE -->\\r\\n                                            <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                <label class=\\\"control-label\\\" [hidden]=\\\"frequencyPlotChart.Faxis != 'BottomX'\\\">Type:</label>\\r\\n                                                <div [hidden]=\\\"frequencyPlotChart.Faxis != 'BottomX'\\\">\\r\\n                                                    <span>\\r\\n                                                        <input type=\\\"radio\\\" name=\\\"type_BX\\\" [(ngModel)]=\\\"frequencyPlotChart.type_BX\\\" (click)=\\\"setFreqXaxisType('returnPeriod')\\\" value=\\\"returnPeriod\\\" />Return Period\\r\\n                                                    </span><br/>\\r\\n                                                    <span style=\\\"padding-right: 10px\\\">\\r\\n                                                        <input type=\\\"radio\\\" name=\\\"type_BX\\\" [(ngModel)]=\\\"frequencyPlotChart.type_BX\\\" (click)=\\\"setFreqXaxisType('percent')\\\" value=\\\"percent\\\" />Percent\\r\\n                                                    </span>\\r\\n                                                    <span>\\r\\n                                                        <input type=\\\"radio\\\" name=\\\"type_BX\\\" [(ngModel)]=\\\"frequencyPlotChart.type_BX\\\" (click)=\\\"setFreqXaxisType('fraction')\\\" value=\\\"fraction\\\" />Fraction\\r\\n                                                    </span>\\r\\n\\r\\n                                                </div>\\r\\n                                            </div> <!-- end (TYPE) form group -->\\r\\n                                            <!-- TITLE -->\\r\\n                                            <div class=\\\"form-group  col-xs-12\\\">\\r\\n                                                <label class=\\\"control-label\\\" style=\\\"font-size: 16px !important; font-weight: bold !important;\\\">Axis Title:</label>\\r\\n                                                <div [hidden]=\\\"frequencyPlotChart.Faxis != 'BottomX'\\\">\\r\\n                                                    <textarea cols=\\\"60\\\" rows=\\\"4\\\" class=\\\"form-control\\\" [innerHTML]=\\\"frequencyPlotChart.title_BX\\\" name=\\\"title_BX\\\" (keyup)=\\\"updateFreqBXtitle()\\\" [(ngModel)]=\\\"frequencyPlotChart.title_BX\\\"></textarea>\\r\\n                                                </div>\\r\\n                                                <div [hidden]=\\\"frequencyPlotChart.Faxis != 'LeftY'\\\">\\r\\n                                                    <textarea cols=\\\"60\\\" rows=\\\"4\\\" class=\\\"form-control\\\" [innerHTML]=\\\"frequencyPlotChart.title_LY\\\" name=\\\"title_LY\\\" (keyup)=\\\"updateFreqLYtitle()\\\"  [(ngModel)]=\\\"frequencyPlotChart.title_LY\\\"></textarea>\\r\\n                                                </div>\\r\\n                                            </div> <!-- end (TITLE) form group -->\\r\\n                                            <!-- MAJOR UNITS -->\\r\\n                                            <div class=\\\"form-group col-xs-4\\\">\\r\\n                                                <label class=\\\"control-label\\\">Major Units:</label>\\r\\n                                                <div [hidden]=\\\"frequencyPlotChart.Faxis != 'BottomX'\\\">\\r\\n                                                    <span style=\\\"padding-right: 10px\\\"><input type=\\\"checkbox\\\" name=\\\"majorGrid_BX\\\" (change)=\\\"setFreqXChartLines('gridLineWidth', $event.target.checked)\\\" [(ngModel)]=\\\"frequencyPlotChart.majorGrid_BX\\\" /> grid</span>\\r\\n                                                    <span><input type=\\\"checkbox\\\" name=\\\"majorTic_BX\\\" (change)=\\\"setFreqXChartLines('tickWidth', $event.target.checked)\\\" [(ngModel)]=\\\"frequencyPlotChart.majorTic_BX\\\"  /> tics</span>\\r\\n                                                </div>\\r\\n                                                <div [hidden]=\\\"frequencyPlotChart.Faxis != 'LeftY'\\\">\\r\\n                                                    <span style=\\\"padding-right: 10px\\\"><input type=\\\"checkbox\\\" name=\\\"majorGrid_LY\\\" (change)=\\\"setFreqYChartLines('gridLineWidth', $event.target.checked)\\\" [(ngModel)]=\\\"frequencyPlotChart.majorGrid_LY\\\" /> grid</span>\\r\\n                                                    <span><input type=\\\"checkbox\\\" name=\\\"majorTic_LY\\\" (change)=\\\"setFreqYChartLines('tickWidth', $event.target.checked)\\\" [(ngModel)]=\\\"frequencyPlotChart.majorTic_LY\\\" /> tics</span>\\r\\n                                                </div>\\r\\n                                            </div> <!-- end (MAJOR UNITS) form group -->\\r\\n\\r\\n                                            <!-- MINOR UNITS -->\\r\\n                                            <div class=\\\"form-group col-xs-4\\\">\\r\\n                                                <label class=\\\"control-label\\\">Minor Units:</label>\\r\\n                                                <div [hidden]=\\\"frequencyPlotChart.Faxis != 'BottomX'\\\">\\r\\n                                                    <span style=\\\"padding-right: 10px\\\">\\r\\n                                                        <input type=\\\"checkbox\\\" name=\\\"minorGrid_BX\\\" (change)=\\\"setFreqXChartLines('minorGridLineWidth', $event.target.checked)\\\" [(ngModel)]=\\\"frequencyPlotChart.minorGrid_BX\\\"/> grid\\r\\n                                                    </span>\\r\\n                                                    <span style=\\\"padding-right:5px\\\">\\r\\n                                                        <input type=\\\"checkbox\\\" name=\\\"minorTic_BX\\\" (change)=\\\"setFreqXChartLines('minorTickWidth', $event.target.checked)\\\" [(ngModel)]=\\\"frequencyPlotChart.minorTic_BX\\\" /> tics\\r\\n                                                    </span>\\r\\n                                                </div>\\r\\n\\r\\n                                                <div [hidden]=\\\"frequencyPlotChart.Faxis != 'LeftY'\\\">\\r\\n                                                    <span style=\\\"padding-right: 10px\\\">\\r\\n                                                        <input [disabled]=\\\"'true'\\\" type=\\\"checkbox\\\" name=\\\"minorGrid_LY\\\" [(ngModel)]=\\\"frequencyPlotChart.minorGrid_LY\\\" /> grid\\r\\n                                                    </span>\\r\\n                                                    <span style=\\\"padding-right:5px\\\">\\r\\n                                                        <input [disabled]=\\\"'true'\\\" type=\\\"checkbox\\\" name=\\\"minorTic_LY\\\" [(ngModel)]=\\\"frequencyPlotChart.minorTic_LY\\\" /> tics\\r\\n                                                    </span>\\r\\n                                                    <span style=\\\"font-size: x-small;font-weight: bold\\\">(Disabled with Log)</span>\\r\\n                                                </div>\\r\\n                                            </div> <!-- end (MINOR UNITS) form group -->\\r\\n                                            <div class=\\\"form-group col-xs-4\\\">\\r\\n                                                <label class=\\\"control-label\\\">\\r\\n                                                    <div [hidden]=\\\"frequencyPlotChart.Faxis != 'BottomX'\\\">\\r\\n                                                        <span><input type=\\\"checkbox\\\" name=\\\"reverse_BX\\\" (change)=\\\"setFreqReverseData('bx', $event.target.checked)\\\" [(ngModel)]=\\\"frequencyPlotChart.reverse_BX\\\"/> reverse</span>\\r\\n                                                    </div>\\r\\n                                                    <div [hidden]=\\\"frequencyPlotChart.Faxis != 'LeftY'\\\">\\r\\n                                                        <span><input type=\\\"checkbox\\\" name=\\\"reverse_LY\\\" (change)=\\\"setFreqReverseData('ly', $event.target.checked)\\\" [(ngModel)]=\\\"frequencyPlotChart.reverse_LY\\\"/> reverse</span>\\r\\n                                                    </div>\\r\\n                                                </label>\\r\\n                                            </div>\\r\\n                                        </div><!-- end Axes -->\\r\\n                                        <br clear=\\\"all\\\"/>\\r\\n                                        <div>\\r\\n                                            <div style=\\\"font-size: 16px !important; font-weight: bold !important;\\\">Curves and Legend</div>\\r\\n                                            <div>\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">Curve Color:</label>\\r\\n                                                    <div><input [colorPicker]=\\\"frequencyPlotChart.colorPickerColor\\\" (colorPickerChange)=\\\"changeFreqLineColor($event)\\\" [style.background]=\\\"frequencyPlotChart.colorPickerColor\\\" [value]=\\\"frequencyPlotChart.colorPickerColor\\\"/></div>\\r\\n                                                </div>\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">Curve Width:</label>\\r\\n                                                    <div><input type=\\\"text\\\" name=\\\"lineWidth\\\" (keyup)=\\\"setFreqLineWidth()\\\" [(ngModel)]=\\\"frequencyPlotChart.lineWidth\\\"/></div>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div>\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">Line Symbol Color:</label>\\r\\n                                                    <div><input [colorPicker]=\\\"frequencyPlotChart.lineSymbolFillColor\\\" (colorPickerChange)=\\\"changeFreqLineSymbolColor($event)\\\" [style.background]=\\\"frequencyPlotChart.lineSymbolFillColor\\\" [value]=\\\"frequencyPlotChart.lineSymbolFillColor\\\"/></div>\\r\\n                                                </div>\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">Point Symbol:</label>\\r\\n                                                    <div>\\r\\n                                                        <span class=\\\"select-wim\\\">\\r\\n                                                            <select [(ngModel)]=\\\"frequencyPlotChart.lineSymbol\\\" (ngModelChange)=\\\"setFreqLineSymbol($event)\\\" name=\\\"lineSymbol\\\">\\r\\n                                                                <option value=\\\"circle\\\">Circle</option>\\r\\n                                                                <option value=\\\"square\\\">Square</option>\\r\\n                                                                <option value=\\\"diamond\\\">Diamond</option>\\r\\n                                                                <option value=\\\"triangle\\\">Triangle</option>\\r\\n                                                                <option value=\\\"triangle-down\\\">Triangle-down</option>\\r\\n                                                            </select>\\r\\n                                                        </span>\\r\\n                                                    </div>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <br clear=\\\"all\\\"/>\\r\\n                                            <div>\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">Legend Label:</label>\\r\\n                                                    <div><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"curveLabel\\\" [(ngModel)]=\\\"frequencyPlotChart.curveLabel\\\" (keyup)=\\\"updateFreqCurveLabel()\\\" /></div>\\r\\n                                                </div>\\r\\n                                                <div class=\\\"form-group col-xs-6\\\">\\r\\n                                                    <label class=\\\"control-label\\\">\\r\\n                                                        <input type=\\\"checkbox\\\" name=\\\"dataLabels\\\" (change)=\\\"updateFreqDataLabels($event.target.checked)\\\" [(ngModel)]=\\\"frequencyPlotChart.dataLabels\\\"/> Show Data Values\\r\\n                                                    </label>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div> <!-- end curves-->\\r\\n                                    </form>\\r\\n                                </div> <!-- end panel-body -->\\r\\n                            </div>\\r\\n                            <br clear=\\\"all\\\" />\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br clear=\\\"all\\\"/>\\r\\n\\r\\n        <!-- appendix section for equation -->\\r\\n        <a class=\\\"hidden-print\\\" (click)=\\\"exportAppendix()\\\" style=\\\"cursor: pointer\\\"><span class=\\\"glyphicon glyphicon-download-alt\\\"></span></a>\\r\\n        <h2 style=\\\"margin:0;padding:0\\\" id=\\\"appendix\\\">Appendix</h2>\\r\\n\\r\\n        <h4>Equations</h4>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div *ngFor=\\\"let e of equationResults\\\" class=\\\"col-xs-10\\\">\\r\\n            <table style=\\\"border:solid 1px gray\\\" class=\\\"table\\\">\\r\\n                    <tr><td colspan=\\\"2\\\">{{e.name}}</td><tr>\\r\\n                    <tr *ngFor=\\\"let c of e.formulas\\\">\\r\\n                        <td>{{c.Code}} = </td>\\r\\n                        <td><span [MathJax]=\\\"c.Equation\\\">{{c.Equation}}</span></td>\\r\\n                    </tr>\\r\\n            </table>\\r\\n            </div><!--End equations-->\\r\\n        </div>\\r\\n        <br clear=\\\"all\\\"/>\\r\\n\\r\\n        <h4>Parameter Definitions</h4>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-8\\\">\\r\\n                <table style=\\\"border:solid 1px gray\\\" class=\\\"table\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th class=\\\"col-xs-3\\\">Name</th>\\r\\n                            <th class=\\\"col-xs-1\\\">Abbrev</th>\\r\\n                            <th class=\\\"col-xs-8\\\">Description</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let p of uniqueParameters\\\">\\r\\n                            <td>{{p.name}}</td>\\r\\n                            <td>{{p.code}}</td>\\r\\n                            <td>{{p.description}}</td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n            </table>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br clear=\\\"all\\\"/>\\r\\n        <h4>Unit Types</h4>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-8\\\">\\r\\n                <table style=\\\"border:solid 1px gray\\\" class=\\\"table\\\">\\r\\n                    <thead><tr>\\r\\n                            <th class=\\\"col-xs-1\\\">Abbrev</th>\\r\\n                            <th class=\\\"col-xs-8\\\">Unit</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let u of uniqueUnitTypes\\\">\\r\\n                            <td>(<span [innerHTML]=\\\"setSuperScript(u.abbr)\\\"></span>)</td>\\r\\n                            <td>{{u.unit}}</td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br clear=\\\"all\\\"/>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-wim-primary hidden-print\\\" (click)=\\\"printPage()\\\">Print Report</button>\\r\\n        <br/><br/><br/>\\r\\n    </div><!-- end results back -->\\r\\n</div>\\r\\n<router-outlet></router-outlet>\"","import { Component, OnInit, Inject, ViewChildren, ViewContainerRef } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/platform-browser';\r\n\r\nimport { Region } from '../shared/interfaces/region';\r\nimport { Regressionregion } from '../shared/interfaces/regressionregion';\r\nimport { Regressiontype } from '../shared/interfaces/regressiontype';\r\nimport { Statisticgroup } from '../shared/interfaces/statisticgroup';\r\nimport { Scenario } from '../shared/interfaces/scenario';\r\nimport { Parameter } from '../shared/interfaces/parameter';\r\nimport { Unittype } from '../shared/interfaces/unittype';\r\nimport { Limit } from '../shared/interfaces/limit';\r\nimport { Equationresults } from '../shared/interfaces/equationresults';\r\nimport { Hydrochart } from '../shared/interfaces/hydrochart';\r\nimport { Freqchart } from '../shared/interfaces/freqchart';\r\nimport { Chart } from '../shared/interfaces/chart';\r\nimport { NSSService } from '../shared/services/app.service';\r\nimport { ToasterContainerComponent, ToasterService } from 'angular2-toaster/angular2-toaster';\r\nimport { Toast } from 'angular2-toaster/src/toast';\r\nimport { PageScrollService, PageScrollInstance } from 'ng2-page-scroll';\r\nimport * as Highcharts from 'highcharts';\r\nimport { LoaderService } from '../shared/components/loader.service';\r\n\r\ndeclare var MathJax: {\r\n    Hub: { Queue: (param: Object[]) => void };\r\n};\r\n\r\n@Component({\r\n    selector: 'wim-mainview',\r\n    templateUrl: './mainview.component.html',\r\n    styleUrls: ['./mainview.component.css']\r\n})\r\nexport class MainviewComponent implements OnInit {\r\n    @ViewChildren('inputsTable', { read: ViewContainerRef }) inputTable;\r\n    @ViewChildren('resultsTable', { read: ViewContainerRef }) resultTable;\r\n\r\n    public title: string;\r\n    public resultsBack: boolean; // flag that swaps content on mainpage from scenarios w/o results to those with results\r\n    public equationResults: Equationresults[]; // used in Appendix\r\n    public showWeights: boolean; // if more than 1 regRegion, then show input for weighted\r\n    public timestamp: Date; // display a time stamp when they first get here.\r\n    public toast: Toast; // notification when values are required\r\n    public selectedRegion: Region;\r\n    public selectedRegressionRegion: Array<Regressionregion>;\r\n    public get selectedStatisticGrp(): Array<Statisticgroup> {\r\n        return this._nssService.selectedStatGroups;\r\n    }\r\n    public get selectedRegType(): Array<Regressiontype> {\r\n        return this._nssService.selectedRegressionTypes;\r\n    }\r\n    public scenarios: Scenario[];\r\n    // -+-+-+-+ Chart parts -+-+-+-+-+-+\r\n    public hydrographs: Array<Hydrochart>; // holds all the IHydros so each chart has their own\r\n    public hydroChartsArray: Chart[]; // holds all hydro charts that are desired.\r\n    public hChartOptions: Chart; // hydro chart\r\n    public hChartXAxisValues: string[]; // holds Recurrence Interval dropdown values for chart\r\n    // public hChartYAxisText: string;               // chart y axis\r\n    public fChartOptions: any; // frequency chart\r\n    public fChartValues: Array<number>[]; // frequency data\r\n    public showCharts_btn: boolean; // toggle button boolean\r\n    public showChartBtn_txt: string; // string \"show\" / \"hide\"\r\n    public selectedPlot: string; // which plot are they asking for (\"Hydrograph\" or \"Frequency Plot\")\r\n    public charts: Array<any>; // chart instance for hydroChartsArray\r\n    public freqChart: any; // chart instance for frequency plot\r\n    public uniqueParameters: Array<Parameter>; // holds unique list of parameters\r\n    public uniqueUnitTypes: Array<Unittype>; // holds unique list of unit types for parameters to show in appendix\r\n    public multipleRegRegions: boolean; // if multiple regRegions, set this to true\r\n    private DIMLESS_ARRAY = [\r\n        [0.25, 0.12], [0.3, 0.16], [0.35, 0.21], [0.4, 0.26], [0.45, 0.33], [0.5, 0.4], [0.55, 0.49], [0.6, 0.58], [0.65, 0.67], [0.7, 0.76],\r\n        [0.75, 0.84], [0.8, 0.9], [0.85, 0.95], [0.9, 0.98], [0.95, 1.00], [1.00, 0.99], [1.05, 0.96], [1.1, 0.92], [1.15, 0.86], [1.2, 0.8],\r\n        [1.25, 0.74], [1.3, 0.68], [1.35, 0.62], [1.4, 0.56], [1.45, 0.51], [1.5, 0.47], [1.55, 0.43], [1.6, 0.39], [1.65, 0.36], [1.7, 0.33],\r\n        [1.75, 0.3], [1.8, 0.28], [1.85, 0.26], [1.9, 0.24], [1.95, 0.22], [2.0, 0.2], [2.05, 0.19], [2.1, 0.17], [2.15, 0.16], [2.2, 0.15],\r\n        [2.25, 0.14], [2.3, 0.13], [2.35, 0.12], [2.4, 0.11]];\r\n    public frequencyPlotChart: Freqchart; // holder of the freq plot properties ()\r\n    public showExtraFREQSettings: boolean; // showhide flag for additional settings on frequency plot\r\n    public resultsErrorLength: number;\r\n    public appendixEquationsforExport: Array<string>;\r\n    private activeLayerID: number;\r\n\r\n    constructor(\r\n        private _nssService: NSSService,\r\n        private _loaderService: LoaderService,\r\n        private _toasterService: ToasterService,\r\n        @Inject(DOCUMENT) private _document: any,\r\n        private _pageScrollService: PageScrollService\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        this.title = 'NSS Report';\r\n        this.timestamp = new Date();\r\n        this.charts = []; // instantiate\r\n        this.hydroChartsArray = []; // instantiate\r\n        this.hydrographs = []; // instantiate\r\n        this.resultsBack = false;\r\n        this.multipleRegRegions = false;\r\n        this.resultsErrorLength = 0; // used for colspan on Errors <th>\r\n        this.selectedRegressionRegion = [];\r\n        // this is based on a behaviorSubject, so it gets an initial notification of [].\r\n        this._nssService.selectedRegRegions.subscribe((regRegions: Array<Regressionregion>) => {\r\n            this.selectedRegressionRegion = regRegions;\r\n            let queryObj: object = {}; // needed as the object needed in .setLayerDefs()\r\n            let queryString: string = '';\r\n            // if we have regRegions here, update map, else clear it\r\n            if (regRegions.length > 0) {\r\n                // build query string\r\n                this.selectedRegressionRegion.forEach(rr => {\r\n                    queryString += \"GRIDCODE LIKE '%\" + rr.code.toLowerCase() + \"%' OR \";\r\n                });\r\n            }\r\n            if (queryString != '') {\r\n                queryString = queryString.slice(0, -4); // remove the last ')R'\r\n\r\n                queryObj = { [this.activeLayerID]: queryString };\r\n            } else {\r\n                // clear the layerDefs14.\r\n                queryObj = { [this.activeLayerID]: '1=1' };\r\n            }\r\n        });\r\n        // subscribe to scenarios\r\n        this._nssService.scenarios.subscribe((s: Array<Scenario>) => {\r\n            this.scenarios = s;\r\n            this.resultsBack = false;\r\n            this.equationResults = [];\r\n            this.uniqueParameters = [];\r\n            this.uniqueUnitTypes = [];\r\n            let regID: string = '';\r\n            this.multipleRegRegions = false;\r\n            this.scenarios.forEach(s => {\r\n                this.appendixEquationsforExport = [];\r\n                // show weight inputs if more than 1 regression region chosen\r\n                this.showWeights = s.regressionRegions.length > 1 ? true : false;\r\n                if (s.regressionRegions.length > 1) this.multipleRegRegions = true;\r\n                else this.multipleRegRegions = false;\r\n\r\n                s.regressionRegions.forEach((rr, index) => {\r\n                    regID = '(RG_Code: ' + rr.code + ')'; // need to show the regID for each limit so they know which one they are out of range on\r\n                    if (rr.results) {\r\n                        if (rr.results[0].errors) {\r\n                            this.resultsErrorLength = rr.results[0].errors.length;\r\n                        }\r\n                        let eqResult: Equationresults = { name: '', formulas: [] };\r\n                        let equationString: string = '';\r\n                        if (index < 1) {\r\n                            // first time thru\r\n                            equationString = rr.name !== 'Area-Averaged' ? rr.name + '\\r\\n' : '';\r\n                        } else {\r\n                            let name = rr.name !== 'Area-Averaged' ? rr.name + '\\r\\n' : '';\r\n                            equationString = '\\r\\n' + name;\r\n                        }\r\n                        // only care if average result\r\n                        if (rr.id > 0) eqResult.name = rr.name;\r\n                        this.resultsBack = true;\r\n                        rr.results.forEach(R => {\r\n                            if (eqResult.name != '') {\r\n                                eqResult.formulas.push({ Code: R.code, Equation: this.buildEquation(rr.parameters, R.equation) });\r\n                                equationString += R.code + '= ,' + R.equation + '\\r\\n';\r\n                            }\r\n                        });\r\n                        if (rr.id > 0) this.equationResults.push(eqResult);\r\n                        this.appendixEquationsforExport.push(equationString); // push each equation string in for use when exporting appendix table later\r\n                        MathJax.Hub.Queue(['Typeset', MathJax.Hub, 'MathJax']); // for the appendix of equations\r\n                    } // end there's results\r\n                    // populate uniqueParameters and uniqueUnitTypes\r\n                    if (rr.id > 0) {\r\n                        rr.parameters.forEach(p => {\r\n                            // is this param code already in array list?\r\n                            let pIndex = this.uniqueParameters\r\n                                .map(function(parame) {\r\n                                    return parame.code;\r\n                                })\r\n                                .indexOf(p.code);\r\n                            if (pIndex < 0) {\r\n                                p.limitArray = [];\r\n                                if (p.limits != undefined) {\r\n                                    p.limits.rrID = regID;\r\n                                    p.limitArray.push(p.limits);\r\n                                }\r\n                                this.uniqueParameters.push(p);\r\n                            } else {\r\n                                // already in here. find the matching one and add it's limits to the LimitArray\r\n                                if (p.limits != undefined) p.limits.rrID = regID;\r\n                                this.uniqueParameters[pIndex].limitArray.push(p.limits);\r\n                            }\r\n                            // is this unitType already in the array list?\r\n                            let uIndex = this.uniqueUnitTypes\r\n                                .map(function(unit) {\r\n                                    return unit.abbr;\r\n                                })\r\n                                .indexOf(p.unitType.abbr);\r\n                            if (uIndex < 0) {\r\n                                // not in there yet\r\n                                this.uniqueUnitTypes.push(p.unitType);\r\n                            }\r\n                        });\r\n                    }\r\n                }); // end s.regressionRegion.forEach\r\n            });\r\n        });\r\n        // subscribe to getToast\r\n        this._nssService.getToast().subscribe((t: Toast) => {\r\n            this.toast = t;\r\n            this._toasterService.pop(this.toast);\r\n        });\r\n        // subscribe to charts\r\n        this._nssService.getChart().subscribe(c => {\r\n            if (c !== '') {\r\n                // scroll down to the chart section\r\n                let pageScrollInstance: PageScrollInstance = PageScrollInstance.simpleInstance(this._document, '#chart');\r\n                this._pageScrollService.start(pageScrollInstance);\r\n            }\r\n            if (c == 'Hydrograph') {\r\n                let H_areaAveraged: boolean = false;\r\n                this.selectedPlot = 'Hydrograph';\r\n                let hydroG: Hydrochart;\r\n                hydroG = {\r\n                    recurrence: null,\r\n                    lagTime: null,\r\n                    showExtraSettings: false,\r\n                    axis: 'BottomX',\r\n                    type_BX: 'linear',\r\n                    type_LY: 'linear',\r\n                    lineWidth: 1,\r\n                    lineSymbol: 'circle',\r\n                    majorTic_BX: true,\r\n                    majorGrid_BX: true,\r\n                    minorTic_BX: true,\r\n                    minorGrid_BX: true,\r\n                    majorTic_LY: true,\r\n                    majorGrid_LY: true,\r\n                    minorTic_LY: true,\r\n                    minorGrid_LY: true,\r\n                    colorPickerColor: '#7CB5EC',\r\n                    curveLabel: 'PK25',\r\n                    lineSymbolFillColor: '#7CB5EC',\r\n                    reverse_LY: false,\r\n                    reverse_BX: false,\r\n                    dataLabels: false\r\n                };\r\n\r\n                this.showChartBtn_txt = 'Hide';\r\n                this.showCharts_btn = true;\r\n                // get array of recurrences from result\r\n                let rec: number;\r\n                this.scenarios.forEach(s => {\r\n                    if (s.regressionRegions.length > 1) {\r\n                        s.regressionRegions.forEach(rr => {\r\n                            if (rr.name == 'Area-Averaged') {\r\n                                H_areaAveraged = true; // area averaged, add title to chart stating\r\n                                hydroG.curveLabel = 'Area-Averaged';\r\n                                this.hChartXAxisValues = [];\r\n                                rr.results.forEach(R => {\r\n                                    this.hChartXAxisValues.push(R.code);\r\n                                });\r\n                                // use constant array to populate chart [][]\r\n                                rec = rr.results.filter(r => r.code == this.hChartXAxisValues[0])[0].value;\r\n                            }\r\n                        });\r\n                    } else {\r\n                        s.regressionRegions.forEach(rr => {\r\n                            this.hChartXAxisValues = [];\r\n                            rr.results.forEach(R => {\r\n                                this.hChartXAxisValues.push(R.code);\r\n                            });\r\n                            // use constant array to populate chart [][]\r\n                            rec = rr.results.filter(r => r.code == this.hChartXAxisValues[0])[0].value;\r\n                        });\r\n                    }\r\n                }); // end foreach scenario\r\n                hydroG.recurrence = this.hChartXAxisValues[0]; //default to first one;\r\n                hydroG.lagTime = 1; // default value to change later\r\n                hydroG.title_BX =\r\n                    'Time (hours)\\nHydrograph for ' + hydroG.lagTime + '-yr interval\\nNOTE: May not represent actual hydrograph';\r\n                hydroG.title_LY = 'Discharge (cubic meters per second)';\r\n                // http://api.highcharts.com/highcharts   , panning: true, panKey: 'shift'\r\n                this.hChartOptions = {\r\n                    exporting: {\r\n                        chartOptions: {\r\n                            // specific options for the exported image\r\n                            plotOptions: {\r\n                                series: {\r\n                                    dataLabels: {\r\n                                        enabled: true\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        fallbackToExportServer: false\r\n                    },\r\n                    chart: { type: 'line', zoomType: 'xy' },\r\n                    title: { text: '' },\r\n                    series: [\r\n                        {\r\n                            data: this.DIMLESS_ARRAY.map(p => {\r\n                                return [p[0] * 1, this.sigFigures(p[1] * rec)];\r\n                            }),\r\n                            name: H_areaAveraged ? 'PK25 (Area-weighted average)' : 'PK25',\r\n                            states: {\r\n                                hover: { enabled: false } // stops the line from getting thicker when mouse onto the chart\r\n                            }\r\n                        }\r\n                    ],\r\n                    tooltip: {\r\n                        formatter: function() {\r\n                            var s = '<b>(' + this.x + ', ' + this.y + ')</b>';\r\n                            return s;\r\n                        }\r\n                    },\r\n                    xAxis: {\r\n                        title: {\r\n                            text:\r\n                                'Time (hours)<br/>Hydrograph for ' +\r\n                                hydroG.lagTime +\r\n                                '-yr interval<br/>NOTE: May not represent actual hydrograph'\r\n                            //    style: { fontWeight: 'bold'}\r\n                        },\r\n                        startOnTick: true,\r\n                        endOnTick: true,\r\n                        gridLineWidth: 1, // major grid (0/1)\r\n                        minorGridLineWidth: 1, // minor grid (0/1)\r\n                        tickWidth: 1, // major tic (0/1)\r\n                        minorTickWidth: 1, // minor tic (0/1)\r\n\r\n                        minorTickInterval: 'auto', // line 191-196 needed for above to be changed\r\n                        minorTickLength: 5,\r\n                        tickPosition: 'inside',\r\n                        minorTickPosition: 'inside',\r\n                        tickColor: '#000000',\r\n                        minorTickColor: '#000000'\r\n                    },\r\n                    yAxis: {\r\n                        title: { text: 'Discharge (cubic meters per second)' },\r\n                        startOnTick: true,\r\n                        endOnTick: true,\r\n                        gridLineWidth: 1, // major grid (0/1)\r\n                        minorGridLineWidth: 1, // minor grid (0/1)\r\n                        tickWidth: 1, // major tic (0/1)\r\n                        minorTickWidth: 1, // minor tic (0/1)\r\n\r\n                        minorTickInterval: 'auto', // line 205-210 needed for above to be changed\r\n                        minorTickLength: 5,\r\n                        tickPosition: 'inside',\r\n                        minorTickPosition: 'inside',\r\n                        tickColor: '#000000',\r\n                        minorTickColor: '#000000'\r\n                    }\r\n                };\r\n                this.hydroChartsArray.push(this.hChartOptions);\r\n                this.hydrographs.push(hydroG);\r\n            } else if (c == 'Frequency Plot') {\r\n                if (this.fChartValues == undefined) {\r\n                    let F_areaAveraged: boolean = false;\r\n                    this.fChartOptions = {};\r\n                    // only come in here if there isn't already a frequency plot\r\n                    this.frequencyPlotChart = {\r\n                        Faxis: 'BottomX',\r\n                        type_BX: 'returnPeriod',\r\n                        type_LY: 'returnPeriod',\r\n                        title_LY: 'Peak Discharge, In cubic meters per second',\r\n                        title_BX: 'Recurrence Interval, in years\\nFlood Frequency Plot',\r\n                        lineWidth: 1,\r\n                        lineSymbol: 'circle',\r\n                        majorTic_BX: true,\r\n                        majorGrid_BX: true,\r\n                        minorTic_BX: true,\r\n                        minorGrid_BX: true,\r\n                        majorTic_LY: true,\r\n                        majorGrid_LY: true,\r\n                        minorTic_LY: false,\r\n                        minorGrid_LY: false,\r\n                        colorPickerColor: '#7CB5EC',\r\n                        curveLabel: 'PK25',\r\n                        lineSymbolFillColor: '#7CB5EC',\r\n                        reverse_LY: false,\r\n                        reverse_BX: false,\r\n                        dataLabels: false\r\n                    };\r\n                    // get array of recurrences from result\r\n                    let freqDataArray: number[][];\r\n                    freqDataArray = [];\r\n                    this.scenarios.forEach(s => {\r\n                        if (s.regressionRegions.length > 1) {\r\n                            s.regressionRegions.forEach(rr => {\r\n                                if (rr.name == 'Area-Averaged') {\r\n                                    F_areaAveraged = true; // area averaged, add title to chart stating\r\n                                    this.frequencyPlotChart.curveLabel = 'PK25 (Area-weighted average)';\r\n                                    rr.results.forEach(R => {\r\n                                        let x: number = +R.name.substring(0, R.name.indexOf(' '));\r\n                                        freqDataArray.push([x, this.sigFigures(R.value)]);\r\n                                    });\r\n                                }\r\n                            });\r\n                        } else {\r\n                            s.regressionRegions.forEach(rr => {\r\n                                rr.results.forEach(R => {\r\n                                    let x: number = +R.name.substring(0, R.name.indexOf(' '));\r\n                                    freqDataArray.push([x, this.sigFigures(R.value)]);\r\n                                });\r\n                            });\r\n                        }\r\n                    }); // end foreach scenario\r\n                    console.log('freq (start): ' + freqDataArray);\r\n                    this.fChartValues = freqDataArray;\r\n                    this.showChartBtn_txt = 'Hide';\r\n                    this.showCharts_btn = true;\r\n                    this.fChartOptions = {\r\n                        exporting: {\r\n                            chartOptions: {\r\n                                // specific options for the exported image\r\n                                plotOptions: {\r\n                                    series: {\r\n                                        dataLabels: {\r\n                                            enabled: true\r\n                                        },\r\n                                        name: F_areaAveraged ? 'PK25 (Area-weighted average)' : 'PK25',\r\n                                        states: {\r\n                                            hover: { enabled: false } // stops the line from getting thicker when mouse onto the chart\r\n                                        }\r\n                                    }\r\n                                }\r\n                            },\r\n                            fallbackToExportServer: false\r\n                        },\r\n                        chart: { type: 'line', zoomType: 'xy' },\r\n                        title: { text: '' },\r\n                        series: [\r\n                            {\r\n                                data: this.fChartValues,\r\n                                marker: { enabled: true },\r\n                                name: F_areaAveraged ? 'PK25 (Area-weighted average)' : 'PK25',\r\n                                states: {\r\n                                    hover: { enabled: false } // stops the line from getting thicker when mouse onto the chart\r\n                                }\r\n                            }\r\n                        ],\r\n                        tooltip: {\r\n                            formatter: function() {\r\n                                var s = '<b>(' + this.x + ', ' + this.y + ')</b>';\r\n                                return s;\r\n                            }\r\n                        },\r\n                        xAxis: {\r\n                            title: { text: 'Recurrence Interval, in years<br/>Flood Frequency Plot' },\r\n                            type: 'logarithmic',\r\n                            startOnTick: true,\r\n                            endOnTick: true,\r\n                            gridLineWidth: 1, // major grid (0/1)\r\n                            tickWidth: 1, // major tic (0/1)\r\n                            minorTickInterval: 'auto', // line 191-196 needed for above to be changed\r\n                            minorTickLength: 5,\r\n                            tickPosition: 'inside',\r\n                            minorTickPosition: 'inside',\r\n                            tickColor: '#000000',\r\n                            minorTickColor: '#000000'\r\n                        },\r\n                        yAxis: {\r\n                            title: { text: 'Peak Discharge, In cubic meters per second' },\r\n                            type: 'logarithmic',\r\n                            startOnTick: true,\r\n                            endOnTick: true,\r\n                            gridLineWidth: 1, // major grid (0/1)\r\n                            tickWidth: 1, // major tic (0/1)\r\n                            minorTickLength: 5,\r\n                            tickPosition: 'inside',\r\n                            minorTickPosition: 'inside',\r\n                            tickColor: '#000000',\r\n                            minorTickColor: '#000000'\r\n                        }\r\n                    };\r\n                } // if this.fchartvalues == undefined (only go in there to make a new one not overwrite one)\r\n            } else {\r\n                // it's \"\" something was changed in the filters, clear out the charts\r\n                this.selectedPlot = undefined;\r\n                this.showCharts_btn = false;\r\n                this.hChartOptions = undefined;\r\n                this.hChartXAxisValues = [];\r\n                this.hydroChartsArray = [];\r\n                this.fChartOptions = undefined;\r\n                this.fChartValues = undefined;\r\n                this.hydrographs = [];\r\n            }\r\n        });\r\n    } // end ngOnInit()\r\n\r\n    // round all parameters and statistic values to 3 significant figures\r\n    public sigFigures(n) {\r\n        if (n > 0) {\r\n            var mult = Math.pow(10, 3 - Math.floor(Math.log(n) / Math.LN10) - 1);\r\n            return Math.round(n * mult) / mult;\r\n        } else return n;\r\n    }\r\n    // add backticks around parameter code to escape in equation\r\n    private buildEquation(p: Parameter[], equation: string): string {\r\n        let fullEquation: string = '';\r\n        let arrayOfparameterValues = [];\r\n        fullEquation = '`' + equation + '`';\r\n        return fullEquation;\r\n    }\r\n\r\n    // use tableString and tName to export a table to the browser\r\n    private triggerExportTable(tableString, tName) {\r\n        let csvData = tableString;\r\n        var a = document.createElement('a');\r\n        a.setAttribute('style', 'display:none;');\r\n        document.body.appendChild(a);\r\n        var blob = new Blob([csvData], { type: 'text/csv' });\r\n        var url = window.URL.createObjectURL(blob);\r\n        a.href = url;\r\n        a.download = tName.replace(/ /g, '_') + '.csv';\r\n        a.click();\r\n    }\r\n\r\n    // export inputs table\r\n    public exportInputTable(tableIndex) {\r\n        let inputTableRows = this.inputTable._results[tableIndex].element.nativeElement.rows;\r\n        let vals: string = '';\r\n        let str: string = '';\r\n        for (var r = 0; r < inputTableRows.length; r++) {\r\n            vals = '';\r\n            for (var t = 0; t < inputTableRows[r].children.length; t++) {\r\n                let child = inputTableRows[r].children[t];\r\n                vals += child.innerText + ',';\r\n                // if last one in this row\r\n                if (t == inputTableRows[r].children.length - 1 && child.localName == 'td') {\r\n                    vals = vals.slice(0, -1);\r\n                    str += vals + '\\r\\n';\r\n                }\r\n            }\r\n        }\r\n        str += '\\r\\n';\r\n        // go get results table and tack it on to this before exporting\r\n        this.exportTable(tableIndex, str);\r\n    }\r\n\r\n    // export resultTable\r\n    public exportTable(tableIndex, inputTableStr) {\r\n        let tableRows = this.resultTable._results[tableIndex].element.nativeElement.rows;\r\n        let keys: any = '';\r\n        let vals: string = '';\r\n        let str: string = '';\r\n        let tableName = '';\r\n        for (var r = 0; r < tableRows.length; r++) {\r\n            keys = '';\r\n            vals = '';\r\n            for (var t = 0; t < tableRows[r].children.length; t++) {\r\n                let child = tableRows[r].children[t];\r\n                if (child.localName == 'th') {\r\n                    if (keys == '' && tableName == '')\r\n                        tableName = inputTableStr.indexOf('Area-Averaged') == 0 ? 'Area_Averaged' : child.innerText;\r\n                    keys += child.innerText + ',';\r\n                    if (child.colSpan > 1) {\r\n                        for (var cs = 1; cs < child.colSpan; cs++) keys += ' ,';\r\n                    }\r\n                } else vals += child.innerText + ',';\r\n                if (t == tableRows[r].children.length - 1 && child.localName == 'th') {\r\n                    keys = keys.slice(0, -1);\r\n                    inputTableStr += keys + '\\r\\n';\r\n                } else if (t == tableRows[r].children.length - 1 && child.localName == 'td') {\r\n                    vals = vals.slice(0, -1);\r\n                    inputTableStr += vals + '\\r\\n';\r\n                }\r\n            }\r\n        }\r\n        this.triggerExportTable(inputTableStr, tableName);\r\n    }\r\n\r\n    public exportAppendix() {\r\n        let tableName = 'Appendix';\r\n        // parameter table\r\n        let paramTable = this.uniqueParameters;\r\n        let p_str: string = '';\r\n        p_str += '\\r\\n' + 'Parameter Definitions' + '\\r\\n';\r\n        p_str += 'Name,Abbrev,Description' + '\\r\\n';\r\n        for (var p = 0; p < paramTable.length; p++) {\r\n            p_str += paramTable[p].name + ',' + paramTable[p].code + ',' + paramTable[p].description + '\\r\\n';\r\n        }\r\n        p_str += '\\r\\n';\r\n\r\n        // unit types table\r\n        let unitTable = this.uniqueUnitTypes;\r\n        let u_str: string = '';\r\n        u_str += '\\r\\n' + 'Unit Types' + '\\r\\n';\r\n        u_str += 'Abbrev,Unit' + '\\r\\n';\r\n        for (var u = 0; u < unitTable.length; u++) {\r\n            u_str += '(' + unitTable[u].abbr + '),' + unitTable[u].unit + '\\r\\n';\r\n        }\r\n        u_str += '\\r\\n';\r\n        let equa_str = this.appendixEquationsforExport.join(',');\r\n        let allTablesJoinedString = equa_str + p_str + u_str;\r\n        this.triggerExportTable(allTablesJoinedString, tableName);\r\n        // this.triggerExportTable(this.appendixEquationsforExport.join(','), tableName);\r\n    }\r\n    // onBlur of Value, compare to min/max and show warning\r\n    public compareValue(value: Parameter) {\r\n        // is there a value or just click in and then out (would be \"\")\r\n        if (value.value) {\r\n            // make sure all parameters of this CODE has this VALUE assigned to it in the real scenario Object\r\n            this.scenarios.forEach(s => {\r\n                s.regressionRegions.forEach(rr => {\r\n                    rr.parameters.forEach(p => {\r\n                        if (p.code == value.code) p.value = value.value;\r\n                    });\r\n                });\r\n            }); // end foreach scenario\r\n            // is value outside of range (if ther is limit range)\r\n            if (value.limits !== undefined) {\r\n                let limitFlag: boolean = false;\r\n                value.limitArray.forEach(x => {\r\n                    if (value.value > x.max || value.value < x.min) {\r\n                        limitFlag = true;\r\n                        x.outOfRange = true;\r\n                        value.missingVal = false; // remove the missingVal flag (since there is something in here)\r\n                    } else {\r\n                        // value is within proper range (no warning, has a value)\r\n                        x.outOfRange = false;\r\n                        value.missingVal = false; // field is not empty\r\n                    }\r\n                });\r\n                // need to flag the outter limit OutOfRange outside of the LimitArray loop\r\n                if (limitFlag) value.outOfRange = true;\r\n                // flag it so\r\n                else value.outOfRange = false;\r\n            } // end limits are not undefined\r\n            else {\r\n                value.outOfRange = false; // within range\r\n                value.limitArray.forEach(l => {\r\n                    l.outOfRange = false;\r\n                });\r\n                value.missingVal = false; // field is not empty\r\n            }\r\n        } // end value.Value (has value)\r\n        else {\r\n            value.limitArray.forEach(l => {\r\n                l.outOfRange = false;\r\n            });\r\n            value.outOfRange = false; // no need to check range\r\n            value.missingVal = false; // field is empty, but we don't care until they hit submit on sidebar\r\n        }\r\n    }\r\n    // toggle parameter description\r\n    public showDescription(p: Parameter, paramIndex: number) {\r\n        //set this parameters seeDescription property to true/false\r\n        this.uniqueParameters[paramIndex].seeDescription = !this.uniqueParameters[paramIndex].seeDescription;\r\n    }\r\n    // when chart loads, store an instance of the highchart to access functions\r\n    private saveInstance(chartInst) {\r\n        this.charts.push(chartInst);\r\n    }\r\n\r\n    /////////////////////////////////////// start HYDRO STUFF ///////////////////////////////////////////////////\r\n    // clicked Bottom x & type == update chart HYDRO\r\n    public setXaxisType(i, newType: string) {\r\n        // converting to logarithmic gets ugly (line draws partially outside of plot area) due to the minorTickInterval being set to auto\r\n        if (newType == 'logarithmic') {\r\n            // this makes minor ticks and grid lines disappear..turn them off and uncheck boxes\r\n            this.charts[i].xAxis[0].update({ tickInterval: 'auto', minorGridLineWidth: 0, minorTickWidth: 0 });\r\n            this.hydrographs[i].minorGrid_BX = false;\r\n            this.hydrographs[i].minorTic_BX = false;\r\n        } else {\r\n            this.charts[i].xAxis[0].update({ tickInterval: null });\r\n        }\r\n        this.charts[i].xAxis[0].update({ type: newType });\r\n    }\r\n    // clicked Left y & type == update chart HYDRO\r\n    public setYaxisType(i, newType: string) {\r\n        // converting to logarithmic gets ugly (line draws partially outside of plot area) due to the minorTickInterval being set to auto\r\n        if (newType == 'logarithmic') {\r\n            // this makes minor ticks and grid lines disappear..turn them off and uncheck boxes\r\n            this.charts[i].yAxis[0].update({ minorGridLineWidth: 0, minorTickWidth: 0 }); //tickInterval:'auto'\r\n            this.hydrographs[i].minorGrid_LY = false;\r\n            this.hydrographs[i].minorTic_LY = false;\r\n        } else {\r\n            this.charts[i].yAxis[0].update({ tickInterval: null });\r\n        }\r\n        this.charts[i].yAxis[0].update({ type: newType });\r\n    }\r\n    // update title on x axis as they type HYDRO\r\n    public updateBXtitle(i) {\r\n        this.hydroChartsArray[i].xAxis.title.text = this.hydrographs[i].title_BX.replace(/\\n/g, '<br/>'); //bottom title\r\n        this.charts[i].xAxis[0].setTitle({ text: this.hydroChartsArray[i].xAxis.title.text }); //title of xAxis\r\n    }\r\n    // update title on y axis as they type HYDRO\r\n    public updateLYtitle(i) {\r\n        this.hydroChartsArray[i].yAxis.title.text = this.hydrographs[i].title_LY.replace(/\\n/g, '<br/>');\r\n        this.charts[i].yAxis[0].setTitle({ text: this.hydroChartsArray[i].yAxis.title.text }); //title of yAxis\r\n    }\r\n    // update ticks or grids on chart (0/1) HYDRO\r\n    public setXChartLines(i: number, whichOne: string, value: boolean) {\r\n        /* gridLineWidth: 1 //major grid (0/1)    minorGridLineWidth: 1 //minor grid (0/1)   tickWidth: 1 //major tic (0/1)  minorTickWidth: 1 //minor tic (0/1)  */\r\n        switch (whichOne) {\r\n            case 'gridLineWidth':\r\n                if (value) this.charts[i].xAxis[0].update({ gridLineWidth: 1 });\r\n                else this.charts[i].xAxis[0].update({ gridLineWidth: 0 });\r\n                break;\r\n            case 'minorGridLineWidth':\r\n                if (value) this.charts[i].xAxis[0].update({ minorGridLineWidth: 1 });\r\n                else this.charts[i].xAxis[0].update({ minorGridLineWidth: 0 });\r\n                break;\r\n            case 'tickWidth':\r\n                if (value) this.charts[i].xAxis[0].update({ tickWidth: 1 });\r\n                else this.charts[i].xAxis[0].update({ tickWidth: 0 });\r\n                break;\r\n            case 'minorTickWidth':\r\n                if (value) this.charts[i].xAxis[0].update({ minorTickWidth: 1 });\r\n                else this.charts[i].xAxis[0].update({ minorTickWidth: 0 });\r\n                break;\r\n        }\r\n    }\r\n    // update ticks or grids on chart (0/1) HYDRO\r\n    public setYChartLines(i: number, whichOne: string, value: boolean) {\r\n        /* gridLineWidth: 1 //major grid (0/1)    minorGridLineWidth: 1 //minor grid (0/1)   tickWidth: 1 //major tic (0/1)  minorTickWidth: 1 //minor tic (0/1)  */\r\n        switch (whichOne) {\r\n            case 'gridLineWidth':\r\n                if (value) this.charts[i].yAxis[0].update({ gridLineWidth: 1 });\r\n                else this.charts[i].yAxis[0].update({ gridLineWidth: 0 });\r\n                break;\r\n            case 'minorGridLineWidth':\r\n                if (value) this.charts[i].yAxis[0].update({ minorGridLineWidth: 1 });\r\n                else this.charts[i].yAxis[0].update({ minorGridLineWidth: 0 });\r\n                break;\r\n            case 'tickWidth':\r\n                if (value) this.charts[i].yAxis[0].update({ tickWidth: 1 });\r\n                else this.charts[i].yAxis[0].update({ tickWidth: 0 });\r\n                break;\r\n            case 'minorTickWidth':\r\n                if (value) this.charts[i].yAxis[0].update({ minorTickWidth: 1 });\r\n                else this.charts[i].yAxis[0].update({ minorTickWidth: 0 });\r\n                break;\r\n        }\r\n    }\r\n    // reverse the data HYDRO\r\n    public setReverseData(i: number, which: string, value: boolean) {\r\n        if (which == 'bx') {\r\n            this.charts[i].xAxis[0].update({ reversed: value });\r\n        } else {\r\n            this.charts[i].yAxis[0].update({ reversed: value });\r\n        }\r\n    }\r\n    // change line color HYDRO\r\n    public changeLineColor(i: number, c: string) {\r\n        this.charts[i].series[0].update({ color: c });\r\n        this.hydrographs[i].colorPickerColor = c;\r\n    }\r\n    // change line width HYDRO\r\n    public setLineWidth(i: number) {\r\n        this.charts[i].series[0].update({ lineWidth: this.hydrographs[i].lineWidth });\r\n    }\r\n    // change line symbol fill color HYDRO\r\n    public changeLineSymbolColor(i: number, c: string) {\r\n        this.charts[i].series[0].update({ marker: { fillColor: c } });\r\n        this.hydrographs[i].lineSymbolFillColor = c;\r\n    }\r\n    // change point symbol HYDRO\r\n    public setLineSymbol(i: number, e: Event) {\r\n        this.charts[i].series[0].update({ marker: { symbol: this.hydrographs[i].lineSymbol } });\r\n    }\r\n    // change curve label HYDRO\r\n    public updateCurveLabel(i: number) {\r\n        this.charts[0].series[0].update({ name: this.hydrographs[i].curveLabel });\r\n    }\r\n    // show/hide data labels  HYDRO\r\n    public updateDataLabels(i: number, value: boolean) {\r\n        this.charts[i].series[0].update({\r\n            dataLabels: {\r\n                enabled: value,\r\n                formatter: function() {\r\n                    return '(' + this.x + ', ' + this.y + ')';\r\n                }\r\n            }\r\n        });\r\n    }\r\n    // changed values, refresh the hydrograph with new data HYDRO\r\n    public refreshHydrograph(i, formValues) {\r\n        // top title (updated with which recurrence interval they choose)\r\n        this.hydroChartsArray[i].title.text = 'Hydrograph (Recurrence Interval: ' + this.hydrographs[i].recurrence + ')';\r\n\r\n        // update the xAxis title\r\n        this.hydroChartsArray[i].xAxis.title.text =\r\n            'Time (hours)<br/>Hydrograph for ' + this.hydrographs[i].lagTime + '-yr interval<br/>NOTE: May not represent actual hydrograph';\r\n        this.hydrographs[i].title_BX =\r\n            'Time (hours)\\nHydrograph for ' + this.hydrographs[i].lagTime + '-yr interval\\nNOTE: May not represent actual hydrograph';\r\n        this.charts[i].xAxis[0].setTitle({ text: this.hydroChartsArray[i].xAxis.title.text }); //title of xAxis\r\n\r\n        this.charts[i].setTitle({ text: this.hydroChartsArray[i].title.text }); //title of chart\r\n\r\n        // get the corresponding results value for the recurrence chosen to update the chart data\r\n        let recValue: number;\r\n        this.scenarios.forEach(s => {\r\n            s.regressionRegions.forEach(rr => {\r\n                if (rr.results) recValue = rr.results.filter(r => r.code == this.hydrographs[i].recurrence)[0].value;\r\n            });\r\n        });\r\n        this.charts[i].series[0].setData(\r\n            this.DIMLESS_ARRAY.map(p => {\r\n                return [p[0] * this.hydrographs[i].lagTime, p[1] * recValue];\r\n            })\r\n        ); // update data\r\n        this.hydrographs[i].showExtraSettings = false; // just close the extra settings part\r\n    }\r\n    // show/hide additional user settings options for the chart (axis, title, etc) HYDRO\r\n    public showHideAdditionalChartSettings(i) {\r\n        this.hydrographs[i].showExtraSettings = !this.hydrographs[i].showExtraSettings;\r\n    }\r\n    // want to remove a hydrochart HYDRO\r\n    public removeHydroChart(ind: number) {\r\n        this.hydroChartsArray.splice(ind, 1);\r\n        this.charts.splice(ind, 1);\r\n        this.hydrographs.splice(ind, 1);\r\n    }\r\n    /////////////////////////////////////////// end HYDRO STUFF ///////////////////////////////////////////////////\r\n\r\n    ///////////////////////////////////////start FREQUENCY STUFF ///////////////////////////////////////////////////\r\n    public saveFreqInstance(freqChartInst) {\r\n        this.freqChart = freqChartInst;\r\n    }\r\n    // clicked Bottom x & type == update chart FREQUENCY\r\n    public setFreqXaxisType(newType: string) {\r\n        let freqDataArray: number[][];\r\n        freqDataArray = [];\r\n        // converting 'percent', 'fraction', or 'returnPeriod' (default/onload is returnPeriod)\r\n        if (newType == 'percent') {\r\n            this.scenarios.forEach(s => {\r\n                s.regressionRegions.forEach(rr => {\r\n                    if (rr.results) {\r\n                        rr.results.forEach(R => {\r\n                            let x: number = +R.name.substring(0, R.name.indexOf(' '));\r\n                            freqDataArray.push([(1 / x) * 100, R.value]);\r\n                        });\r\n                    }\r\n                });\r\n            }); // end foreach scenario\r\n            this.frequencyPlotChart.reverse_BX = true;\r\n            this.freqChart.xAxis[0].update({\r\n                reversed: true,\r\n                labels: {\r\n                    formatter: function() {\r\n                        return Highcharts.numberFormat(this.value, 0, ',') + '%';\r\n                    }\r\n                }\r\n            });\r\n        } else if (newType == 'fraction') {\r\n            // divide 1 into probability (pk500)\r\n            this.scenarios.forEach(s => {\r\n                s.regressionRegions.forEach(rr => {\r\n                    if (rr.results) {\r\n                        rr.results.forEach(R => {\r\n                            let x: number = +R.name.substring(0, R.name.indexOf(' '));\r\n                            freqDataArray.push([1 / x, R.value]);\r\n                        });\r\n                    }\r\n                });\r\n            }); // end foreach scenario\r\n            this.frequencyPlotChart.reverse_BX = true;\r\n            this.freqChart.xAxis[0].update({\r\n                reversed: true,\r\n                labels: {\r\n                    formatter: function() {\r\n                        return this.value;\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            // returnPeriod\r\n            this.scenarios.forEach(s => {\r\n                s.regressionRegions.forEach(rr => {\r\n                    if (rr.results) {\r\n                        rr.results.forEach(R => {\r\n                            let x: number = +R.name.substring(0, R.name.indexOf(' '));\r\n                            freqDataArray.push([x, R.value]);\r\n                        });\r\n                    }\r\n                });\r\n            }); // end foreach scenario\r\n            this.frequencyPlotChart.reverse_BX = false;\r\n            this.freqChart.xAxis[0].update({\r\n                reversed: false,\r\n                labels: {\r\n                    formatter: function() {\r\n                        return this.value;\r\n                    }\r\n                }\r\n            });\r\n            console.log('return period: ' + freqDataArray);\r\n        }\r\n        this.freqChart.series[0].setData(freqDataArray);\r\n    }\r\n    // update title on x axis as they type FREQUENCY\r\n    public updateFreqBXtitle() {\r\n        this.fChartOptions.xAxis.title.text = this.frequencyPlotChart.title_BX.replace(/\\n/g, '<br/>'); //bottom title\r\n        this.freqChart.xAxis[0].setTitle({ text: this.fChartOptions.xAxis.title.text }); //title of xAxis\r\n    }\r\n    // update title on y axis as they type FREQUENCY\r\n    public updateFreqLYtitle() {\r\n        this.fChartOptions.yAxis.title.text = this.frequencyPlotChart.title_LY.replace(/\\n/g, '<br/>');\r\n        this.freqChart.yAxis[0].setTitle({ text: this.fChartOptions.yAxis.title.text }); //title of yAxis\r\n    }\r\n    // update ticks or grids on chart (0/1) FREQUENCY\r\n    public setFreqXChartLines(whichOne: string, value: boolean) {\r\n        /* gridLineWidth: 1 //major grid (0/1)    minorGridLineWidth: 1 //minor grid (0/1)   tickWidth: 1 //major tic (0/1)  minorTickWidth: 1 //minor tic (0/1)  */\r\n        switch (whichOne) {\r\n            case 'gridLineWidth':\r\n                if (value) this.freqChart.xAxis[0].update({ gridLineWidth: 1 });\r\n                else this.freqChart.xAxis[0].update({ gridLineWidth: 0 });\r\n                break;\r\n            case 'minorGridLineWidth':\r\n                if (value) this.freqChart.xAxis[0].update({ minorGridLineWidth: 1 });\r\n                else this.freqChart.xAxis[0].update({ minorGridLineWidth: 0 });\r\n                break;\r\n            case 'tickWidth':\r\n                if (value) this.freqChart.xAxis[0].update({ tickWidth: 1 });\r\n                else this.freqChart.xAxis[0].update({ tickWidth: 0 });\r\n                break;\r\n            case 'minorTickWidth':\r\n                if (value) this.freqChart.xAxis[0].update({ minorTickWidth: 1 });\r\n                else this.freqChart.xAxis[0].update({ minorTickWidth: 0 });\r\n                break;\r\n        }\r\n    }\r\n    // update ticks or grids on chart (0/1) FREQUENCY\r\n    public setFreqYChartLines(whichOne: string, value: boolean) {\r\n        /* gridLineWidth: 1 //major grid (0/1)    minorGridLineWidth: 1 //minor grid (NOT USED WITH LOG)  tickWidth: 1 //major tic (0/1)  minorTickWidth: 1 //minor tic (NOT USED WITH LOG)  */\r\n        switch (whichOne) {\r\n            case 'gridLineWidth':\r\n                if (value) this.freqChart.yAxis[0].update({ gridLineWidth: 1 });\r\n                else this.freqChart.yAxis[0].update({ gridLineWidth: 0 });\r\n                break;\r\n            case 'tickWidth':\r\n                if (value) this.freqChart.yAxis[0].update({ tickWidth: 1 });\r\n                else this.freqChart.yAxis[0].update({ tickWidth: 0 });\r\n                break;\r\n        }\r\n    }\r\n    // reverse the data FREQUENCY\r\n    public setFreqReverseData(which: string, value: boolean) {\r\n        if (which == 'bx') {\r\n            this.freqChart.xAxis[0].update({ reversed: value });\r\n        } else {\r\n            this.freqChart.yAxis[0].update({ reversed: value });\r\n        }\r\n    }\r\n    // change line color FREQUENCY\r\n    public changeFreqLineColor(c: string) {\r\n        this.freqChart.series[0].update({ color: c });\r\n        this.frequencyPlotChart.colorPickerColor = c;\r\n    }\r\n    // change line width FREQUENCY\r\n    public setFreqLineWidth() {\r\n        this.freqChart.series[0].update({ lineWidth: this.frequencyPlotChart.lineWidth });\r\n    }\r\n    // change line symbol fill color FREQUENCY\r\n    public changeFreqLineSymbolColor(c: string) {\r\n        this.freqChart.series[0].update({ marker: { fillColor: c } });\r\n        this.frequencyPlotChart.lineSymbolFillColor = c;\r\n    }\r\n    // change point symbol FREQUENCY\r\n    public setFreqLineSymbol(e: Event) {\r\n        this.freqChart.series[0].update({ marker: { symbol: this.frequencyPlotChart.lineSymbol } });\r\n    }\r\n    // change curve label FREQUENCY\r\n    public updateFreqCurveLabel() {\r\n        this.freqChart.series[0].update({ name: this.frequencyPlotChart.curveLabel });\r\n    }\r\n    // show/hide data labels  FREQUENCY\r\n    public updateFreqDataLabels(value: boolean) {\r\n        this.freqChart.series[0].update({\r\n            dataLabels: {\r\n                enabled: value,\r\n                formatter: function() {\r\n                    return '(' + this.x + 'yr, ' + this.y + ')';\r\n                }\r\n            }\r\n        });\r\n    }\r\n    // show/hid additional user settings options for the chart Frequency\r\n    public showHideAddFChartSettings() {\r\n        this.showExtraFREQSettings = !this.showExtraFREQSettings;\r\n    }\r\n    public removeFreqChart() {\r\n        this.frequencyPlotChart = undefined;\r\n        this.freqChart = undefined;\r\n        this.fChartOptions = undefined;\r\n        this.fChartValues = undefined;\r\n    }\r\n    //////////////////////////////////////end FREQUENCY STUFF  /////////////////////////////////////////////////////\r\n    // toggle charts\r\n    public showHideCharts() {\r\n        // if showCharts_btn is true == show the charts and showChartBtn_txt says \"Hide\"\r\n        // if showCharts_btn is false == hide the charts and showChartBtn_txt says \"Show\"\r\n        this.showCharts_btn = !this.showCharts_btn;\r\n        if (this.showCharts_btn) this.showChartBtn_txt = 'Hide';\r\n        else this.showChartBtn_txt = 'Show';\r\n    }\r\n    // want to edit the scenario. remove Result\r\n    public editScenario() {\r\n        this.scenarios.forEach(s => {\r\n            let areaWeighed = s.regressionRegions.map(function(r) {\r\n                return r.id;\r\n            }).indexOf(0);\r\n            if (areaWeighed > -1) s.regressionRegions.splice(areaWeighed, 1); //remove the area weighted regRegion\r\n            s.regressionRegions.forEach(r => {\r\n                this.resultsBack = false;\r\n                delete r.results;\r\n            });\r\n        });\r\n        this._nssService.setScenarios(this.scenarios);\r\n    }\r\n    // number only allowed in Value\r\n    public _keyPress(event: any) {\r\n        const pattern = /[0-9\\+\\-\\.\\ ]/;\r\n        let inputChar = String.fromCharCode(event.charCode);\r\n        if (!pattern.test(inputChar)) {\r\n            // invalid character, prevent input\r\n            event.preventDefault();\r\n        }\r\n    }\r\n    // need superscript tag in unittype (using <span [innerHTML]=\"setSuperScript(p.UnitType.Abbr)\"> converts tags to actual html)\r\n    public setSuperScript(unit: string) {\r\n        let newUnitWithSupTag: string = '';\r\n        let indexOfSup = unit.indexOf('^');\r\n        if (indexOfSup > -1) newUnitWithSupTag = unit.substring(0, indexOfSup) + '<sup>' + unit.substring(indexOfSup + 1) + '</sup>';\r\n        else newUnitWithSupTag = unit;\r\n\r\n        return newUnitWithSupTag;\r\n    }\r\n    // print pdf\r\n    public printPage() {\r\n        let printContents, popupWin;\r\n        printContents = document.getElementById('printArea').innerHTML;\r\n        popupWin = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');\r\n        popupWin.document.open();\r\n        popupWin.document.write(`\r\n      <html>\r\n        <head>\r\n          <title></title>\r\n          <style>                   \r\n            .hidden-print {\r\n                display: none !important;\r\n            }\r\n            #print-content * {\r\n                visibility: visible;\r\n            }            \r\n            h3 {\r\n                text-align: center;\r\n            }\r\n            th, td {\r\n                margin-top:-8px;\r\n                padding-top:8px;\r\n                page-break-inside:avoid;\r\n            }\r\n          </style>\r\n          <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" \r\n            integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\">\r\n        </head>\r\n    <body onload=\"window.print();window.close()\">${printContents}</body>\r\n      </html>`);\r\n        popupWin.document.close();\r\n    }\r\n} // end component\r\n","import { Directive, ElementRef, Input, Inject } from '@angular/core';\r\ndeclare var MathJax: {\r\n    Hub: {\r\n        Queue: (param: Object[]) => void;\r\n    }\r\n}\r\n@Directive({\r\n  selector: '[MathJax]'\r\n})\r\nexport class MathjaxDirective {\r\n  @Input('MathJax') fractionString: string;\r\n\r\n  constructor( @Inject(ElementRef) private el: ElementRef) {\r\n      MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, this.el.nativeElement]);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport * as _ from 'lodash'; \r\n\r\n@Pipe({\r\n  name: 'unique',\r\n  pure: false\r\n})\r\n\r\nexport class UniquePipe implements PipeTransform {\r\n    transform(value: any): any{\r\n        if(value!== undefined && value!== null){\r\n            return _.uniqBy(value, 'name');\r\n        }\r\n        return value;\r\n    }\r\n}","module.exports = \"<div>\\r\\n    <legend style=\\\"margin-bottom:25px;margin-top:0;\\\">Citations</legend>\\r\\n</div>\\r\\n<button [hidden]=\\\"loggedInRole !== 'Administrator'\\\" type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewCitationForm()\\\"><i class=\\\"fa fa-plus\\\"\\r\\n    aria-hidden=\\\"tru\\\"></i> Add New Citation</button>\\r\\n\\r\\n<form #CitationForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"citations\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th class=\\\"col-xs-4\\\">Title</th>\\r\\n                    <th>Author</th>\\r\\n                    <th class=\\\"col-xs-1\\\">Citation URL</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let v of citations; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i *ngIf=\\\"!v.isEditing\\\" title=\\\"Edit Citation\\\" (click)=\\\"EditRowClicked(i)\\\" class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>&nbsp;\\r\\n                            <i *ngIf=\\\"v.isEditing\\\" title=\\\"Save Citation\\\" (click)=\\\"saveCitation(v,i)\\\" class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"v.isEditing\\\" title=\\\"Cancel Edit\\\" (click)=\\\"CancelEditRowClicked(i)\\\" class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.title }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><textarea rows=\\\"3\\\" [(ngModel)]=\\\"v.title\\\" name=\\\"title\\\"></textarea></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.author }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><input type=\\\"text\\\" name=\\\"author\\\" [(ngModel)]=\\\"v.author\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.citationURL }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><input type=\\\"text\\\" name=\\\"citationURL\\\" [(ngModel)]=\\\"v.citationURL\\\" required></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n\\r\\n<!-- new citation form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Citation </h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Citation</h3>\\r\\n        <form [formGroup]=\\\"newCitForm\\\">\\r\\n            <!-- Title -->\\r\\n            <div class=\\\"form-group required\\\">\\r\\n                <label for=\\\"title\\\">Title:</label>\\r\\n                <textarea class=\\\"form-control\\\" rows=\\\"3\\\" placeholder=\\\"\\\" formControlName=\\\"title\\\"></textarea>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newCitForm.get('title').valid && newCitForm.get('title').dirty\\\">Author\\r\\n                        is required</div>\\r\\n            </div>\\r\\n            <!-- Author* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newCitForm.get('author').valid && newCitForm.get('author').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"name\\\">author:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"author\\\" required>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newCitForm.get('author').valid && newCitForm.get('author').dirty\\\">Author\\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Short Name -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newCitForm.get('citationURL').valid && newCitForm.get('citationURL').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"citationURL\\\">Citation URL:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"citationURL\\\">\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newCitForm.get('citationURL').valid && newCitForm.get('citationURL').dirty\\\">URL\\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Region -->\\r\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{'form-invalid': !newCitForm.get('region').valid && newCitForm.get('region').dirty}\\\">\\r\\n                    <label class=\\\"req\\\" for=\\\"region\\\">Region (optional):</label>\\r\\n                    <select class=\\\"form-control\\\" formControlName=\\\"region\\\">\\r\\n                        <option *ngFor=\\\"let r of regions\\\" [value]=\\\"r.id\\\">{{r.name}}</option>\\r\\n                    </select>\\r\\n                </div>\\r\\n\\r\\n            <!-- Reg Region* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newCitForm.get('regRegion').valid && newCitForm.get('regRegion').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"regRegion\\\">Regression Region:</label>\\r\\n                <select class=\\\"form-control\\\" formControlName=\\\"regRegion\\\">\\r\\n                    <option *ngFor=\\\"let rr of regressionRegions\\\" [value]=\\\"rr.id\\\">{{rr.name}}</option>\\r\\n                </select>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newCitForm.get('regRegion').valid && newCitForm.get('regRegion').dirty\\\">Role ID\\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('closed')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewCitation()\\\" [disabled]=\\\"!newCitForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, ChangeDetectorRef, AfterViewChecked, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { SettingsService } from 'app/settings/settings.service';\r\nimport { Citation } from 'app/shared/interfaces/citation';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\nimport { Region } from 'app/shared/interfaces/region';\r\nimport { Regressionregion } from 'app/shared/interfaces/regressionregion';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'citations.component.html'\r\n})\r\n\r\nexport class CitationsComponent implements OnInit, OnDestroy {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    @ViewChild('CitationForm') citationForm;\r\n    public newCitForm: FormGroup;\r\n    public showNewCitForm: boolean;\r\n    public citations: Array<Citation>;\r\n    public regions: Array<Region>;\r\n    public regressionRegions: Array<Regressionregion>;\r\n    private CloseResult;\r\n    private navigationSubscription;\r\n    public loggedInRole;\r\n    private configSettings: Config;\r\n    public isEditing: boolean;\r\n    public rowBeingEdited: number;\r\n    public tempData;\r\n    constructor(public _nssService: NSSService, public _settingsservice: SettingsService, public _route: ActivatedRoute,\r\n        private _fb: FormBuilder, private _modalService: NgbModal, private router: Router, private _configService: ConfigService,\r\n        private _toasterService: ToasterService) {\r\n            this.newCitForm = _fb.group({\r\n                'title': new FormControl(null, Validators.required),\r\n                'author': new FormControl(null, Validators.required),\r\n                'citationURL': new FormControl(null, Validators.required),\r\n                'regRegion': new FormControl(null, Validators.required),\r\n                'region': new FormControl(null)\r\n            });\r\n            this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n                if (e instanceof NavigationEnd) {\r\n                    this.getLoggedInRole();\r\n                }\r\n            });\r\n            this.configSettings = this._configService.getConfiguration();\r\n        }\r\n\r\n    ngOnInit() {\r\n        this._settingsservice.getEntities(this.configSettings.citationURL).subscribe(res => {\r\n            this.citations = res;\r\n        });\r\n\r\n        this._settingsservice.getEntities(this.configSettings.regionURL).subscribe(res => {\r\n            this.regions = res;\r\n        });\r\n        this._settingsservice.getEntities(this.configSettings.regRegionURL).subscribe(res => {\r\n            this.regressionRegions = res;\r\n        });\r\n        this._settingsservice.regRegions().subscribe(res => {\r\n            this.regressionRegions = res;\r\n        });\r\n\r\n        this._settingsservice.citations().subscribe(res => {\r\n            this.citations = res;\r\n        });\r\n\r\n        this.newCitForm.valueChanges.subscribe(form => {\r\n            if (form.region) {this.onRegSelect(form.region)};\r\n        });\r\n    }\r\n\r\n    public onRegSelect(i) {\r\n        this._settingsservice.getEntities(this.configSettings.regionURL + i + '/' + this.configSettings.regRegionURL)\r\n            .subscribe(res => {\r\n                this.regressionRegions = res;\r\n        });\r\n    }\r\n\r\n    showNewCitationForm() {\r\n        this.newCitForm.controls['title'].setValue(null);\r\n        this.newCitForm.controls['author'].setValue(null);\r\n        this.newCitForm.controls['citationURL'].setValue(null);\r\n        this.newCitForm.controls['regRegion'].setValue(null);\r\n        this.showNewCitForm = true;\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then((result) => {\r\n            // this is the solution for the first modal losing scrollability\r\n            if (document.querySelector('body > .modal')) {\r\n                document.body.classList.add('modal-open');\r\n            }\r\n            this.CloseResult = `Closed with: ${result}`;\r\n            if (this.CloseResult) {this.cancelCreateCitation(); }\r\n        }, (reason) => {\r\n            this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n            if (this.CloseResult) {this.cancelCreateCitation(); }\r\n        });\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else { return `with: ${reason}`; }\r\n    }\r\n\r\n    private cancelCreateCitation() {\r\n        this.showNewCitForm = false;\r\n        this.newCitForm.reset();\r\n    }\r\n\r\n    private createNewCitation() {\r\n        const regRegion = this.newCitForm.value.regRegion;\r\n        const newItem = this.newCitForm.value;\r\n        delete this.newCitForm.value.regRegion;\r\n        delete this.newCitForm.value.region;\r\n        this._settingsservice.postEntity(newItem, this.configSettings.regRegionURL + '/' + regRegion + '/' +\r\n            this.configSettings.citationURL)\r\n            .subscribe((response: Citation) => {\r\n                response.isEditing = false;\r\n                this.citations.push(response);\r\n                this._settingsservice.setCitations(this.citations);\r\n                this._toasterService.pop('success', 'Success', 'Citation was created');\r\n                this.cancelCreateCitation();\r\n            }, error => {\r\n                this._toasterService.pop('error', 'Error creating Citation', error._body.message || error.statusText);\r\n            }\r\n        );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n       this.rowBeingEdited = i;\r\n       this.tempData = Object.assign({}, this.citations[i]); // make a copy in case they cancel\r\n       this.citations[i].isEditing = true;\r\n       this.isEditing = true; // set to true so create new is disabled\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        this.citations[i] = Object.assign({}, this.tempData);\r\n        this.citations[i].isEditing = false;\r\n        this.rowBeingEdited = -1;\r\n        this.isEditing = false; // set to true so create new is disabled\r\n        if (this.citationForm.form.dirty) {\r\n            this.citationForm.reset();\r\n        }\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveCitation(u: Citation, i: number) {\r\n        if (u.title === undefined || u.author === undefined || u.citationURL === undefined) {\r\n            // don't save it\r\n            this._toasterService.pop('error', 'Error updating Citation', 'Title, Author and Citation URL are required.');\r\n        } else {\r\n            delete u.isEditing;\r\n            this._settingsservice.putEntity(u.id, u, this.configSettings.citationURL).subscribe(\r\n                (resp: Citation) => {\r\n                    this._toasterService.pop('success', 'Success', 'Citation was updated');\r\n                    u.isEditing = false;\r\n                    this.citations[i] = u;\r\n                    this._settingsservice.setCitations(this.citations);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.citationForm.form.dirty) { this.citationForm.reset(); }\r\n                }, error => {\r\n                    this._toasterService.pop('error', 'Error updating Citation', error._body.message || error.statusText);\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    // delete citation\r\n    public deleteCitation(deleteID: number) {\r\n        const check = confirm('Are you sure you want to delete this Citation?');\r\n        if (confirm) {\r\n            // delete it\r\n            const index = this.citations.findIndex(item => item.id === deleteID);\r\n            this._settingsservice.deleteEntity(deleteID, this.configSettings.citationURL)\r\n                .subscribe(result => {\r\n                    this._toasterService.pop('success', 'Success', 'Citation was deleted');\r\n                    this.citations.splice(index, 1);\r\n                    this._settingsservice.setCitations(this.citations); // update service\r\n                }, error => {\r\n                    this._toasterService.pop('error', 'Error deleting Citation', error._body.message || error.statusText);\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n\r\n}\r\n","module.exports = \"<div>\\r\\n    <legend style=\\\"margin-bottom:25px;margin-top:0;\\\">Errors</legend>\\r\\n</div>\\r\\n<button [hidden]=\\\"loggedInRole !== 'Administrator'\\\" type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewErrorForm()\\\"><i class=\\\"fa fa-plus\\\"\\r\\n    aria-hidden=\\\"tru\\\"></i> Add New Error</button>\\r\\n\\r\\n<form #ErrorForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"errors\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th class=\\\"col-xs-4\\\">Name</th>\\r\\n                    <th>Code</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let v of errors; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i *ngIf=\\\"!v.isEditing\\\" title=\\\"Edit Error\\\" (click)=\\\"EditRowClicked(i)\\\" class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>&nbsp;\\r\\n                            <i *ngIf=\\\"!v.isEditing\\\" title=\\\"Delete Error\\\" (click)=\\\"deleteError(v.id)\\\" class=\\\"fa fa-times\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"v.isEditing\\\" title=\\\"Save Error\\\" (click)=\\\"saveError(v,i)\\\" class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"v.isEditing\\\" title=\\\"Cancel Edit\\\" (click)=\\\"CancelEditRowClicked(i)\\\" class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.name }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><textarea rows=\\\"3\\\" [(ngModel)]=\\\"v.name\\\" name=\\\"name\\\"></textarea></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.code }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><input type=\\\"text\\\" name=\\\"code\\\" [(ngModel)]=\\\"v.code\\\" required></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n\\r\\n<!-- new error form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Error </h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Error</h3>\\r\\n        <form [formGroup]=\\\"newErrForm\\\">\\r\\n            <!-- Name -->\\r\\n            <div class=\\\"form-group required\\\">\\r\\n                <label for=\\\"name\\\">Name:</label>\\r\\n                <textarea class=\\\"form-control\\\" rows=\\\"3\\\" placeholder=\\\"\\\" formControlName=\\\"name\\\"></textarea>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newErrForm.get('name').valid && newErrForm.get('name').dirty\\\">Author\\r\\n                        is required</div>\\r\\n            </div>\\r\\n            <!-- Code* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newErrForm.get('code').valid && newErrForm.get('code').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"name\\\">Code:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"code\\\" required>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newErrForm.get('code').valid && newErrForm.get('code').dirty\\\">Author\\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('closed')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewError()\\\" [disabled]=\\\"!newErrForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, ChangeDetectorRef, AfterViewChecked, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { SettingsService } from 'app/settings/settings.service';\r\nimport { Error } from 'app/shared/interfaces/error';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'errors.component.html'\r\n})\r\n\r\nexport class ErrorsComponent implements OnInit, OnDestroy {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    @ViewChild('ErrorForm') errorForm;\r\n    public newErrForm: FormGroup;\r\n    public showNewErrForm: boolean;\r\n    public errors: Array<Error>;\r\n    private CloseResult;\r\n    private navigationSubscription;\r\n    public loggedInRole;\r\n    private configSettings: Config;\r\n    public isEditing: boolean;\r\n    public rowBeingEdited: number;\r\n    public tempData;\r\n    constructor(public _nssService: NSSService, public _settingsservice: SettingsService, public _route: ActivatedRoute,\r\n        private _fb: FormBuilder, private _modalService: NgbModal, private router: Router, private _configService: ConfigService,\r\n        private _toasterService: ToasterService) {\r\n            this.newErrForm = _fb.group({\r\n                'name': new FormControl(null, Validators.required),\r\n                'code': new FormControl(null, Validators.required)\r\n            });\r\n            this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n                if (e instanceof NavigationEnd) {\r\n                    this.getLoggedInRole();\r\n                }\r\n            });\r\n            this.configSettings = this._configService.getConfiguration();\r\n        }\r\n\r\n    ngOnInit() {\r\n        this._settingsservice.getEntities(this.configSettings.errorsURL).subscribe(res => {\r\n            this.errors = res;\r\n        });\r\n\r\n        this._settingsservice.errors().subscribe(res => {\r\n            this.errors = res;\r\n        });\r\n    }\r\n\r\n    showNewErrorForm() {\r\n        this.newErrForm.controls['name'].setValue(null);\r\n        this.newErrForm.controls['code'].setValue(null);\r\n        this.showNewErrForm = true;\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then((result) => {\r\n            // this is the solution for the first modal losing scrollability\r\n            if (document.querySelector('body > .modal')) {\r\n                document.body.classList.add('modal-open');\r\n            }\r\n            this.CloseResult = `Closed with: ${result}`;\r\n            if (this.CloseResult) {this.cancelCreateError(); }\r\n        }, (reason) => {\r\n            this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n            if (this.CloseResult) {this.cancelCreateError(); }\r\n        });\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else { return `with: ${reason}`; }\r\n    }\r\n\r\n    private cancelCreateError() {\r\n        this.showNewErrForm = false;\r\n        this.newErrForm.reset();\r\n    }\r\n\r\n    private createNewError() {\r\n        const newItem = this.newErrForm.value;\r\n        this._settingsservice.postEntity(newItem, this.configSettings.errorsURL)\r\n            .subscribe((response: Error) => {\r\n                response.isEditing = false;\r\n                this.errors.push(response);\r\n                this._settingsservice.setErrors(this.errors);\r\n                this._toasterService.pop('success', 'Success', 'Error was created');\r\n                this.cancelCreateError();\r\n            }, error => {\r\n                this._toasterService.pop('error', 'Error creating Error', error._body.message || error.statusText);\r\n            }\r\n        );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n       this.rowBeingEdited = i;\r\n       this.tempData = Object.assign({}, this.errors[i]); // make a copy in case they cancel\r\n       this.errors[i].isEditing = true;\r\n       this.isEditing = true; // set to true so create new is disabled\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        this.errors[i] = Object.assign({}, this.tempData);\r\n        this.errors[i].isEditing = false;\r\n        this.rowBeingEdited = -1;\r\n        this.isEditing = false; // set to true so create new is disabled\r\n        if (this.errorForm.form.dirty) {\r\n            this.errorForm.reset();\r\n        }\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveError(u: Error, i: number) {\r\n        if (u.name === undefined || u.code === undefined) {\r\n            // don't save it\r\n            this._toasterService.pop('error', 'Error updating Error', 'Name and Code are required.');\r\n        } else {\r\n            delete u.isEditing;\r\n            this._settingsservice.putEntity(u.id, u, this.configSettings.errorsURL).subscribe(\r\n                (resp: Error) => {\r\n                    this._toasterService.pop('success', 'Success', 'Error was updated');\r\n                    u.isEditing = false;\r\n                    this.errors[i] = u;\r\n                    this._settingsservice.setErrors(this.errors);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.errorForm.form.dirty) { this.errorForm.reset(); }\r\n                }, error => {\r\n                    this._toasterService.pop('error', 'Error updating Error', error._body.message || error.statusText);\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    // delete category type\r\n    public deleteError(deleteID: number) {\r\n        const check = confirm('Are you sure you want to delete this Error?');\r\n        if (confirm) {\r\n            // delete it\r\n            const index = this.errors.findIndex(item => item.id === deleteID);\r\n            this._settingsservice.deleteEntity(deleteID, this.configSettings.errorsURL)\r\n                .subscribe(result => {\r\n                    this._toasterService.pop('success', 'Success', 'Error was deleted');\r\n                    this.errors.splice(index, 1);\r\n                    this._settingsservice.setErrors(this.errors); // update service\r\n                }, error => {\r\n                    this._toasterService.pop('error', 'Error deleting Error', error._body.message || error.statusText);\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n\r\n}\r\n","module.exports = \"<div>\\r\\n    <legend style=\\\"margin-bottom:25px;margin-top:0;\\\">Managers</legend>\\r\\n</div>\\r\\n\\r\\n<button type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewUserForm()\\\"><i class=\\\"fa fa-plus\\\"\\r\\n    aria-hidden=\\\"tru\\\"></i> Add New Manager</button>\\r\\n\\r\\n<form #User TypeForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"managers\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th class=\\\"col-xs-2\\\">Username</th>\\r\\n                    <th class=\\\"col-xs-2\\\">Email</th>\\r\\n                    <th class=\\\"col-xs-2\\\">First name</th>\\r\\n                    <th class=\\\"col-xs-2\\\">Last Name</th>\\r\\n                    <th class=\\\"col-xs-1\\\">Role ID</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let m of managers; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i *ngIf=\\\"!m.isEditing\\\" title=\\\"Edit Manager\\\" (click)=\\\"EditRowClicked(i)\\\" class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>&nbsp;\\r\\n                            <i *ngIf=\\\"!m.isEditing\\\" title=\\\"Delete Manager\\\" (click)=\\\"deleteManager(m.id)\\\" class=\\\"fa fa-times\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"m.isEditing\\\" title=\\\"Save Manager\\\" (click)=\\\"saveManager(m,i)\\\" class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"m.isEditing\\\" title=\\\"Cancel Edit\\\" (click)=\\\"CancelEditRowClicked(i)\\\" class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!m.isEditing\\\">{{ m.username }}</span>\\r\\n                        <span *ngIf=\\\"m.isEditing\\\"><input type=\\\"text\\\" name=\\\"username\\\" [(ngModel)]=\\\"m.username\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!m.isEditing\\\">{{ m.email }}</span>\\r\\n                        <span *ngIf=\\\"m.isEditing\\\"><input type=\\\"text\\\" name=\\\"email\\\" [(ngModel)]=\\\"m.email\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!m.isEditing\\\">{{ m.firstName }}</span>\\r\\n                        <span *ngIf=\\\"m.isEditing\\\"><input type=\\\"text\\\" name=\\\"firstName\\\" [(ngModel)]=\\\"m.firstName\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!m.isEditing\\\">{{ m.lastName }}</span>\\r\\n                        <span *ngIf=\\\"m.isEditing\\\"><input type=\\\"text\\\" name=\\\"lastName\\\" [(ngModel)]=\\\"m.lastName\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!m.isEditing\\\">{{ m.roleID }}</span>\\r\\n                        <span *ngIf=\\\"m.isEditing\\\">\\r\\n                            <select [(ngModel)]=\\\"m.roleID\\\" name=\\\"roleID\\\">\\r\\n                                <option *ngFor=\\\"let role of roles\\\" [value]=\\\"role.id\\\">{{role.name}}</option>\\r\\n                            </select></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n\\r\\n<!-- new user form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Manager </h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Manager</h3>\\r\\n        <form [formGroup]=\\\"newUserForm\\\">\\r\\n            <!-- UserName* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newUserForm.get('username').valid && newUserForm.get('username').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"username\\\">Username:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"username\\\" required>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newUserForm.get('username').valid && newUserForm.get('username').dirty\\\">Username \\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Email* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newUserForm.get('email').valid && newUserForm.get('email').dirty}\\\">\\r\\n                    <label class=\\\"req\\\" for=\\\"email\\\">Email:</label>\\r\\n                    <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"email\\\">\\r\\n                    <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newUserForm.get('email').valid && newUserForm.get('email').dirty\\\">Email\\r\\n                        is required</div>\\r\\n                </div>\\r\\n\\r\\n            <!-- Password -->\\r\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{'form-invalid': !newUserForm.get('password').valid && newUserForm.get('password').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"password\\\">Password:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"password\\\" formControlName=\\\"password\\\">\\r\\n            </div>\\r\\n\\r\\n            <!-- First Name* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newUserForm.get('firstName').valid && newUserForm.get('firstName').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"firstName\\\">First Name:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"firstName\\\" required>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newUserForm.get('firstName').valid && newUserForm.get('firstName').dirty\\\">First\\r\\n                    Name is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Last Name* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newUserForm.get('lastName').valid && newUserForm.get('lastName').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"lastName\\\">Last Name:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"lastName\\\">\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newUserForm.get('lastName').valid && newUserForm.get('lastName').dirty\\\">Last Name\\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Role ID* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newUserForm.get('roleID').valid && newUserForm.get('roleID').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"roleID\\\">Role:</label>\\r\\n                <select class=\\\"form-control\\\" formControlName=\\\"roleID\\\">\\r\\n                    <option *ngFor=\\\"let role of roles\\\" [value]=\\\"role.id\\\">{{role.name}}</option>\\r\\n                </select>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newUserForm.get('roleID').valid && newUserForm.get('roleID').dirty\\\">Role ID\\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('closed')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewUser()\\\" [disabled]=\\\"!newUserForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, ChangeDetectorRef, AfterViewChecked, TemplateRef } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { SettingsService } from '../../settings.service';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Manager } from 'app/shared/interfaces/manager';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\nimport { Role } from 'app/shared/interfaces/role';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'managers.component.html'\r\n})\r\nexport class ManagersComponent implements OnInit, AfterViewChecked {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    @ViewChild('User') userForm;\r\n    public selectedRegion;\r\n    public regions;\r\n    public selectedRegRegionIDs;\r\n    public selectedStatGroupIDs;\r\n    public selectedRegTypeIDs;\r\n    public newUserForm: FormGroup;\r\n    public showUserForm: boolean;\r\n    public managers: Array<Manager>;\r\n    public loggedInRole;\r\n    private CloseResult;\r\n    private configSettings: Config;\r\n    private roles: Array<Role>;\r\n    public isEditing: boolean;\r\n    public rowBeingEdited: number;\r\n    public tempData;\r\n    constructor(\r\n        public _nssService: NSSService,\r\n        public _settingsservice: SettingsService,\r\n        public _route: ActivatedRoute,\r\n        private _fb: FormBuilder,\r\n        private _modalService: NgbModal,\r\n        private _cdr: ChangeDetectorRef,\r\n        private _toasterService: ToasterService,\r\n        private _configService: ConfigService\r\n    ) {\r\n        this.newUserForm = _fb.group({\r\n            username: new FormControl(null, Validators.required),\r\n            password: new FormControl(null),\r\n            email: new FormControl(null, Validators.required),\r\n            firstName: new FormControl(null, Validators.required),\r\n            lastName: new FormControl(null, Validators.required),\r\n            roleID: new FormControl(null, Validators.required)\r\n        });\r\n        this.configSettings = this._configService.getConfiguration();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._settingsservice.getEntities(this.configSettings.managersURL).subscribe(managers => {\r\n            this.managers = managers;\r\n        });\r\n        this._settingsservice.getEntities(this.configSettings.rolesURL).subscribe(roles => {\r\n            this.roles = roles;\r\n        });\r\n    }\r\n\r\n    showNewUserForm() {\r\n        this.newUserForm.controls['username'].setValue(null);\r\n        this.newUserForm.controls['password'].setValue(null);\r\n        this.newUserForm.controls['firstName'].setValue(null);\r\n        this.newUserForm.controls['lastName'].setValue(null);\r\n        this.newUserForm.controls['roleID'].setValue(null);\r\n        this.newUserForm.controls['email'].setValue(null);\r\n        this.showUserForm = true;\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then(\r\n            result => {\r\n                // this is the solution for the first modal losing scrollability\r\n                if (document.querySelector('body > .modal')) {\r\n                    document.body.classList.add('modal-open');\r\n                }\r\n                this.CloseResult = `Closed with: ${result}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateUser();\r\n                }\r\n            },\r\n            reason => {\r\n                this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateUser();\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else {\r\n            return `with: ${reason}`;\r\n        }\r\n    }\r\n\r\n    private cancelCreateUser() {\r\n        this.showUserForm = false;\r\n        this.newUserForm.reset();\r\n    }\r\n\r\n    private createNewUser() {\r\n        const newUser = this.newUserForm.value;\r\n        this._settingsservice.postEntity(newUser, this.configSettings.managersURL).subscribe(\r\n            (response: Manager) => {\r\n                response.isEditing = false;\r\n                this.managers.push(response);\r\n                this._settingsservice.setManagers(this.managers);\r\n                this._toasterService.pop('success', 'Success', 'Manager was created');\r\n                this.cancelCreateUser();\r\n            }, error => { this._toasterService.pop('error', 'Error creating Manager', error._body.message || error.statusText); }\r\n        );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n        this.rowBeingEdited = i;\r\n        this.tempData = Object.assign({}, this.managers[i]); // make a copy in case they cancel\r\n        this.managers[i].isEditing = true;\r\n        this.isEditing = true; // set to true so create new is disabled\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        this.managers[i] = Object.assign({}, this.tempData);\r\n        this.managers[i].isEditing = false;\r\n        this.rowBeingEdited = -1;\r\n        this.isEditing = false; // set to true so create new is disabled\r\n        if (this.userForm.nativeElement.dirty) {\r\n            this.userForm.reset();\r\n        }\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveManager(u: Manager, i: number) {\r\n        if (u.username === undefined || u.email === undefined || u.firstName === undefined || u.lastName === undefined || u.roleID === undefined) {\r\n            // don't save it\r\n            this._toasterService.pop('error', 'Error updating Error', 'First name, last name, username, email and role ID are required.');\r\n        } else {\r\n            delete u.isEditing;\r\n            this._settingsservice.putEntity(u.id, u, this.configSettings.managersURL).subscribe(\r\n                (resp: Manager) => {\r\n                    this._toasterService.pop('success', 'Success', 'Manager was updated');\r\n                    u.isEditing = false;\r\n                    this.managers[i] = u;\r\n                    this._settingsservice.setManagers(this.managers);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.userForm.form.dirty) { this.userForm.reset(); }\r\n                }, error => { this._toasterService.pop('error', 'Error updating Manager', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    // delete category type\r\n    public deleteManager(deleteID: number) {\r\n        const check = confirm('Are you sure you want to delete this Manager?');\r\n        if (confirm) {\r\n            // delete it\r\n            const index = this.managers.findIndex(item => item.id === deleteID);\r\n            this._settingsservice.deleteEntity(deleteID, this.configSettings.managersURL)\r\n                .subscribe(result => {\r\n                    this._toasterService.pop('success', 'Success', 'Manager was deleted');\r\n                    this.managers.splice(index, 1);\r\n                    this._settingsservice.setManagers(this.managers); // update service\r\n                }, error => {this._toasterService.pop('error', 'Error deleting Manager', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        this._cdr.detectChanges();\r\n    }\r\n}\r\n","module.exports = \"<div>\\r\\n    <legend style=\\\"margin-bottom:25px;margin-top:0;\\\">Regions</legend>\\r\\n</div>\\r\\n<button [hidden]=\\\"loggedInRole !== 'Administrator'\\\" type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewRegionForm()\\\"><i class=\\\"fa fa-plus\\\"\\r\\n    aria-hidden=\\\"tru\\\"></i> Add New Region</button>\\r\\n\\r\\n<form #RegionForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"regions\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th class=\\\"col-xs-4\\\">Name</th>\\r\\n                    <th class=\\\"col-xs-1\\\">Code</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let v of regions; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i *ngIf=\\\"!v.isEditing\\\" title=\\\"Edit Region\\\" (click)=\\\"EditRowClicked(i)\\\" class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>&nbsp;\\r\\n                            <i *ngIf=\\\"!v.isEditing\\\" title=\\\"Delete Region\\\" (click)=\\\"deleteRegion(v.id)\\\" class=\\\"fa fa-times\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"v.isEditing\\\" title=\\\"Save Region\\\" (click)=\\\"saveRegion(v,i)\\\" class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"v.isEditing\\\" title=\\\"Cancel Edit\\\" (click)=\\\"CancelEditRowClicked(i)\\\" class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.name }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><input type=\\\"text\\\" name=\\\"name\\\" [(ngModel)]=\\\"v.name\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.code }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><input type=\\\"text\\\" name=\\\"code\\\" [(ngModel)]=\\\"v.code\\\" required></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n\\r\\n<!-- new region form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Region </h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Region</h3>\\r\\n        <form [formGroup]=\\\"newRegForm\\\">\\r\\n            <!-- Region Name* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newRegForm.get('name').valid && newRegForm.get('name').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"name\\\">Name:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"name\\\" required>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newRegForm.get('name').valid && newRegForm.get('name').dirty\\\">Region\\r\\n                    Name is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Short Name -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newRegForm.get('code').valid && newRegForm.get('code').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"code\\\">Code:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"code\\\">\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newRegForm.get('code').valid && newRegForm.get('code').dirty\\\">Code\\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('closed')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewRegion()\\\" [disabled]=\\\"!newRegForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, ChangeDetectorRef, AfterViewChecked, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { Region } from 'app/shared/interfaces/region';\r\nimport { SettingsService } from '../../settings.service';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'regions.component.html'\r\n})\r\n\r\nexport class RegionsComponent implements OnInit, OnDestroy {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    @ViewChild('RegionForm') regForm;\r\n    public selectedRegion;\r\n    public selectedRegRegionIDs;\r\n    public selectedStatGroupIDs;\r\n    public selectedRegTypeIDs;\r\n    public newRegForm: FormGroup;\r\n    public showNewRegForm: boolean;\r\n    public regions: Array<Region>;\r\n    private CloseResult;\r\n    private navigationSubscription;\r\n    public loggedInRole;\r\n    private configSettings: Config;\r\n    public isEditing: boolean;\r\n    public rowBeingEdited: number;\r\n    public tempData;\r\n    constructor(public _nssService: NSSService, public _settingsservice: SettingsService, public _route: ActivatedRoute,\r\n        private _fb: FormBuilder, private _modalService: NgbModal, private router: Router, private _toasterService: ToasterService,\r\n        private _configService: ConfigService) {\r\n            this.newRegForm = _fb.group({\r\n                'name': new FormControl(null, Validators.required),\r\n                'code': new FormControl(null, Validators.required)\r\n            });\r\n            this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n                if (e instanceof NavigationEnd) {\r\n                    this.getLoggedInRole();\r\n                }\r\n            });\r\n            this.configSettings = this._configService.getConfiguration();\r\n        }\r\n\r\n    ngOnInit() {\r\n        this._settingsservice.getEntities(this.configSettings.regionURL).subscribe(res => {\r\n            this.regions = res;\r\n        });\r\n\r\n        this._settingsservice.regions().subscribe(res => {\r\n            this.regions = res;\r\n        });\r\n    }\r\n\r\n    showNewRegionForm() {\r\n        this.newRegForm.controls['name'].setValue(null);\r\n        this.newRegForm.controls['code'].setValue(null);\r\n        this.showNewRegForm = true;\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then((result) => {\r\n            // this is the solution for the first modal losing scrollability\r\n            if (document.querySelector('body > .modal')) {\r\n                document.body.classList.add('modal-open');\r\n            }\r\n            this.CloseResult = `Closed with: ${result}`;\r\n            if (this.CloseResult) {this.cancelCreateRegion(); }\r\n        }, (reason) => {\r\n            this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n            if (this.CloseResult) {this.cancelCreateRegion(); }\r\n        });\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else { return `with: ${reason}`; }\r\n    }\r\n\r\n    private cancelCreateRegion() {\r\n        this.showNewRegForm = false;\r\n        this.newRegForm.reset();\r\n    }\r\n\r\n    private createNewRegion() {\r\n        const newItem = this.newRegForm.value;\r\n        this._settingsservice.postEntity(newItem, this.configSettings.regionURL)\r\n            .subscribe((response: Region) => {\r\n                response.isEditing = false;\r\n                this.regions.push(response);\r\n                this._settingsservice.setRegions(this.regions);\r\n                this._toasterService.pop('success', 'Success', 'Region was created');\r\n                this.cancelCreateRegion();\r\n            }, error => { this._toasterService.pop('error', 'Error creating Region', error._body.message || error.statusText); }\r\n        );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n       this.rowBeingEdited = i;\r\n       this.tempData = Object.assign({}, this.regions[i]); // make a copy in case they cancel\r\n       this.regions[i].isEditing = true;\r\n       this.isEditing = true; // set to true so create new is disabled\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        this.regions[i] = Object.assign({}, this.tempData);\r\n        this.regions[i].isEditing = false;\r\n        this.rowBeingEdited = -1;\r\n        this.isEditing = false; // set to true so create new is disabled\r\n        if (this.regForm.form.dirty) {\r\n            this.regForm.reset();\r\n        }\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveRegion(r: Region, i: number) {\r\n        if (r.name === undefined || r.code === undefined) {\r\n            // don't save it\r\n            this._toasterService.pop('error', 'Error updating Error', 'Name and Code are required.');\r\n        } else {\r\n            delete r.isEditing;\r\n            this._settingsservice.putEntity(r.id, r, this.configSettings.regionURL).subscribe(\r\n                (resp: Region) => {\r\n                    this._toasterService.pop('success', 'Success', 'Region was updated');\r\n                    r.isEditing = false;\r\n                    this.regions[i] = r;\r\n                    this._settingsservice.setRegions(this.regions);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.regForm.form.dirty) { this.regForm.reset(); }\r\n                }, error => {this._toasterService.pop('error', 'Error updating Region', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    // delete category type\r\n    public deleteRegion(deleteID: number) {\r\n        const check = confirm('Are you sure you want to delete this Region?');\r\n        if (confirm) {\r\n            // delete it\r\n            const index = this.regions.findIndex(item => item.id === deleteID);\r\n            this._settingsservice.deleteEntity(deleteID, this.configSettings.regionURL)\r\n                .subscribe(result => {\r\n                    this._toasterService.pop('success', 'Success', 'Region was deleted');\r\n                    this.regions.splice(index, 1);\r\n                    this._settingsservice.setRegions(this.regions); // update service\r\n                }, error => { this._toasterService.pop('error', 'Error deleting Region', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"regSelect\\\">Choose Region:\\r\\n    <select [ngModel]=\\\"selectedRegion\\\" (ngModelChange)=\\\"onRegSelect($event)\\\" name=\\\"region\\\">\\r\\n        <option value=\\\"none\\\">None</option>\\r\\n        <option [ngValue]=\\\"i\\\" *ngFor=\\\"let i of regions\\\">{{i.name}}</option>\\r\\n    </select>\\r\\n</div>\\r\\n<div>\\r\\n    <legend style=\\\"margin-bottom:25px;margin-top:0;\\\">Regression Regions</legend>\\r\\n</div>\\r\\n\\r\\n<button [hidden]=\\\"loggedInRole !== 'Administrator'\\\" type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewRegressionRegionForm()\\\"><i class=\\\"fa fa-plus\\\"\\r\\n    aria-hidden=\\\"tru\\\"></i> Add New Regression Region</button>\\r\\n\\r\\n<form #RegressionForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"regressionRegions\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th class=\\\"col-xs-4\\\">Name</th>\\r\\n                    <th class=\\\"col-xs-4\\\">Code</th>\\r\\n                    <th class=\\\"col-xs-1\\\">Citation ID</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let r of regressionRegions; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i *ngIf=\\\"!r.isEditing\\\" title=\\\"Edit Regression Region\\\" (click)=\\\"EditRowClicked(i)\\\" class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>&nbsp;\\r\\n                            <i *ngIf=\\\"!r.isEditing\\\" title=\\\"Delete Regression Region\\\" (click)=\\\"deleteRegression(r.id)\\\"\\r\\n                                class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"r.isEditing\\\" title=\\\"Save Regression Region\\\" (click)=\\\"saveRegression(r,i)\\\" class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"r.isEditing\\\" title=\\\"Cancel Edit\\\" (click)=\\\"CancelEditRowClicked(i)\\\" class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!r.isEditing\\\">{{ r.name }}</span>\\r\\n                        <span *ngIf=\\\"r.isEditing\\\"><input type=\\\"text\\\" name=\\\"name\\\" [(ngModel)]=\\\"r.name\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!r.isEditing\\\">{{ r.code }}</span>\\r\\n                        <span *ngIf=\\\"r.isEditing\\\"><input type=\\\"text\\\" name=\\\"code\\\" [(ngModel)]=\\\"r.code\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!r.isEditing\\\">{{ r.citationID }}</span>\\r\\n                        <span *ngIf=\\\"r.isEditing\\\"><input type=\\\"text\\\" name=\\\"citationID\\\" [(ngModel)]=\\\"r.citationID\\\"></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n\\r\\n<!-- new regression type form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Regression Region </h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Regression Region</h3>\\r\\n        <form [formGroup]=\\\"newRegRegForm\\\">\\r\\n            <!-- Regression Type Name* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newRegRegForm.get('name').valid && newRegRegForm.get('name').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"name\\\">Name:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"name\\\" required>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newRegRegForm.get('name').valid && newRegRegForm.get('name').dirty\\\">Regression\\r\\n                    Name is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Description -->\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"description\\\">Description:</label>\\r\\n                <textarea class=\\\"form-control\\\" rows=\\\"3\\\" placeholder=\\\"\\\" formControlName=\\\"description\\\"></textarea>\\r\\n            </div>\\r\\n\\r\\n            <!-- Short Name -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newRegRegForm.get('code').valid && newRegRegForm.get('code').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"code\\\">Code:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"code\\\">\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newRegRegForm.get('code').valid && newRegRegForm.get('code').dirty\\\">Code\\r\\n                    is required</div>\\r\\n            </div>\\r\\n            <!-- State* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{ 'form-invalid': !newRegRegForm.get('state').valid && newRegRegForm.get('state').dirty }\\\">\\r\\n                    <label class=\\\"req\\\" for=\\\"state\\\">Region:</label>\\r\\n                    <select class=\\\"form-control\\\" formControlName=\\\"state\\\">\\r\\n                        <option *ngFor=\\\"let reg of regions\\\" [value]=\\\"reg.id\\\">{{ reg.name }}</option>\\r\\n                    </select>\\r\\n                    <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newRegRegForm.get('state').valid && newRegRegForm.get('state').dirty\\\">\\r\\n                        Region is required\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n        </form>\\r\\n\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('closed')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewRegression()\\\" [disabled]=\\\"!newRegRegForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\\r\\n\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, ChangeDetectorRef, AfterViewChecked, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { Region } from 'app/shared/interfaces/region';\r\nimport { Regressionregion } from 'app/shared/interfaces/regressionregion';\r\nimport { SettingsService } from '../../settings.service';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'regressionregions.component.html',\r\n    styleUrls: ['../../settings.component.css']\r\n})\r\nexport class RegressionRegionsComponent implements OnInit, AfterViewChecked, OnDestroy {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    @ViewChild('toRegion')\r\n    public toRegionRef: TemplateRef<any>;\r\n    @ViewChild('RegressionForm') regressionForm;\r\n    public selectedRegion;\r\n    public regions;\r\n    public selectedRegRegionIDs;\r\n    public selectedStatGroupIDs;\r\n    public selectedRegTypeIDs;\r\n    public regressionRegions: Array<Regressionregion>;\r\n    public newRegRegForm: FormGroup;\r\n    public stateRegRegForm: FormGroup;\r\n    public showStateRegForm: boolean;\r\n    public showNewRegRegForm: boolean;\r\n    private modalElement: any;\r\n    public CloseResult: any;\r\n    private modalRef: any;\r\n    private navigationSubscription;\r\n    public loggedInRole;\r\n    private configSettings: Config;\r\n    public rowBeingEdited: number;\r\n    public tempData;\r\n    private isEditing = false;\r\n\r\n    constructor(\r\n        public _nssService: NSSService,\r\n        public _settingsservice: SettingsService,\r\n        public _route: ActivatedRoute,\r\n        private _fb: FormBuilder,\r\n        private _modalService: NgbModal,\r\n        private _cdr: ChangeDetectorRef,\r\n        private router: Router,\r\n        private _toasterService: ToasterService,\r\n        private _configService: ConfigService\r\n    ) {\r\n        this.newRegRegForm = _fb.group({\r\n            name: new FormControl(null, Validators.required),\r\n            description: new FormControl(null),\r\n            code: new FormControl(null, Validators.required),\r\n            state: new FormControl(null, Validators.required)\r\n        });\r\n        this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n            if (e instanceof NavigationEnd) {\r\n                this.getLoggedInRole();\r\n            }\r\n        });\r\n        this.configSettings = this._configService.getConfiguration();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._settingsservice.getEntities(this.configSettings.regionURL).subscribe(regions => {\r\n            this.regions = regions;\r\n        });\r\n        this.selectedRegion = 'none';\r\n        this.getAllRegRegions();\r\n    }\r\n\r\n    public onRegSelect(r) {\r\n        this.selectedRegion = r;\r\n        if (r === 'none') {\r\n            this.getAllRegRegions();\r\n        } else {\r\n            this.getRegRegions(r);\r\n        }\r\n    }\r\n\r\n    public getRegRegions(r) {\r\n        this._settingsservice.getEntities(this.configSettings.regionURL + r.id + '/' + this.configSettings.regRegionURL).subscribe(regs => {\r\n            this.regressionRegions = regs;\r\n        });\r\n    }\r\n\r\n    public getAllRegRegions() {\r\n        this._settingsservice.getEntities(this.configSettings.regRegionURL).subscribe(res => {\r\n            this.regressionRegions = res;\r\n        });\r\n    }\r\n\r\n    public showNewRegressionRegionForm() {\r\n        this.newRegRegForm.controls['name'].setValue(null);\r\n        this.newRegRegForm.controls['description'].setValue('');\r\n        if (this.selectedRegion) {this.newRegRegForm.controls['state'].setValue(this.selectedRegion.id); }\r\n        this.showNewRegRegForm = true;\r\n        this.newRegRegForm.controls['code'].setValue(null);\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then(\r\n            result => {\r\n                // this is the solution for the first modal losing scrollability\r\n                if (document.querySelector('body > .modal')) {\r\n                    document.body.classList.add('modal-open');\r\n                }\r\n                this.CloseResult = `Closed with: ${result}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateRegression();\r\n                }\r\n            },\r\n            reason => {\r\n                this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateRegression();\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else {\r\n            return `with: ${reason}`;\r\n        }\r\n    }\r\n\r\n    private cancelCreateRegression() {\r\n        this.showNewRegRegForm = false;\r\n        this.newRegRegForm.reset();\r\n    }\r\n\r\n    private createNewRegression() {\r\n        const region = this.newRegRegForm.value.state;\r\n        const newRegReg = this.newRegRegForm.value;\r\n        delete newRegReg.state;\r\n        this._settingsservice\r\n            .postEntity(newRegReg, this.configSettings.regionURL + region + '/' + this.configSettings.regRegionURL)\r\n            .subscribe(\r\n                (response: Regressionregion) => {\r\n                    response.isEditing = false;\r\n                    this._toasterService.pop('success', 'Success', 'Regression Region was created');\r\n                    this.getRegRegions(this.selectedRegion);\r\n                    this.cancelCreateRegression();\r\n                }, error => { this._toasterService.pop('error', 'Error creating Regression Region', error._body.message || error.statusText); }\r\n            );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n        this.rowBeingEdited = i;\r\n        this.tempData = Object.assign({}, this.regressionRegions[i]); // make a copy in case they cancel\r\n        this.regressionRegions[i].isEditing = true;\r\n        this.isEditing = true; // set to true so create new is disabled\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        this.regressionRegions[i] = Object.assign({}, this.tempData);\r\n        this.regressionRegions[i].isEditing = false;\r\n        this.rowBeingEdited = -1;\r\n        this.isEditing = false; // set to true so create new is disabled\r\n        if (this.regressionForm.form.dirty) {\r\n            this.regressionForm.reset();\r\n        }\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveRegression(u: Regressionregion, i: number) {\r\n        if (u.name === undefined || u.code === undefined) {\r\n            // don't save it\r\n            this._toasterService.pop('error', 'Error updating Error', 'Name and Code are required.');\r\n        } else {\r\n            delete u.isEditing;\r\n            this._settingsservice.putEntity(u.id, u, this.configSettings.regRegionURL).subscribe(\r\n                (resp: Regressionregion) => {\r\n                    this._toasterService.pop('success', 'Success', 'Regression Region was updated');\r\n                    u.isEditing = false;\r\n                    this.regressionRegions[i] = u;\r\n                    this._settingsservice.setRegRegions(this.regressionRegions);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.regressionForm.form.dirty) { this.regressionForm.reset(); }\r\n                }, error => { this._toasterService.pop('error', 'Error updating Regression Region', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    // delete category type\r\n    public deleteRegression(deleteID: number) {\r\n        const check = confirm('Are you sure you want to delete this Regression Region?');\r\n        if (confirm) {\r\n            // delete it\r\n            const index = this.regressionRegions.findIndex(item => item.id === deleteID);\r\n            this._settingsservice.deleteEntity(deleteID, this.configSettings.regRegionURL)\r\n                .subscribe(result => {\r\n                    this._toasterService.pop('success', 'Success', 'Regression Region was deleted');\r\n                    this.regressionRegions.splice(index, 1);\r\n                    this._settingsservice.setRegRegions(this.regressionRegions); // update service\r\n                }, error => { this._toasterService.pop('error', 'Error deleting Regression Region', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        this._cdr.detectChanges();\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n}\r\n","module.exports = \"<div class=\\\"regSelect\\\">Choose Region:\\r\\n    <select [ngModel]=\\\"selectedRegion\\\" (ngModelChange)=\\\"onRegSelect($event)\\\" name=\\\"region\\\">\\r\\n        <option value=\\\"none\\\">None</option>\\r\\n        <option [ngValue]=\\\"i\\\" *ngFor=\\\"let i of regions\\\">{{i.name}}</option>\\r\\n    </select>\\r\\n</div>\\r\\n<div>\\r\\n    <legend style=\\\"margin-bottom:25px;margin-top:0;\\\">Regression Types</legend>\\r\\n</div>\\r\\n\\r\\n<button [hidden]=\\\"loggedInRole !== 'Administrator'\\\" type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewRegressionForm()\\\"><i class=\\\"fa fa-plus\\\"\\r\\n    aria-hidden=\\\"tru\\\"></i> Add New Regression Type</button>\\r\\n\\r\\n<form #RegressionForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"regressionTypes\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th class=\\\"col-xs-4\\\">Name</th>\\r\\n                    <th>Description</th>\\r\\n                    <th class=\\\"col-xs-1\\\">Code</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let r of regressionTypes; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i *ngIf=\\\"!r.isEditing\\\" title=\\\"Edit Regression Type\\\" (click)=\\\"EditRowClicked(i)\\\" class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>&nbsp;\\r\\n                            <i *ngIf=\\\"!r.isEditing\\\" title=\\\"Delete Regression Type\\\" (click)=\\\"deleteRegression(r.id)\\\"\\r\\n                                class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"r.isEditing\\\" title=\\\"Save Regression Type\\\" (click)=\\\"saveRegression(r,i)\\\" class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"r.isEditing\\\" title=\\\"Cancel Edit\\\" (click)=\\\"CancelEditRowClicked(i)\\\" class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!r.isEditing\\\">{{ r.name }}</span>\\r\\n                        <span *ngIf=\\\"r.isEditing\\\"><input type=\\\"text\\\" name=\\\"name\\\" [(ngModel)]=\\\"r.name\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!r.isEditing\\\">{{ r.description }}</span>\\r\\n                        <span *ngIf=\\\"r.isEditing\\\"><textarea rows=\\\"3\\\" [(ngModel)]=\\\"r.description\\\" name=\\\"description\\\"></textarea></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!r.isEditing\\\">{{ r.code }}</span>\\r\\n                        <span *ngIf=\\\"r.isEditing\\\"><input type=\\\"text\\\" name=\\\"code\\\" [(ngModel)]=\\\"r.code\\\" required></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n\\r\\n<!-- new regression type form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Regression Type </h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Regression Type</h3>\\r\\n        <form [formGroup]=\\\"newRegForm\\\">\\r\\n            <!-- Regression Type Name* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newRegForm.get('name').valid && newRegForm.get('name').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"name\\\">Name:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"name\\\" required>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newRegForm.get('name').valid && newRegForm.get('name').dirty\\\">Regression\\r\\n                    Name is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Description -->\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"Description\\\">Description:</label>\\r\\n                <textarea class=\\\"form-control\\\" rows=\\\"3\\\" placeholder=\\\"\\\" formControlName=\\\"description\\\"></textarea>\\r\\n            </div>\\r\\n\\r\\n            <!-- Short Name -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newRegForm.get('code').valid && newRegForm.get('code').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"code\\\">Code:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"code\\\">\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newRegForm.get('code').valid && newRegForm.get('code').dirty\\\">Code\\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('closed')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewRegression()\\\" [disabled]=\\\"!newRegForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { Regressiontype } from 'app/shared/interfaces/regressiontype';\r\nimport { SettingsService } from '../../settings.service';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'regressiontypes.component.html'\r\n})\r\nexport class RegressionTypesComponent implements OnInit, OnDestroy {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    @ViewChild('RegressionForm')\r\n    regressionForm;\r\n    public selectedRegion;\r\n    public regions;\r\n    public selectedRegRegionIDs;\r\n    public selectedStatGroupIDs;\r\n    public selectedRegTypeIDs;\r\n    public regressionTypes: Array<Regressiontype>;\r\n    public newRegForm: FormGroup;\r\n    public showNewRegForm: boolean;\r\n    private CloseResult;\r\n    private navigationSubscription;\r\n    public loggedInRole;\r\n    private configSettings: Config;\r\n    public rowBeingEdited: number;\r\n    public tempData;\r\n    public isEditing = false;\r\n    constructor(\r\n        public _nssService: NSSService,\r\n        public _settingsservice: SettingsService,\r\n        public _route: ActivatedRoute,\r\n        private _fb: FormBuilder,\r\n        private _modalService: NgbModal,\r\n        private router: Router,\r\n        private _toasterService: ToasterService,\r\n        private _configService: ConfigService\r\n    ) {\r\n        this.newRegForm = _fb.group({\r\n            id: new FormControl(null),\r\n            name: new FormControl(null, Validators.required),\r\n            description: new FormControl(null),\r\n            code: new FormControl(null, Validators.required)\r\n        });\r\n        this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n            if (e instanceof NavigationEnd) {\r\n                this.getLoggedInRole();\r\n            }\r\n        });\r\n        this.configSettings = this._configService.getConfiguration();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._settingsservice.getEntities(this.configSettings.regionURL).subscribe(reg => {\r\n            this.regions = reg;\r\n        });\r\n        this.selectedRegion = 'none';\r\n        this.getAllRegTypes();\r\n    }\r\n\r\n    public onRegSelect(r) {\r\n        this.selectedRegion = r;\r\n        if (r === 'none') {\r\n            this.getAllRegTypes();\r\n        } else {\r\n            this._settingsservice\r\n                .getEntities(this.configSettings.regionURL + r.id + '/' + this.configSettings.regTypeURL)\r\n                .subscribe(regs => {\r\n                    this.regressionTypes = regs;\r\n                });\r\n        }\r\n    }\r\n\r\n    public getAllRegTypes() {\r\n        this._settingsservice.getEntities(this.configSettings.regTypeURL).subscribe(res => {\r\n            this.regressionTypes = res;\r\n        });\r\n    }\r\n\r\n    showNewRegressionForm() {\r\n        this.newRegForm.controls['name'].setValue(null);\r\n        this.newRegForm.controls['description'].setValue(null);\r\n        this.showNewRegForm = true;\r\n        this.newRegForm.controls['code'].setValue(null);\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then(\r\n            result => {\r\n                // this is the solution for the first modal losing scrollability\r\n                if (document.querySelector('body > .modal')) {\r\n                    document.body.classList.add('modal-open');\r\n                }\r\n                this.CloseResult = `Closed with: ${result}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateRegression();\r\n                }\r\n            },\r\n            reason => {\r\n                this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateRegression();\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else {\r\n            return `with: ${reason}`;\r\n        }\r\n    }\r\n\r\n    private cancelCreateRegression() {\r\n        this.showNewRegForm = false;\r\n        this.newRegForm.reset();\r\n    }\r\n\r\n    private createNewRegression() {\r\n        const newReg = this.newRegForm.value;\r\n        this._settingsservice.postEntity(newReg, this.configSettings.regTypeURL).subscribe(\r\n            (response: Regressiontype) => {\r\n                response.isEditing = false;\r\n                this._toasterService.pop('success', 'Success', 'Regression type was created');\r\n                if (this.selectedRegion === 'none') {\r\n                    this.getAllRegTypes();\r\n                } else {\r\n                    this.onRegSelect(this.selectedRegion);\r\n                }\r\n                this.cancelCreateRegression();\r\n            }, error => { this._toasterService.pop('error', 'Error creating Regression Type', error._body.message || error.statusText); }\r\n        );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n        this.rowBeingEdited = i;\r\n        this.tempData = Object.assign({}, this.regressionTypes[i]); // make a copy in case they cancel\r\n        this.regressionTypes[i].isEditing = true;\r\n        this.isEditing = true; // set to true so create new is disabled\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        this.regressionTypes[i] = Object.assign({}, this.tempData);\r\n        this.regressionTypes[i].isEditing = false;\r\n        this.rowBeingEdited = -1;\r\n        this.isEditing = false; // set to true so create new is disabled\r\n        if (this.regressionForm.form.dirty) {\r\n            this.regressionForm.reset();\r\n        }\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveRegression(u: Regressiontype, i: number) {\r\n        if (u.name === undefined || u.description === undefined || u.code === undefined) {\r\n            // don't save it\r\n            this._toasterService.pop('error', 'Error updating Error', 'Name, description and Code are required.');\r\n        } else {\r\n            delete u.isEditing;\r\n            this._settingsservice.putEntity(u.id, u, this.configSettings.regTypeURL).subscribe(\r\n                (resp: Regressiontype) => {\r\n                    this._toasterService.pop('success', 'Success', 'Regression Type was updated');\r\n                    u.isEditing = false;\r\n                    this.regressionTypes[i] = u;\r\n                    this._settingsservice.setRegTypes(this.regressionTypes);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.regressionForm.form.dirty) { this.regressionForm.reset(); }\r\n                }, error => { this._toasterService.pop('error', 'Error updating Regression Type', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    // delete category type\r\n    public deleteRegression(deleteID: number) {\r\n        const check = confirm('Are you sure you want to delete this Regression Type?');\r\n        if (confirm) {\r\n            // delete it\r\n            const index = this.regressionTypes.findIndex(item => item.id === deleteID);\r\n            this._settingsservice.deleteEntity(deleteID, this.configSettings.regTypeURL)\r\n                .subscribe(result => {\r\n                    this._toasterService.pop('success', 'Success', 'Regression Type was deleted');\r\n                    this.regressionTypes.splice(index, 1);\r\n                    this._settingsservice.setRegTypes(this.regressionTypes); // update service\r\n                }, error => { this._toasterService.pop('error', 'Error deleting Regression Type', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n}\r\n","module.exports = \"<div>\\r\\n    <legend style=\\\"margin-bottom:25px;margin-top:0;\\\">Roles</legend>\\r\\n</div>\\r\\n<button [hidden]=\\\"loggedInRole !== 'Administrator'\\\" type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewRoleForm()\\\"><i class=\\\"fa fa-plus\\\"\\r\\n    aria-hidden=\\\"tru\\\"></i> Add New Role</button>\\r\\n\\r\\n<form #RoleForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"roles\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th class=\\\"col-xs-4\\\">Name</th>\\r\\n                    <th class=\\\"col-xs-4\\\">Description</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let v of roles; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i *ngIf=\\\"!v.isEditing\\\" title=\\\"Edit Role\\\" (click)=\\\"EditRowClicked(i)\\\" class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>&nbsp;\\r\\n                            <i *ngIf=\\\"!v.isEditing\\\" title=\\\"Delete Role\\\" (click)=\\\"deleteRole(v.id)\\\" class=\\\"fa fa-times\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"v.isEditing\\\" title=\\\"Save Role\\\" (click)=\\\"saveRole(v,i)\\\" class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"v.isEditing\\\" title=\\\"Cancel Edit\\\" (click)=\\\"CancelEditRowClicked(i)\\\" class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.name }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><input type=\\\"text\\\" name=\\\"name\\\" [(ngModel)]=\\\"v.name\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.description }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><input type=\\\"text\\\" name=\\\"description\\\" [(ngModel)]=\\\"v.description\\\" required></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n\\r\\n<!-- new role form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Role </h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Role</h3>\\r\\n        <form [formGroup]=\\\"newRoleForm\\\">\\r\\n            <!-- Role Name* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newRoleForm.get('name').valid && newRoleForm.get('name').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"name\\\">Name:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"name\\\" required>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newRoleForm.get('name').valid && newRoleForm.get('name').dirty\\\">Role\\r\\n                    Name is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Description -->\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"description\\\">Description:</label>\\r\\n                <textarea class=\\\"form-control\\\" rows=\\\"3\\\" placeholder=\\\"\\\" formControlName=\\\"description\\\"></textarea>\\r\\n            </div>\\r\\n\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('closed')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewRole()\\\" [disabled]=\\\"!newRoleForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\"","// ------------------------------------------------------------------------------\r\n// ----- roles.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: roles crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, ChangeDetectorRef, AfterViewChecked, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { Role } from 'app/shared/interfaces/role';\r\nimport { SettingsService } from '../../settings.service';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'roles.component.html'\r\n})\r\n\r\nexport class RolesComponent implements OnInit, OnDestroy {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    @ViewChild('RoleForm') roleForm;\r\n    public selectedRole;\r\n    public selectedRoleRoleIDs;\r\n    public selectedStatGroupIDs;\r\n    public selectedRoleTypeIDs;\r\n    public newRoleForm: FormGroup;\r\n    public showNewRolForm: boolean;\r\n    public roles: Array<Role>;\r\n    private CloseResult;\r\n    private navigationSubscription;\r\n    public loggedInRole;\r\n    private configSettings: Config;\r\n    public isEditing: boolean;\r\n    public rowBeingEdited: number;\r\n    public tempData;\r\n    constructor(public _nssService: NSSService, public _settingsservice: SettingsService, public _route: ActivatedRoute,\r\n        private _fb: FormBuilder, private _modalService: NgbModal, private router: Router, private _toasterService: ToasterService,\r\n        private _configService: ConfigService) {\r\n            this.newRoleForm = _fb.group({\r\n                'name': new FormControl(null, Validators.required),\r\n                'description': new FormControl(null, Validators.required)\r\n            });\r\n            this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n                if (e instanceof NavigationEnd) {\r\n                    this.getLoggedInRole();\r\n                }\r\n            });\r\n            this.configSettings = this._configService.getConfiguration();\r\n        }\r\n\r\n    ngOnInit() {\r\n        this._settingsservice.getEntities(this.configSettings.rolesURL).subscribe(res => {\r\n            this.roles = res;\r\n        });\r\n\r\n        this._settingsservice.roles().subscribe(res => {\r\n            this.roles = res;\r\n        });\r\n    }\r\n\r\n    showNewRoleForm() {\r\n        this.newRoleForm.controls['name'].setValue(null);\r\n        this.newRoleForm.controls['description'].setValue(null);\r\n        this.showNewRolForm = true;\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then((result) => {\r\n            // this is the solution for the first modal losing scrollability\r\n            if (document.querySelector('body > .modal')) {\r\n                document.body.classList.add('modal-open');\r\n            }\r\n            this.CloseResult = `Closed with: ${result}`;\r\n            if (this.CloseResult) {this.cancelCreateRole(); }\r\n        }, (reason) => {\r\n            this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n            if (this.CloseResult) {this.cancelCreateRole(); }\r\n        });\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else { return `with: ${reason}`; }\r\n    }\r\n\r\n    private cancelCreateRole() {\r\n        this.showNewRolForm = false;\r\n        this.newRoleForm.reset();\r\n    }\r\n\r\n    private createNewRole() {\r\n        const newItem = this.newRoleForm.value;\r\n        this._settingsservice.postEntity(newItem, this.configSettings.rolesURL)\r\n            .subscribe((response: Role) => {\r\n                response.isEditing = false;\r\n                this.roles.push(response);\r\n                this._settingsservice.setRoles(this.roles);\r\n                this._toasterService.pop('success', 'Success', 'Role was created');\r\n                this.cancelCreateRole();\r\n            }, error => { this._toasterService.pop('error', 'Error creating Role', error._body.message || error.statusText); }\r\n        );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n       this.rowBeingEdited = i;\r\n       this.tempData = Object.assign({}, this.roles[i]); // make a copy in case they cancel\r\n       this.roles[i].isEditing = true;\r\n       this.isEditing = true; // set to true so create new is disabled\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        this.roles[i] = Object.assign({}, this.tempData);\r\n        this.roles[i].isEditing = false;\r\n        this.rowBeingEdited = -1;\r\n        this.isEditing = false; // set to true so create new is disabled\r\n        if (this.roleForm.form.dirty) {\r\n            this.roleForm.reset();\r\n        }\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveRole(r: Role, i: number) {\r\n        if (r.name === undefined || r.description === undefined) {\r\n            // don't save it\r\n            this._toasterService.pop('error', 'Error updating Error', 'Name and Description are required.');\r\n        } else {\r\n            delete r.isEditing;\r\n            this._settingsservice.putEntity(r.id, r, this.configSettings.rolesURL).subscribe(\r\n                (resp: Role) => {\r\n                    this._toasterService.pop('success', 'Success', 'Role was updated');\r\n                    r.isEditing = false;\r\n                    this.roles[i] = r;\r\n                    this._settingsservice.setRoles(this.roles);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.roleForm.form.dirty) { this.roleForm.reset(); }\r\n                }, error => { this._toasterService.pop('error', 'Error updating Role', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    // delete category type\r\n    public deleteRole(deleteID: number) {\r\n        const check = confirm('Are you sure you want to delete this Role?');\r\n        if (confirm) {\r\n            // delete it\r\n            const index = this.roles.findIndex(item => item.id === deleteID);\r\n            this._settingsservice.deleteEntity(deleteID, this.configSettings.rolesURL)\r\n                .subscribe(result => {\r\n                    this._toasterService.pop('success', 'Success', 'Role was deleted');\r\n                    this.roles.splice(index, 1);\r\n                    this._settingsservice.setRoles(this.roles); // update service\r\n                }, error => { this._toasterService.pop('error', 'Error deleting Role', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"regSelect\\\">Choose Region:\\r\\n    <select [ngModel]=\\\"selectedRegion\\\" (ngModelChange)=\\\"onRegSelect($event)\\\" name=\\\"region\\\">\\r\\n        <option [ngValue]=\\\"i\\\" *ngFor=\\\"let i of regions\\\">{{i.name}}</option>\\r\\n    </select>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"statisticGroups\\\">Limit by Statistic Group:\\r\\n        <div class=\\\"settingsMultSelect\\\">\\r\\n            <ss-multiselect-dropdown id=\\\"statGroupSelect\\\" [options]=\\\"statisticGroups\\\" [texts]=\\\"myMSTexts\\\" [settings]=\\\"myRTSettings\\\" name=\\\"selectedStatGroupIDs\\\"\\r\\n                [(ngModel)]=\\\"selectedStatGroupIDs\\\" (ngModelChange)=\\\"onStatGroupSelect();\\\">\\r\\n            </ss-multiselect-dropdown>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n<div *ngIf=\\\"regressionRegions\\\">Limit by Regression Group:\\r\\n    <div class=\\\"settingsMultSelect\\\">\\r\\n        <ss-multiselect-dropdown id=\\\"regRegSelect\\\" [options]=\\\"regressionRegions\\\" [texts]=\\\"myMSTexts\\\" [settings]=\\\"myRTSettings\\\" name=\\\"selectedRegRegionIDs\\\"\\r\\n            [(ngModel)]=\\\"selectedRegRegionIDs\\\" (ngModelChange)=\\\"onRegRegSelect($event);\\\">\\r\\n        </ss-multiselect-dropdown>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"regressionTypes\\\">Limit by Statistic:\\r\\n    <div class=\\\"settingsMultSelect\\\">\\r\\n        <ss-multiselect-dropdown [options]=\\\"regressionTypes\\\" [texts]=\\\"myMSTexts\\\" [settings]=\\\"myRTSettings\\\" name=\\\"selectedRegTypeIDs\\\"\\r\\n            [(ngModel)]=\\\"selectedRegTypeIDs\\\" (ngModelChange)=\\\"onRegTypeSelect($event)\\\">\\r\\n        </ss-multiselect-dropdown>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n<form #ScenarioForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"scenarios\\\">\\r\\n        <legend style=\\\"margin-bottom:20px;margin-top:20px;font-size:15px !important;\\\">Scenarios</legend>\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th class=\\\"col-xs-4\\\">Statistic Group ID</th>\\r\\n                    <th>Statistic Group Name</th>\\r\\n                    <th class=\\\"col-xs-1\\\">Regression Regions</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let s of scenarios; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i *ngIf=\\\"!s.isEditing\\\" title=\\\"Edit Scenario\\\" (click)=\\\"EditRowClicked(i)\\\" class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>&nbsp;\\r\\n                            <i *ngIf=\\\"!s.isEditing\\\" title=\\\"Delete Scenario\\\" (click)=\\\"deleteScenario(s.id)\\\" class=\\\"fa fa-times\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"s.isEditing\\\" title=\\\"Save Scenario\\\" (click)=\\\"saveScenario(s,i)\\\" class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"s.isEditing\\\" title=\\\"Cancel Edit\\\" (click)=\\\"CancelEditRowClicked(i)\\\" class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!s.isEditing\\\">{{ s.statisticGroupID }}</span>\\r\\n                        <span *ngIf=\\\"s.isEditing\\\"><input type=\\\"text\\\" name=\\\"statisticGroupID\\\" [(ngModel)]=\\\"s.statisticGroupID\\\"\\r\\n                                required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!s.isEditing\\\">{{ s.statisticGroupName }}</span>\\r\\n                        <span *ngIf=\\\"s.isEditing\\\"><textarea rows=\\\"3\\\" [(ngModel)]=\\\"s.statisticGroupName\\\" name=\\\"statisticGroupName\\\"></textarea></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!s.isEditing\\\">{{ s.regNames }}</span>\\r\\n                        <span *ngIf=\\\"s.isEditing\\\"><input type=\\\"text\\\" name=\\\"regressionRegions\\\" [(ngModel)]=\\\"s.regressionRegions\\\"\\r\\n                                required></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n<button [hidden]=\\\"loggedInRole !== 'Administrator'\\\" *ngIf=\\\"regressionRegions\\\" type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewScenarioForm()\\\"><i\\r\\n        class=\\\"fa fa-plus\\\" aria-hidden=\\\"tru\\\"></i> Add New Scenario</button>\\r\\n\\r\\n<!-- new scenario form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Scenario </h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Scenario</h3>\\r\\n        <form [formGroup]=\\\"newScenarioForm\\\">\\r\\n            <!-- Statistic Group* -->\\r\\n            <label class=\\\"req\\\" for=\\\"statisticGroup\\\">StatisticGroup:</label>\\r\\n            <select formControlName=\\\"statisticGroup\\\">\\r\\n                <option [ngValue]=\\\"s\\\" *ngFor=\\\"let s of statisticGroups\\\">{{s.name}}</option>\\r\\n            </select>\\r\\n\\r\\n            <!-- Regression Regions* -->\\r\\n            <label class=\\\"req\\\" for=\\\"regressionRegions\\\">RegressionRegions:</label>\\r\\n            <div class=\\\"settingsMultSelect\\\">\\r\\n                <ss-multiselect-dropdown [options]=\\\"regressionRegions\\\" [texts]=\\\"myMSTexts\\\" [settings]=\\\"myRTSettings\\\"\\r\\n                    formControlName=\\\"regressionRegions\\\">\\r\\n                </ss-multiselect-dropdown>\\r\\n            </div>\\r\\n\\r\\n            <!-- Region* -->\\r\\n            <label class=\\\"req\\\" for=\\\"region\\\">Region:</label>\\r\\n            <select formControlName=\\\"region\\\">\\r\\n                <option [ngValue]=\\\"r\\\" *ngFor=\\\"let r of regions\\\">{{r.name}}</option>\\r\\n            </select>\\r\\n\\r\\n        </form>\\r\\n\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('closed')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewScenario()\\\" [disabled]=\\\"!newScenarioForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, ChangeDetectorRef, AfterViewChecked, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { IMultiSelectSettings, IMultiSelectTexts } from 'angular-2-dropdown-multiselect';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { Region } from 'app/shared/interfaces/region';\r\nimport { Scenario } from 'app/shared/interfaces/scenario';\r\nimport { Statisticgroup } from 'app/shared/interfaces/statisticgroup';\r\nimport { Regressiontype } from 'app/shared/interfaces/regressiontype';\r\nimport { Regressionregion } from 'app/shared/interfaces/regressionregion';\r\nimport { SettingsService } from '../../settings.service';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'scenarios.component.html'\r\n})\r\nexport class ScenariosComponent implements OnInit, AfterViewChecked, OnDestroy {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    public selectedRegion;\r\n    public regions;\r\n    public selectedStatGroupIDs;\r\n    public selectedRegTypeIDs;\r\n\r\n    public regressionRegions: Array<Regressionregion>;\r\n    public statisticGroups: Array<Statisticgroup>;\r\n    public regressionTypes: Array<Regressiontype>;\r\n\r\n    public allRegRegions: Array<Regressionregion>;\r\n    public allStatGroups: Array<Statisticgroup>;\r\n\r\n    public newScenarioForm: FormGroup;\r\n    public showNewScenForm: boolean;\r\n    public CloseResult: any;\r\n    public scenarios: Array<Scenario>;\r\n    public regRegionsText: string;\r\n    public myRTSettings: IMultiSelectSettings;\r\n    public myMSTexts: IMultiSelectTexts;\r\n    private selectedRegRegionIDs: Array<number>;\r\n    private navigationSubscription;\r\n    public loggedInRole;\r\n    private configSettings: Config;\r\n\r\n    constructor(\r\n        public _nssService: NSSService,\r\n        public _settingsservice: SettingsService,\r\n        public _route: ActivatedRoute,\r\n        private _fb: FormBuilder,\r\n        private _modalService: NgbModal,\r\n        private _cdr: ChangeDetectorRef,\r\n        private router: Router,\r\n        private _toasterService: ToasterService,\r\n        private _configService: ConfigService\r\n    ) {\r\n        this.newScenarioForm = _fb.group({\r\n            statisticGroup: new FormControl(null, Validators.required),\r\n            regressionRegions: new FormControl(null),\r\n            region: new FormControl(null, Validators.required)\r\n        });\r\n        this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n            if (e instanceof NavigationEnd) {\r\n                this.getLoggedInRole();\r\n            }\r\n        });\r\n        this.configSettings = this._configService.getConfiguration();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._settingsservice.getEntities(this.configSettings.regionURL).subscribe(reg => {\r\n            this.regions = reg;\r\n        });\r\n        this.myRTSettings = {\r\n            pullRight: false,\r\n            enableSearch: false,\r\n            checkedStyle: 'glyphicon',\r\n            buttonClasses: 'btn btn-default',\r\n            selectionLimit: 0,\r\n            closeOnSelect: false,\r\n            showCheckAll: true,\r\n            showUncheckAll: true,\r\n            dynamicTitleMaxItems: 2,\r\n            maxHeight: '300px'\r\n        };\r\n        this.myMSTexts = {\r\n            checkAll: 'Check all',\r\n            uncheckAll: 'Uncheck all',\r\n            checked: 'checked',\r\n            checkedPlural: 'checked',\r\n            defaultTitle: 'Select'\r\n        };\r\n        this._nssService.regressionRegions.subscribe(res => {\r\n            this.regressionRegions = res;\r\n        });\r\n        this._nssService.statisticGroups.subscribe(res => {\r\n            this.statisticGroups = res;\r\n        });\r\n        this._nssService.regressionTypes.subscribe(res => {\r\n            this.regressionTypes = res;\r\n        });\r\n        this._nssService.scenarios.subscribe(scen => {\r\n            this.scenarios = scen;\r\n            for (const scenario of scen) {\r\n                const regNames = [];\r\n                for (const regReg of scenario.regressionRegions) {\r\n                    regReg.Name = regReg.name;\r\n                    regReg.ID = regReg.id;\r\n                    regNames.push(regReg.name);\r\n                }\r\n                scenario.regNames = regNames.join(',\\n');\r\n            }\r\n        });\r\n        // get all stat groups/regression regions when we add new scenarios\r\n    }\r\n\r\n    public onRegSelect(r: Region) {\r\n        this.regressionRegions = [];\r\n        this.selectedRegRegionIDs = [];\r\n        this.selectedStatGroupIDs = [];\r\n        this.selectedRegTypeIDs = [];\r\n        this.selectedRegion = r;\r\n        this._nssService.setSelectedRegion(r);\r\n    }\r\n\r\n    public onRegRegSelect(reg) {\r\n        const selectedRegRegions: Array<Regressionregion> = new Array<Regressionregion>();\r\n        this.selectedRegRegionIDs = reg;\r\n        this.selectedRegRegionIDs.forEach(srr => {\r\n            // for each selected (number only) get the IRegressionRegion to send as array to the _service for updating on main\r\n            selectedRegRegions.push(\r\n                this.regressionRegions.filter(function(rr) {\r\n                    return rr.id === srr;\r\n                })[0]\r\n            );\r\n        });\r\n        this._nssService.setSelectedRegRegions(selectedRegRegions);\r\n    }\r\n\r\n    public onStatGroupSelect() {\r\n        const selectedStatGroups: Array<Statisticgroup> = new Array<Statisticgroup>();\r\n        this.selectedStatGroupIDs.forEach(rsg => {\r\n            // for each selected (number only) get the IRegressionRegion to send as array to the _service for updating on main\r\n            selectedStatGroups.push(\r\n                this.statisticGroups.filter(function(sg) {\r\n                    return sg.id === rsg;\r\n                })[0]\r\n            );\r\n        });\r\n        this._nssService.selectedStatGroups = selectedStatGroups;\r\n    }\r\n\r\n    public onRegTypeSelect(): void {\r\n        // do we need this? may need to have reg types shown too???\r\n        const selectedRegTypes: Array<Regressiontype> = new Array<Regressiontype>();\r\n        this.selectedRegTypeIDs.forEach(srt => {\r\n            // for each selected (number only) get the IRegressionRegion to send as array to the _service for updating on main\r\n            selectedRegTypes.push(\r\n                this.regressionTypes.filter(function(rr) {\r\n                    return rr.id === srt;\r\n                })[0]\r\n            );\r\n        });\r\n        this._nssService.selectedRegressionTypes = selectedRegTypes;\r\n    }\r\n\r\n    public showNewScenarioForm() {\r\n        // still needs changes\r\n        this.newScenarioForm.controls['statisticGroup'].setValue(null);\r\n        this.newScenarioForm.controls['regressionRegions'].setValue(null);\r\n        this.newScenarioForm.controls['region'].setValue(this.selectedRegion);\r\n        this.showNewScenForm = true;\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then(\r\n            result => {\r\n                // this is the solution for the first modal losing scrollability\r\n                if (document.querySelector('body > .modal')) {\r\n                    document.body.classList.add('modal-open');\r\n                }\r\n                this.CloseResult = `Closed with: ${result}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateScenario();\r\n                }\r\n            },\r\n            reason => {\r\n                this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateScenario();\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else {\r\n            return `with: ${reason}`;\r\n        }\r\n    }\r\n\r\n    private cancelCreateScenario() {\r\n        this.showNewScenForm = false;\r\n        this.newScenarioForm.reset();\r\n    }\r\n\r\n    private createNewScenario() {\r\n        const scenario = this.newScenarioForm.value;\r\n        scenario.statisticGroupID = scenario.statisticGroup.id;\r\n        scenario.statisticGroupName = scenario.statisticGroup.name;\r\n        const region = scenario.region;\r\n        delete scenario.region;\r\n        delete scenario.statisticGroup;\r\n\r\n        this._settingsservice.postEntity(scenario, this.configSettings.regionURL + region + '/' + this.configSettings.scenariosURL)\r\n            .subscribe(\r\n            (response: Scenario) => {\r\n                response.isEditing = false;\r\n                this.cancelCreateScenario();\r\n                this._toasterService.pop('success', 'Success', 'Scenario was created');\r\n                this.onRegSelect(region);\r\n                this.cancelCreateScenario();\r\n            }, error => { this._toasterService.pop('error', 'Error creating Scenario', error._body.message || error.statusText); }\r\n        );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n        // from wateruse\r\n        /*this.rowBeingEdited = i;\r\n\t\tthis.tempData = Object.assign({}, this.categoryTypes[i]); // make a copy in case they cancel\r\n\t\tthis.categoryTypes[i].isEditing = true;\r\n\t\tthis.isEditing = true; // set to true so create new is disabled*/\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        /*this.categoryTypes[i] = Object.assign({}, this.tempData);\r\n\t\tthis.categoryTypes[i].isEditing = false;\r\n\t\tthis.rowBeingEdited = -1;\r\n\t\tthis.isEditing = false; // set to true so create new is disabled\r\n\t\tif (this.categoryForm.form.dirty) this.categoryForm.reset();*/\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveScenario(c: Scenario, i: number) {\r\n        /*if (c.name == undefined || c.name == \"\" || c.code == undefined || c.code == \"\") {\r\n            //don't save it \r\n            let infoMessage = \"Category Type Name and Code are both required.\"\r\n            this.infomodal.showInfoModal(infoMessage);\r\n\t\t} else {\r\n            delete c.isEditing;\r\n            this._settingsService.putEntity(c.id, c, 'categoryTypeURL')\r\n                .subscribe((resp: ICategoryType) => {\r\n                    this._toastService.pop('success', 'Success', 'Category Type was updated')\r\n                    c.isEditing = false;\r\n                    this.categoryTypes[i] = c;\r\n                    this._settingsService.setCategories(this.categoryTypes);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.categoryForm.form.dirty) this.categoryForm.reset();\r\n                }, error => this._toastService.pop(\"error\", \"Error updating Category Type\", error._body.message || error.statusText));\r\n\t\t}*/\r\n    }\r\n\r\n    // delete category type\r\n    public deleteScenario(catID: number) {\r\n        // show are you sure modal\r\n        /*\r\n        this.areYouSure.showSureModal('Are you sure you want to delete this Category Type?'); // listener is AreYouSureDialogResponse()\r\n        this.deleteID = catID;*/\r\n    }\r\n    // output emitter function when areYouSure is closed\r\n    public AreYouSureDialogResponse(val: boolean) {\r\n        // if they clicked Yes\r\n        /*if (val) {\r\n            //delete the category type\r\n            // get the index to be deleted by the id\r\n            let ind: number = this.getCategoryIndex(this.deleteID);\r\n            //delete it\r\n            this._settingsService.deleteEntity(this.deleteID, 'categoryTypeURL')\r\n                .subscribe(result => {         \r\n                    this._toastService.pop('success', 'Success', 'Category Type deleted.');           \r\n                    this.categoryTypes.splice(ind, 1); //delete from array\r\n                    this._settingsService.setCategories(this.categoryTypes); // update service\r\n                }, error => this._toastService.pop('error', 'Error Deleting Category Type', error._body.message || error.statusText));\r\n        }*/\r\n    }\r\n\r\n    // get index in regionList based on region.id value\r\n    private getScenarioIndex(cID: number): number {\r\n        return 0;\r\n        /*let ind: number = -1\r\n        this.categoryTypes.some((ct, index, _ary) => {\r\n            if (ct.id === cID) ind = index;\r\n            return ct.id === cID;\r\n        });\r\n        return ind;*/\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        this._cdr.detectChanges();\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n}\r\n","module.exports = \"<div class=\\\"regSelect\\\">\\r\\n    Choose Region:\\r\\n    <select [ngModel]=\\\"selectedRegion\\\" (ngModelChange)=\\\"onRegSelect($event)\\\" name=\\\"region\\\">\\r\\n        <option value=\\\"none\\\">None</option>\\r\\n        <option [ngValue]=\\\"i\\\" *ngFor=\\\"let i of regions\\\">{{ i.name }}</option>\\r\\n    </select>\\r\\n</div>\\r\\n\\r\\n<div>\\r\\n    <legend style=\\\"margin-bottom:25px;margin-top:0;\\\">Statistic Groups</legend>\\r\\n</div>\\r\\n\\r\\n<button [hidden]=\\\"loggedInRole !== 'Administrator'\\\" type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewStatGroupForm()\\\">\\r\\n    <i class=\\\"fa fa-plus\\\" aria-hidden=\\\"tru\\\"></i> Add New Statistic Group\\r\\n</button>\\r\\n\\r\\n<form #StatGroupForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"statisticGroups\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th class=\\\"col-xs-4\\\">Name</th>\\r\\n                    <th class=\\\"col-xs-1\\\">Code</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let r of statisticGroups; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i\\r\\n                                *ngIf=\\\"!r.isEditing\\\"\\r\\n                                title=\\\"Edit Statistic Group\\\"\\r\\n                                (click)=\\\"EditRowClicked(i)\\\"\\r\\n                                class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                style=\\\"cursor:pointer;padding:5px;\\\"\\r\\n                            ></i\\r\\n                            >&nbsp;\\r\\n                            <i\\r\\n                                *ngIf=\\\"!r.isEditing\\\"\\r\\n                                title=\\\"Delete Statistic Group\\\"\\r\\n                                (click)=\\\"deleteStatGroup(r.id)\\\"\\r\\n                                class=\\\"fa fa-times\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                style=\\\"cursor:pointer;padding:5px;\\\"\\r\\n                            ></i>\\r\\n                            <i\\r\\n                                *ngIf=\\\"r.isEditing\\\"\\r\\n                                title=\\\"Save Statistic Group\\\"\\r\\n                                (click)=\\\"saveStatGroup(r, i)\\\"\\r\\n                                class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                style=\\\"cursor:pointer;padding:5px;\\\"\\r\\n                            ></i>\\r\\n                            <i\\r\\n                                *ngIf=\\\"r.isEditing\\\"\\r\\n                                title=\\\"Cancel Edit\\\"\\r\\n                                (click)=\\\"CancelEditRowClicked(i)\\\"\\r\\n                                class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                style=\\\"cursor:pointer;padding:5px;\\\"\\r\\n                            ></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!r.isEditing\\\">{{ r.name }}</span>\\r\\n                        <span *ngIf=\\\"r.isEditing\\\"><input type=\\\"text\\\" name=\\\"name\\\" [(ngModel)]=\\\"r.name\\\" required/></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!r.isEditing\\\">{{ r.code }}</span>\\r\\n                        <span *ngIf=\\\"r.isEditing\\\"><input type=\\\"text\\\" name=\\\"code\\\" [(ngModel)]=\\\"r.code\\\" required/></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n\\r\\n<!-- new statistic group form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Statistic Group</h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Statistic Group</h3>\\r\\n        <form [formGroup]=\\\"newStatGroupForm\\\">\\r\\n            <!-- Statistic Group Name* -->\\r\\n            <div\\r\\n                class=\\\"form-group required\\\"\\r\\n                [ngClass]=\\\"{ 'form-invalid': !newStatGroupForm.get('name').valid && newStatGroupForm.get('name').dirty }\\\"\\r\\n            >\\r\\n                <label class=\\\"req\\\" for=\\\"name\\\">Name:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"name\\\" required />\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newStatGroupForm.get('name').valid && newStatGroupForm.get('name').dirty\\\">\\r\\n                    Statistic Group Name is required\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Short Name -->\\r\\n            <div\\r\\n                class=\\\"form-group required\\\"\\r\\n                [ngClass]=\\\"{ 'form-invalid': !newStatGroupForm.get('code').valid && newStatGroupForm.get('code').dirty }\\\"\\r\\n            >\\r\\n                <label class=\\\"req\\\" for=\\\"code\\\">Code:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"code\\\" />\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newStatGroupForm.get('code').valid && newStatGroupForm.get('code').dirty\\\">\\r\\n                    Code is required\\r\\n                </div>\\r\\n            </div>\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('closed')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewStatGroup()\\\" [disabled]=\\\"!newStatGroupForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\\r\\n\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, ChangeDetectorRef, AfterViewChecked, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { Region } from 'app/shared/interfaces/region';\r\nimport { Statisticgroup } from 'app/shared/interfaces/statisticgroup';\r\nimport { SettingsService } from '../../settings.service';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'statisticgroups.component.html',\r\n    styleUrls: ['../../settings.component.css']\r\n})\r\n\r\nexport class StatisticGroupsComponent implements OnInit, OnDestroy {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    @ViewChild('StatGroupForm') statGroupForm;\r\n    public regressionTypes;\r\n    public selectedRegion;\r\n    public regions;\r\n    public selectedRegRegionIDs;\r\n    public selectedStatGroupIDs;\r\n    public selectedRegTypeIDs;\r\n    public statisticGroups: Array<Statisticgroup>;\r\n    public newStatGroupForm: FormGroup;\r\n    public showNewStatForm: boolean;\r\n    private CloseResult;\r\n    private navigationSubscription;\r\n    public loggedInRole;\r\n    private configSettings: Config;\r\n    public allStatGroups: Array<Statisticgroup>;\r\n    public rowBeingEdited: number;\r\n    public tempData;\r\n    public isEditing = false;\r\n\r\n    constructor(public _nssService: NSSService, public _settingsservice: SettingsService, public _route: ActivatedRoute,\r\n        private _fb: FormBuilder, private _modalService: NgbModal, private router: Router,\r\n        private _toasterService: ToasterService, private _configService: ConfigService) {\r\n            this.newStatGroupForm = _fb.group({\r\n                'name': new FormControl(null, Validators.required),\r\n                'code': new FormControl(null, Validators.required)\r\n            });\r\n            this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n                if (e instanceof NavigationEnd) {\r\n                    this.getLoggedInRole();\r\n                }\r\n            });\r\n            this.configSettings = this._configService.getConfiguration();\r\n        }\r\n\r\n    ngOnInit() {\r\n        this._settingsservice.getEntities(this.configSettings.regionURL).subscribe(regions => {\r\n            this.regions = regions;\r\n        });\r\n        this.selectedRegion = 'none';\r\n        this.getAllStatGroups();\r\n\r\n        this._settingsservice.statisticGroups().subscribe(sg => {\r\n            this.statisticGroups = sg;\r\n        });\r\n    }\r\n    public getAllStatGroups() {\r\n        this._settingsservice.getEntities(this.configSettings.statisticGrpURL).subscribe(res => {\r\n            this.allStatGroups = res;\r\n            if (this.selectedRegion === 'none') {this.statisticGroups = res; }\r\n        });\r\n    }\r\n\r\n    public onRegSelect(r: Region) {\r\n        this.selectedRegRegionIDs = []; this.selectedStatGroupIDs = []; this.selectedRegTypeIDs = [];\r\n        this.selectedRegion = r;\r\n        this.getStatGroups(r);\r\n    }\r\n\r\n    private getStatGroups(r) {\r\n        this._settingsservice.getEntities(this.configSettings.regionURL + r.id + '/' + this.configSettings.statisticGrpURL)\r\n            .subscribe(res => {\r\n                this.statisticGroups = res;\r\n        });\r\n    }\r\n\r\n    public showNewStatGroupForm() {\r\n        this.newStatGroupForm.controls['name'].setValue(null);\r\n        this.newStatGroupForm.controls['code'].setValue(null);\r\n        this.showNewStatForm = true;\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then((result) => {\r\n            // this is the solution for the first modal losing scrollability\r\n            if (document.querySelector('body > .modal')) {\r\n                document.body.classList.add('modal-open');\r\n            }\r\n            this.CloseResult = `Closed with: ${result}`;\r\n            if (this.CloseResult) {this.cancelCreateStatGroup(); }\r\n        }, (reason) => {\r\n            this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n            if (this.CloseResult) {this.cancelCreateStatGroup(); }\r\n        });\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else { return `with: ${reason}`; }\r\n    }\r\n\r\n    private cancelCreateStatGroup() {\r\n        this.showNewStatForm = false;\r\n        this.newStatGroupForm.reset();\r\n    }\r\n\r\n    private createNewStatGroup() {\r\n        const newStatGroup = this.newStatGroupForm.value;\r\n        this._settingsservice.postEntity(newStatGroup, this.configSettings.statisticGrpURL)\r\n            .subscribe((response: Statisticgroup) => {\r\n                response.isEditing = false;\r\n                this.cancelCreateStatGroup();\r\n                this._toasterService.pop('success', 'Success', 'Statistic Group was created');\r\n                this.getAllStatGroups();\r\n                this.cancelCreateStatGroup();\r\n            }, error => { this._toasterService.pop('error', 'Error creating Statistic Group', error._body.message || error.statusText); }\r\n        );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n        this.rowBeingEdited = i;\r\n       this.tempData = Object.assign({}, this.statisticGroups[i]); // make a copy in case they cancel\r\n       this.statisticGroups[i].isEditing = true;\r\n       this.isEditing = true; // set to true so create new is disabled\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        this.statisticGroups[i] = Object.assign({}, this.tempData);\r\n        this.statisticGroups[i].isEditing = false;\r\n        this.rowBeingEdited = -1;\r\n        this.isEditing = false; // set to true so create new is disabled\r\n        if (this.statGroupForm.form.dirty) {\r\n            this.statGroupForm.reset();\r\n        }\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveStatGroup(u: Statisticgroup, i: number) {\r\n        if (u.name === undefined || u.code === undefined) {\r\n            // don't save it\r\n            this._toasterService.pop('error', 'Error updating Statistic Group', 'Name and Code are required.');\r\n        } else {\r\n            delete u.isEditing;\r\n            this._settingsservice.putEntity(u.id, u, this.configSettings.statisticGrpURL).subscribe(\r\n                (resp: Statisticgroup) => {\r\n                    this._toasterService.pop('success', 'Success', 'Statistic Group was updated');\r\n                    u.isEditing = false;\r\n                    this.statisticGroups[i] = u;\r\n                    this._settingsservice.setStatGroups(this.statisticGroups);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.statGroupForm.form.dirty) { this.statGroupForm.reset(); }\r\n                }, error => { this._toasterService.pop('error', 'Error updating Statistic Group', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    // delete category type\r\n    public deleteStatGroup(deleteID: number) {\r\n        const check = confirm('Are you sure you want to delete this Statistic Group?');\r\n        if (confirm) {\r\n            // delete it\r\n            const index = this.statisticGroups.findIndex(item => item.id === deleteID);\r\n            this._settingsservice.deleteEntity(deleteID, this.configSettings.statisticGrpURL)\r\n                .subscribe(result => {\r\n                    this._toasterService.pop('success', 'Success', 'Statistic Group was deleted');\r\n                    this.statisticGroups.splice(index, 1);\r\n                    this._settingsservice.setStatGroups(this.statisticGroups); // update service\r\n                }, error => { this._toasterService.pop('error', 'Error deleting Statistic Group', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n\r\n}\r\n","module.exports = \"<div>\\r\\n    <legend style=\\\"margin-bottom:25px;margin-top:0;\\\">Unit Systems</legend>\\r\\n</div>\\r\\n<button [hidden]=\\\"loggedInRole !== 'Administrator'\\\" type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewForm()\\\"><i class=\\\"fa fa-plus\\\"\\r\\n    aria-hidden=\\\"tru\\\"></i> Add New Unit System</button>\\r\\n\\r\\n<form #UnitSystemForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"unitSystems\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th class=\\\"col-xs-2\\\">Unit System</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let u of unitSystems; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i *ngIf=\\\"!u.isEditing\\\" title=\\\"Edit Unit Type\\\" (click)=\\\"EditRowClicked(i)\\\" class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>&nbsp;\\r\\n                            <i *ngIf=\\\"!u.isEditing\\\" title=\\\"Delete Unit Type\\\" (click)=\\\"deleteUnit(u.id)\\\" class=\\\"fa fa-times\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"u.isEditing\\\" title=\\\"Save Unit Type\\\" (click)=\\\"saveUnitSystem(u,i)\\\" class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"u.isEditing\\\" title=\\\"Cancel Edit\\\" (click)=\\\"CancelEditRowClicked(i)\\\" class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!u.isEditing\\\">{{ u.unitSystem }}</span>\\r\\n                        <span *ngIf=\\\"u.isEditing\\\"><input type=\\\"text\\\" name=\\\"id\\\" [(ngModel)]=\\\"u.unitSystem\\\"\\r\\n                                required></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n\\r\\n<!-- new unit type form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Unit Type </h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Unit Type</h3>\\r\\n        <form [formGroup]=\\\"newUnitSystemForm\\\">\\r\\n            <!-- Unit Type Name* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newUnitSystemForm.get('unitSystem').valid && newUnitSystemForm.get('unitSystem').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"unitSystem\\\">Unit System Name:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"unitSystem\\\" required>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newUnitSystemForm.get('unitSystem').valid && newUnitSystemForm.get('unitSystem').dirty\\\">Unit\\r\\n                    Unit System Name is required</div>\\r\\n            </div>\\r\\n\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('clicked')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewUnit()\\\" [disabled]=\\\"!newUnitSystemForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { Regressiontype } from 'app/shared/interfaces/regressiontype';\r\nimport { SettingsService } from '../../settings.service';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\nimport { UnitSystem } from 'app/shared/interfaces/unitsystems';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'unitsystems.component.html'\r\n})\r\nexport class UnitSystemsComponent implements OnInit, OnDestroy {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    @ViewChild('UnitSystemForm') usForm;\r\n    public selectedRegion;\r\n    public regions;\r\n    public selectedRegRegionIDs;\r\n    public selectedStatGroupIDs;\r\n    public selectedRegTypeIDs;\r\n    public regressionTypes: Array<Regressiontype>;\r\n    public newUnitSystemForm: FormGroup;\r\n    public showNewUnitSystemForm: boolean;\r\n    public CloseResult;\r\n    private navigationSubscription;\r\n    public loggedInRole;\r\n    private configSettings: Config;\r\n    public unitSystems: Array<UnitSystem>;\r\n    public isEditing: boolean;\r\n    public rowBeingEdited: number;\r\n    public tempData;\r\n    constructor(\r\n        public _nssService: NSSService,\r\n        public _settingsservice: SettingsService,\r\n        public _route: ActivatedRoute,\r\n        private _fb: FormBuilder,\r\n        private _modalService: NgbModal,\r\n        private router: Router,\r\n        private _toasterService: ToasterService,\r\n        private _configService: ConfigService\r\n    ) {\r\n        this.newUnitSystemForm = _fb.group({\r\n            unitSystem: new FormControl(null, Validators.required)\r\n        });\r\n        this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n            if (e instanceof NavigationEnd) {\r\n                this.getLoggedInRole();\r\n            }\r\n        });\r\n        this.configSettings = this._configService.getConfiguration();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.isEditing = false;\r\n        this._settingsservice.getEntities(this.configSettings.unitSystemsURL).subscribe(res => {\r\n            this.unitSystems = res;\r\n        });\r\n\r\n        // get new units when new one posted/edited\r\n        this._settingsservice.unitSystems().subscribe(res => {\r\n            this.unitSystems = res;\r\n        });\r\n    }\r\n\r\n    showNewForm() {\r\n        this.newUnitSystemForm.controls['unitSystem'].setValue(null);\r\n        this.showNewUnitSystemForm = true;\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then(\r\n            result => {\r\n                // this is the solution for the first modal losing scrollability\r\n                if (document.querySelector('body > .modal')) {\r\n                    document.body.classList.add('modal-open');\r\n                }\r\n                this.CloseResult = `Closed with: ${result}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateUnit();\r\n                }\r\n            },\r\n            reason => {\r\n                this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateUnit();\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else {\r\n            return `with: ${reason}`;\r\n        }\r\n    }\r\n\r\n    private cancelCreateUnit() {\r\n        this.showNewUnitSystemForm = false;\r\n        this.newUnitSystemForm.reset();\r\n    }\r\n\r\n    private createNewUnit() {\r\n        const newUnit = this.newUnitSystemForm.value;\r\n        this._settingsservice.postEntity(newUnit, this.configSettings.unitSystemsURL).subscribe(\r\n            (response: UnitSystem) => {\r\n                response.isEditing = false;\r\n                this.unitSystems.push(response);\r\n                this._settingsservice.setUnitSystems(this.unitSystems);\r\n                this._toasterService.pop('success', 'Success', 'Unit System was created');\r\n                this.cancelCreateUnit();\r\n            }, error => { this._toasterService.pop('error', 'Error creating Unit System', error._body.message || error.statusText); }\r\n        );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n        // from wateruse\r\n        this.rowBeingEdited = i;\r\n        this.tempData = Object.assign({}, this.unitSystems[i]); // make a copy in case they cancel\r\n        this.unitSystems[i].isEditing = true;\r\n        this.isEditing = true; // set to true so create new is disabled\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        this.unitSystems[i] = Object.assign({}, this.tempData);\r\n        this.unitSystems[i].isEditing = false;\r\n        this.rowBeingEdited = -1;\r\n        this.isEditing = false; // set to true so create new is disabled\r\n        if (this.usForm.form.dirty) {\r\n            this.usForm.reset();\r\n        }\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveUnitSystem(u: UnitSystem, i: number) {\r\n        if (u.unitSystem === undefined) {\r\n            // don't save it\r\n            this._toasterService.pop('error', 'Error updating Statistic Group', 'Unit System Name is required.');\r\n        } else {\r\n            delete u.isEditing;\r\n            this._settingsservice.putEntity(u.id, u, this.configSettings.unitSystemsURL).subscribe(\r\n                (resp: UnitSystem) => {\r\n                    this._toasterService.pop('success', 'Success', 'Unit System was updated');\r\n                    u.isEditing = false;\r\n                    this.unitSystems[i] = u;\r\n                    this._settingsservice.setUnitSystems(this.unitSystems);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.usForm.form.dirty) { this.usForm.reset(); }\r\n                }, error => { this._toasterService.pop('error', 'Error updating Unit System', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    // delete category type\r\n    public deleteUnit(deleteID: number) {\r\n        const check = confirm('Are you sure you want to delete this Unit System?');\r\n        if (confirm) {\r\n            // delete it\r\n            const index = this.unitSystems.findIndex(item => item.id === deleteID);\r\n            this._settingsservice.deleteEntity(deleteID, this.configSettings.unitSystemsURL)\r\n                .subscribe(result => {\r\n                    this._toasterService.pop('success', 'Success', 'Unit System was deleted');\r\n                    this.unitSystems.splice(index, 1);\r\n                    this._settingsservice.setUnitSystems(this.unitSystems); // update service\r\n                }, error => { this._toasterService.pop('error', 'Error deleting Unit', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n}\r\n","module.exports = \"<div>\\r\\n    <legend style=\\\"margin-bottom:25px;margin-top:0;\\\">Unit Types</legend>\\r\\n</div>\\r\\n<button [hidden]=\\\"loggedInRole !== 'Administrator'\\\" type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewUnitTypeForm()\\\"><i class=\\\"fa fa-plus\\\"\\r\\n    aria-hidden=\\\"tru\\\"></i> Add New Unit Type</button>\\r\\n\\r\\n<form #UnitTypeForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"unitTypes\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th>Name</th>\\r\\n                    <th class=\\\"col-xs-4\\\">Abbreviation</th>\\r\\n                    <th class=\\\"col-xs-4\\\">Unit System Type ID</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let u of unitTypes; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i *ngIf=\\\"!u.isEditing\\\" title=\\\"Edit Unit Type\\\" (click)=\\\"EditRowClicked(i)\\\" class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>&nbsp;\\r\\n                            <i *ngIf=\\\"!u.isEditing\\\" title=\\\"Delete Unit Type\\\" (click)=\\\"deleteUnit(u.id)\\\" class=\\\"fa fa-times\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"u.isEditing\\\" title=\\\"Save Unit Type\\\" (click)=\\\"saveUnit(u,i)\\\" class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"u.isEditing\\\" title=\\\"Cancel Edit\\\" (click)=\\\"CancelEditRowClicked(i)\\\" class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!u.isEditing\\\">{{ u.name }}</span>\\r\\n                        <span *ngIf=\\\"u.isEditing\\\"><input type=\\\"text\\\" name=\\\"name\\\" [(ngModel)]=\\\"u.name\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!u.isEditing\\\">{{ u.abbreviation }}</span>\\r\\n                        <span *ngIf=\\\"u.isEditing\\\"><input type=\\\"text\\\" rows=\\\"3\\\" [(ngModel)]=\\\"u.abbreviation\\\" name=\\\"abbreviation\\\"></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!u.isEditing\\\">{{ u.unitSystemTypeID }}</span>\\r\\n                        <span *ngIf=\\\"u.isEditing\\\"><select class=\\\"form-control\\\" name=\\\"unitSystemTypeID\\\" [(ngModel)]=\\\"u.unitSystemTypeID\\\">\\r\\n                                <option *ngFor=\\\"let usys of unitSystems\\\" [value]=\\\"usys.id\\\">{{usys.unitSystem}}</option>\\r\\n                            </select></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n\\r\\n<!-- new unit type form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Unit Type </h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Unit Type</h3>\\r\\n        <form [formGroup]=\\\"newUnitForm\\\">\\r\\n            <!-- Unit Type Name* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newUnitForm.get('name').valid && newUnitForm.get('name').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"name\\\">Name:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"name\\\" required>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newUnitForm.get('name').valid && newUnitForm.get('name').dirty\\\">Unit\\r\\n                    Name is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Abbreviation* -->\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"abbreviation\\\">Abbr:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"abbreviation\\\">\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newUnitForm.get('abbreviation').valid && newUnitForm.get('abbreviation').dirty\\\">Abbreviation\\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Unit System Type ID -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newUnitForm.get('unitSystemTypeID').valid && newUnitForm.get('unitSystemTypeID').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"unitSystemTypeID\\\">Unit System Type ID:</label>\\r\\n                <select class=\\\"form-control\\\" formControlName=\\\"unitSystemTypeID\\\">\\r\\n                    <option *ngFor=\\\"let usys of unitSystems\\\" [value]=\\\"usys.id\\\">{{usys.unitSystem}}</option>\\r\\n                </select>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newUnitForm.get('unitSystemTypeID').valid && newUnitForm.get('unitSystemTypeID').dirty\\\">Code\\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('clicked')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewUnit()\\\" [disabled]=\\\"!newUnitForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { Regressiontype } from 'app/shared/interfaces/regressiontype';\r\nimport { Unittype } from 'app/shared/interfaces/unittype';\r\nimport { SettingsService } from '../../settings.service';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\nimport { UnitSystem } from 'app/shared/interfaces/unitsystems';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'unittypes.component.html'\r\n})\r\nexport class UnitTypesComponent implements OnInit, OnDestroy {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    @ViewChild('UnitTypeForm') unitForm;\r\n    public selectedRegion;\r\n    public regions;\r\n    public selectedRegRegionIDs;\r\n    public selectedStatGroupIDs;\r\n    public selectedRegTypeIDs;\r\n    public regressionTypes: Array<Regressiontype>;\r\n    public newUnitForm: FormGroup;\r\n    public showNewUnitForm: boolean;\r\n    public unitTypes: Array<Unittype>;\r\n    public CloseResult;\r\n    private navigationSubscription;\r\n    public loggedInRole;\r\n    private configSettings: Config;\r\n    public unitSystems: Array<UnitSystem>;\r\n    public isEditing: boolean;\r\n    public rowBeingEdited: number;\r\n    public tempData;\r\n    constructor(\r\n        public _nssService: NSSService,\r\n        public _settingsservice: SettingsService,\r\n        public _route: ActivatedRoute,\r\n        private _fb: FormBuilder,\r\n        private _modalService: NgbModal,\r\n        private router: Router,\r\n        private _toasterService: ToasterService,\r\n        private _configService: ConfigService\r\n    ) {\r\n        this.newUnitForm = _fb.group({\r\n            id: new FormControl(null),\r\n            name: new FormControl(null, Validators.required),\r\n            abbreviation: new FormControl(null),\r\n            unitSystemTypeID: new FormControl(null, Validators.required)\r\n        });\r\n        this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n            if (e instanceof NavigationEnd) {\r\n                this.getLoggedInRole();\r\n            }\r\n        });\r\n        this.configSettings = this._configService.getConfiguration();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.isEditing = false;\r\n        this._settingsservice.getEntities(this.configSettings.unitsURL).subscribe(res => {\r\n            this.unitTypes = res;\r\n        });\r\n        this._settingsservice.getEntities(this.configSettings.unitSystemsURL).subscribe(usys => {\r\n            this.unitSystems = usys;\r\n        });\r\n\r\n        // get new units when new one posted/edited\r\n        this._settingsservice.units().subscribe(res => {\r\n            this.unitTypes = res;\r\n        });\r\n    }\r\n\r\n    showNewUnitTypeForm() {\r\n        this.newUnitForm.controls['name'].setValue(null);\r\n        this.newUnitForm.controls['abbreviation'].setValue(null);\r\n        this.newUnitForm.controls['unitSystemTypeID'].setValue(null);\r\n        this.showNewUnitForm = true;\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then(\r\n            result => {\r\n                // this is the solution for the first modal losing scrollability\r\n                if (document.querySelector('body > .modal')) {\r\n                    document.body.classList.add('modal-open');\r\n                }\r\n                this.CloseResult = `Closed with: ${result}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateUnit();\r\n                }\r\n            },\r\n            reason => {\r\n                this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n                if (this.CloseResult) {\r\n                    this.cancelCreateUnit();\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else {\r\n            return `with: ${reason}`;\r\n        }\r\n    }\r\n\r\n    private cancelCreateUnit() {\r\n        this.showNewUnitForm = false;\r\n        this.newUnitForm.reset();\r\n    }\r\n\r\n    private createNewUnit() {\r\n        const newUnit = this.newUnitForm.value;\r\n        this._settingsservice.postEntity(newUnit, this.configSettings.unitsURL)\r\n            .subscribe((response: Unittype) => {\r\n                response.isEditing = false;\r\n                this.unitTypes.push(response);\r\n                this._settingsservice.setUnits(this.unitTypes);\r\n                this._toasterService.pop('success', 'Success', 'Unit was created');\r\n                this.cancelCreateUnit();\r\n            }, error => { this._toasterService.pop('error', 'Error creating Unit', error._body.message || error.statusText); }\r\n        );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n       // from wateruse\r\n       this.rowBeingEdited = i;\r\n       this.tempData = Object.assign({}, this.unitTypes[i]); // make a copy in case they cancel\r\n       this.unitTypes[i].isEditing = true;\r\n       this.isEditing = true; // set to true so create new is disabled\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        this.unitTypes[i] = Object.assign({}, this.tempData);\r\n        this.unitTypes[i].isEditing = false;\r\n        this.rowBeingEdited = -1;\r\n        this.isEditing = false; // set to true so create new is disabled\r\n        if (this.unitForm.form.dirty) {\r\n            this.unitForm.reset();\r\n        }\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveUnit(u: Unittype, i: number) {\r\n        if (u.name === undefined || u.abbreviation === undefined || u.unitSystemTypeID === undefined) {\r\n            // don't save it\r\n            this._toasterService.pop('error', 'Error updating Statistic Group', 'Name, abbreviation and unit system ID are required.');\r\n        } else {\r\n            delete u.isEditing;\r\n            this._settingsservice.putEntity(u.id, u, this.configSettings.unitsURL).subscribe(\r\n                (resp: UnitSystem) => {\r\n                    this._toasterService.pop('success', 'Success', 'Unit was updated');\r\n                    u.isEditing = false;\r\n                    this.unitTypes[i] = u;\r\n                    this._settingsservice.setUnits(this.unitTypes);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.unitForm.form.dirty) { this.unitForm.reset(); }\r\n                }, error => { this._toasterService.pop('error', 'Error updating Unit', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    // delete category type\r\n    public deleteUnit(deleteID: number) {\r\n        const check = confirm('Are you sure you want to delete this Unit Type?');\r\n        if (confirm) {\r\n            // delete it\r\n            const index = this.unitTypes.findIndex(item => item.id === deleteID);\r\n            this._settingsservice.deleteEntity(deleteID, this.configSettings.unitsURL)\r\n                .subscribe(result => {\r\n                    this._toasterService.pop('success', 'Success', 'Unit was deleted');\r\n                    this.unitTypes.splice(index, 1);\r\n                    this._settingsservice.setUnits(this.unitTypes); // update service\r\n                }, error => { this._toasterService.pop('error', 'Error deleting Unit', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n}\r\n","module.exports = \"<div>\\r\\n    <legend style=\\\"margin-bottom:25px;margin-top:0;\\\">Variable Types</legend>\\r\\n</div>\\r\\n<button [hidden]=\\\"loggedInRole !== 'Administrator'\\\" type=\\\"button\\\" class=\\\"btn-blue\\\" (click)=\\\"showNewVariableForm()\\\"><i class=\\\"fa fa-plus\\\"\\r\\n    aria-hidden=\\\"tru\\\"></i> Add New Variable Type</button>\\r\\n\\r\\n<form #VariableTypeForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"variableTypes\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"col-xs-1\\\"></th>\\r\\n                    <th class=\\\"col-xs-4\\\">Name</th>\\r\\n                    <th>Description</th>\\r\\n                    <th class=\\\"col-xs-1\\\">Code</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n                <tr *ngFor=\\\"let v of variableTypes; let i = index\\\">\\r\\n                    <td>\\r\\n                        <div class=\\\"data-controls\\\">\\r\\n                            <i *ngIf=\\\"!v.isEditing\\\" title=\\\"Edit Variable Type\\\" (click)=\\\"EditRowClicked(i)\\\" class=\\\"fa fa-pencil\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>&nbsp;\\r\\n                            <i *ngIf=\\\"!v.isEditing\\\" title=\\\"Delete Variable Type\\\" (click)=\\\"deleteVariable(v.id)\\\" class=\\\"fa fa-times\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"v.isEditing\\\" title=\\\"Save Variable Type\\\" (click)=\\\"saveVariable(v,i)\\\" class=\\\"fa fa-floppy-o\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                            <i *ngIf=\\\"v.isEditing\\\" title=\\\"Cancel Edit\\\" (click)=\\\"CancelEditRowClicked(i)\\\" class=\\\"fa fa-history\\\"\\r\\n                                aria-hidden=\\\"true\\\" style=\\\"cursor:pointer;padding:5px;\\\"></i>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.name }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><input type=\\\"text\\\" name=\\\"name\\\" [(ngModel)]=\\\"v.name\\\" required></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.description }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><textarea rows=\\\"3\\\" [(ngModel)]=\\\"v.description\\\" name=\\\"description\\\"></textarea></span>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <span *ngIf=\\\"!v.isEditing\\\">{{ v.code }}</span>\\r\\n                        <span *ngIf=\\\"v.isEditing\\\"><input type=\\\"text\\\" name=\\\"code\\\" [(ngModel)]=\\\"v.code\\\" required></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</form>\\r\\n<br />\\r\\n\\r\\n<!-- new variable type form -->\\r\\n<ng-template #add let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">New Variable Type </h4>\\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <h3 class=\\\"modal-title\\\">New Variable Type</h3>\\r\\n        <form [formGroup]=\\\"newVarForm\\\">\\r\\n            <!-- Variable Type Name* -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newVarForm.get('name').valid && newVarForm.get('name').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"name\\\">Name:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"name\\\" required>\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newVarForm.get('name').valid && newVarForm.get('name').dirty\\\">Variable\\r\\n                    Name is required</div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Description -->\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"description\\\">Description:</label>\\r\\n                <textarea class=\\\"form-control\\\" rows=\\\"3\\\" placeholder=\\\"\\\" formControlName=\\\"description\\\"></textarea>\\r\\n            </div>\\r\\n\\r\\n            <!-- Short Name -->\\r\\n            <div class=\\\"form-group required\\\" [ngClass]=\\\"{'form-invalid': !newVarForm.get('code').valid && newVarForm.get('code').dirty}\\\">\\r\\n                <label class=\\\"req\\\" for=\\\"code\\\">Code:</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" formControlName=\\\"code\\\">\\r\\n                <div class=\\\"input-invalid-warning\\\" *ngIf=\\\"!newVarForm.get('code').valid && newVarForm.get('code').dirty\\\">Code\\r\\n                    is required</div>\\r\\n            </div>\\r\\n\\r\\n        </form>\\r\\n\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"d('closed')\\\" class=\\\"btn-black\\\">Cancel</button>\\r\\n            <button type=\\\"button\\\" (click)=\\\"createNewVariableType()\\\" [disabled]=\\\"!newVarForm.valid\\\" class=\\\"btn-blue\\\">Create</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, ViewChild, ChangeDetectorRef, AfterViewChecked, TemplateRef, OnDestroy } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToasterService } from 'angular2-toaster/angular2-toaster';\r\n\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\n\r\nimport { NSSService } from 'app/shared/services/app.service';\r\nimport { SettingsService } from '../../settings.service';\r\n\r\nimport { FormBuilder, FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Variabletype } from 'app/shared/interfaces/variabletype';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'variabletypes.component.html'\r\n})\r\n\r\nexport class VariableTypesComponent implements OnInit, OnDestroy {\r\n    @ViewChild('add')\r\n    public addRef: TemplateRef<any>;\r\n    @ViewChild('VariableTypeForm') varForm;\r\n    public selectedRegion;\r\n    public regions;\r\n    public selectedRegRegionIDs;\r\n    public selectedStatGroupIDs;\r\n    public selectedRegTypeIDs;\r\n    public newVarForm: FormGroup;\r\n    public showNewVarForm: boolean;\r\n    public variableTypes: Array<Variabletype>;\r\n    private CloseResult;\r\n    private navigationSubscription;\r\n    public loggedInRole;\r\n    private configSettings: Config;\r\n    public isEditing: boolean;\r\n    public rowBeingEdited: number;\r\n    public tempData;\r\n    constructor(public _nssService: NSSService, public _settingsservice: SettingsService, public _route: ActivatedRoute,\r\n        private _fb: FormBuilder, private _modalService: NgbModal, private router: Router, private _toasterService: ToasterService,\r\n        private _configService: ConfigService) {\r\n            this.newVarForm = _fb.group({\r\n                'name': new FormControl(null, Validators.required),\r\n                'description': new FormControl(null),\r\n                'code': new FormControl(null, Validators.required)\r\n            });\r\n            this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n                if (e instanceof NavigationEnd) {\r\n                    this.getLoggedInRole();\r\n                }\r\n            });\r\n            this.configSettings = this._configService.getConfiguration();\r\n        }\r\n\r\n    ngOnInit() {\r\n        this._settingsservice.getEntities(this.configSettings.variablesURL).subscribe(res => {\r\n            this.variableTypes = res;\r\n        });\r\n\r\n        this._settingsservice.variables().subscribe(res => {\r\n            this.variableTypes = res;\r\n        });\r\n    }\r\n\r\n    showNewVariableForm() {\r\n        this.newVarForm.controls['name'].setValue(null);\r\n        this.newVarForm.controls['description'].setValue(null);\r\n        this.newVarForm.controls['code'].setValue(null);\r\n        this.showNewVarForm = true;\r\n        this._modalService.open(this.addRef, { backdrop: 'static', keyboard: false, size: 'lg' }).result.then((result) => {\r\n            // this is the solution for the first modal losing scrollability\r\n            if (document.querySelector('body > .modal')) {\r\n                document.body.classList.add('modal-open');\r\n            }\r\n            this.CloseResult = `Closed with: ${result}`;\r\n            if (this.CloseResult) {this.cancelCreateVariableType(); }\r\n        }, (reason) => {\r\n            this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n            if (this.CloseResult) {this.cancelCreateVariableType(); }\r\n        });\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        } else { return `with: ${reason}`; }\r\n    }\r\n\r\n    private cancelCreateVariableType() {\r\n        this.showNewVarForm = false;\r\n        this.newVarForm.reset();\r\n    }\r\n\r\n    private createNewVariableType() {\r\n        const newItem = this.newVarForm.value;\r\n        this._settingsservice.postEntity(newItem, this.configSettings.variablesURL)\r\n            .subscribe((response: Variabletype) => {\r\n                response.isEditing = false;\r\n                this.variableTypes.push(response);\r\n                this._settingsservice.setVariables(this.variableTypes);\r\n                this._toasterService.pop('success', 'Success', 'Variable was created');\r\n                this.cancelCreateVariableType();\r\n            }, error => { this._toasterService.pop('error', 'Error creating Variable', error._body.message || error.statusText); }\r\n        );\r\n    }\r\n\r\n    private EditRowClicked(i: number) {\r\n       this.rowBeingEdited = i;\r\n       this.tempData = Object.assign({}, this.variableTypes[i]); // make a copy in case they cancel\r\n       this.variableTypes[i].isEditing = true;\r\n       this.isEditing = true; // set to true so create new is disabled\r\n    }\r\n\r\n    public CancelEditRowClicked(i: number) {\r\n        this.variableTypes[i] = Object.assign({}, this.tempData);\r\n        this.variableTypes[i].isEditing = false;\r\n        this.rowBeingEdited = -1;\r\n        this.isEditing = false; // set to true so create new is disabled\r\n        if (this.varForm.form.dirty) {\r\n            this.varForm.reset();\r\n        }\r\n    }\r\n\r\n    // edits made, save clicked\r\n    public saveVariable(u: Variabletype, i: number) {\r\n        if (u.name === undefined || u.description === undefined || u.code === undefined) {\r\n            // don't save it\r\n            this._toasterService.pop('error', 'Error updating Statistic Group', 'Name, description and Code are required.');\r\n        } else {\r\n            delete u.isEditing;\r\n            this._settingsservice.putEntity(u.id, u, this.configSettings.variablesURL).subscribe(\r\n                (resp: Variabletype) => {\r\n                    this._toasterService.pop('success', 'Success', 'Variable was updated');\r\n                    u.isEditing = false;\r\n                    this.variableTypes[i] = u;\r\n                    this._settingsservice.setVariables(this.variableTypes);\r\n                    this.rowBeingEdited = -1;\r\n                    this.isEditing = false; // set to true so create new is disabled\r\n                    if (this.varForm.form.dirty) { this.varForm.reset(); }\r\n                }, error => { this._toasterService.pop('error', 'Error updating Variable', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    // delete category type\r\n    public deleteVariable(deleteID: number) {\r\n        const check = confirm('Are you sure you want to delete this Variable?');\r\n        if (confirm) {\r\n            // delete it\r\n            const index = this.variableTypes.findIndex(item => item.id === deleteID);\r\n            this._settingsservice.deleteEntity(deleteID, this.configSettings.variablesURL)\r\n                .subscribe(result => {\r\n                    this._toasterService.pop('success', 'Success', 'Variable was deleted');\r\n                    this.variableTypes.splice(index, 1);\r\n                    this._settingsservice.setVariables(this.variableTypes); // update service\r\n                }, error => { this._toasterService.pop('error', 'Error deleting Variable', error._body.message || error.statusText); }\r\n            );\r\n        }\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n\r\n}\r\n","module.exports = \" .page-padding { \\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    box-sizing: border-box;\\r\\n    padding: 55px;\\r\\n    padding-top: 75px;\\r\\n }\\r\\n\\r\\n #resource-list #sidebar-wrapper {\\r\\n    display: inline-block;\\r\\n    width: 20%;\\r\\n    width: calc(0px + 200px);\\r\\n    vertical-align: top;\\r\\n    left: 0;\\r\\n    margin: 0 auto;\\r\\n    background-color: transparent;\\r\\n    background: none;\\r\\n    background-image: none;\\r\\n    position: relative !important;\\r\\n}\\r\\n\\r\\n #resource-list #page-content-wrapper {\\r\\n    width: 80%;\\r\\n    width: calc(100% - 200px);\\r\\n    display: inline-block;\\r\\n    vertical-align: top;\\r\\n    padding: 20px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n h1 {\\r\\n    font-size: 2.5rem !important;\\r\\n}\\r\\n\\r\\n .hidden {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n .btn-blue {\\r\\n    margin-right: 5px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2V0dGluZ3Mvc2V0dGluZ3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FBQztJQUNHLGVBQWU7SUFDZixZQUFZO0lBQ1osdUJBQXVCO0lBQ3ZCLGNBQWM7SUFDZCxrQkFBa0I7RUFDcEI7O0NBRUQ7SUFDRyxzQkFBc0I7SUFDdEIsV0FBVztJQUNYLHlCQUF5QjtJQUN6QixvQkFBb0I7SUFDcEIsUUFBUTtJQUNSLGVBQWU7SUFDZiw4QkFBOEI7SUFDOUIsaUJBQWlCO0lBQ2pCLHVCQUF1QjtJQUN2Qiw4QkFBOEI7Q0FDakM7O0NBRUQ7SUFDSSxXQUFXO0lBQ1gsMEJBQTBCO0lBQzFCLHNCQUFzQjtJQUN0QixvQkFBb0I7SUFDcEIsY0FBYztJQUNkLG1CQUFtQjtDQUN0Qjs7Q0FFRDtJQUNJLDZCQUE2QjtDQUNoQzs7Q0FFRDtJQUNJLGNBQWM7Q0FDakI7O0NBRUQ7SUFDSSxrQkFBa0I7Q0FDckIiLCJmaWxlIjoic3JjL2FwcC9zZXR0aW5ncy9zZXR0aW5ncy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiIC5wYWdlLXBhZGRpbmcgeyBcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgcGFkZGluZzogNTVweDtcclxuICAgIHBhZGRpbmctdG9wOiA3NXB4O1xyXG4gfVxyXG5cclxuICNyZXNvdXJjZS1saXN0ICNzaWRlYmFyLXdyYXBwZXIge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgd2lkdGg6IDIwJTtcclxuICAgIHdpZHRoOiBjYWxjKDBweCArIDIwMHB4KTtcclxuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbiNyZXNvdXJjZS1saXN0ICNwYWdlLWNvbnRlbnQtd3JhcHBlciB7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDIwMHB4KTtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG5oMSB7XHJcbiAgICBmb250LXNpemU6IDIuNXJlbSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uaGlkZGVuIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbi5idG4tYmx1ZSB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxufSJdfQ== */\"","module.exports = \"<!-- toaster directive -->\\r\\n<toaster-container></toaster-container>\\r\\n<!-- / toaster directive -->\\r\\n\\r\\n<div class=\\\"page-padding\\\">\\r\\n    <div id=\\\"resource-list\\\">\\r\\n        <div id=\\\"sidebar-wrapper\\\">\\r\\n            <h1>Lookups</h1>\\r\\n            <ul class=\\\"sidebar-list-links\\\">\\r\\n                <li><a [routerLink]=\\\"['citations']\\\" routerLinkActive=\\\"active\\\">Citations</a></li>\\r\\n                <li><a [class.hidden]=\\\"loggedInRole !== 'Administrator'\\\" [routerLink]=\\\"['errors']\\\" routerLinkActive=\\\"active\\\">Errors</a></li>\\r\\n                <li><a [class.hidden]=\\\"loggedInRole !== 'Administrator'\\\" [routerLink]=\\\"['managers']\\\" routerLinkActive=\\\"active\\\">Managers</a></li>\\r\\n                <li><a [class.hidden]=\\\"loggedInRole !== 'Administrator'\\\" [routerLink]=\\\"['regions']\\\"  routerLinkActive=\\\"active\\\">Regions</a></li>\\r\\n                <li><a [routerLink]=\\\"['regressionregions']\\\" routerLinkActive=\\\"active\\\">Regression Regions</a></li>\\r\\n                <li><a [routerLink]=\\\"['regressiontypes']\\\" routerLinkActive=\\\"active\\\">Regression Types (Statistics)</a></li>\\r\\n                <li><a [class.hidden]=\\\"loggedInRole !== 'Administrator'\\\" [routerLink]=\\\"['roles']\\\"  routerLinkActive=\\\"active\\\">Roles</a></li>\\r\\n                <li><a [routerLink]=\\\"['scenarios']\\\" routerLinkActive=\\\"active\\\">Scenarios</a></li>\\r\\n                <li><a [routerLink]=\\\"['statisticgroups']\\\" routerLinkActive=\\\"active\\\">Statistic Groups</a></li>\\r\\n                <li><a [routerLink]=\\\"['unittypes']\\\" routerLinkActive=\\\"active\\\">Unit Types</a></li>\\r\\n                <li><a [routerLink]=\\\"['unitsystems']\\\" routerLinkActive=\\\"active\\\">Unit Systems</a></li>\\r\\n                <li><a [routerLink]=\\\"['variabletypes']\\\"  routerLinkActive=\\\"active\\\">Variable Types</a></li>\\r\\n            </ul>\\r\\n        </div>\\r\\n    \\r\\n        <div id=\\\"page-content-wrapper\\\" class=\\\"pull-right\\\">\\r\\n            <router-outlet></router-outlet>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","// ------------------------------------------------------------------------------\r\n// ----- regions.component.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: regions crud in admin settings page\r\n\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\n\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { Http, Headers, RequestOptions } from '@angular/http';\r\nimport { throwError as observableThrowError, } from 'rxjs';\r\nimport { ToasterContainerComponent, ToasterService } from 'angular2-toaster/angular2-toaster';\r\nimport { Toast } from 'angular2-toaster/src/toast';\r\n\r\nimport { NSSService } from '../shared/services/app.service';\r\nimport { Region } from '../shared/interfaces/region';\r\nimport { Config } from '../shared/interfaces/config';\r\nimport { ConfigService } from '../config.service';\r\nimport { AuthService } from '../shared/services/auth.service';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    templateUrl: 'settings.component.html',\r\n    styleUrls: ['./settings.component.css']\r\n})\r\nexport class SettingsComponent implements OnInit, OnDestroy {\r\n    public services;\r\n    public regions: Array<Region>;\r\n    public configSettings: Config;\r\n    public isAdmin: boolean;\r\n    public loggedInRole: string;\r\n    private navigationSubscription;\r\n    private jsonHeader: Headers = new Headers({ Accept: 'application/json', 'Content-Type': 'application/json' });\r\n    public toast: Toast;\r\n    constructor(\r\n        public _nssService: NSSService,\r\n        private _http: Http,\r\n        private _configService: ConfigService,\r\n        private _authService: AuthService,\r\n        private _toasterService: ToasterService,\r\n        private router: Router\r\n    ) {\r\n        this.configSettings = this._configService.getConfiguration();\r\n        this.navigationSubscription = this.router.events.subscribe((e: any) => {\r\n            if (e instanceof NavigationEnd) {\r\n                this.getLoggedInRole();\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (localStorage.getItem('credentials') === undefined) {\r\n            this.router.navigate(['/']);\r\n        }\r\n        this.getLoggedInRole();\r\n        // subscribe to getToast\r\n        this._nssService.getToast().subscribe((t: Toast) => {\r\n            this.toast = t;\r\n            this._toasterService.pop(this.toast);\r\n        });\r\n    }\r\n\r\n    public getServices(): void {\r\n        const options = new RequestOptions({ headers: this.jsonHeader });\r\n        this._http\r\n            .get(this.configSettings.baseURL, options)\r\n            .map(res => <Array<Region>>res.json())\r\n            .catch(this.handleError)\r\n            .subscribe(r => {\r\n                console.log(r);\r\n            });\r\n    }\r\n\r\n    private handleError(error: any) {\r\n        const errMsg = error.message ? error.message : error.status ? `${error.status} - ${error.statusText}` : 'Server error';\r\n        console.error(errMsg);\r\n        return observableThrowError(errMsg);\r\n    }\r\n\r\n    private getLoggedInRole() {\r\n        this.loggedInRole = localStorage.getItem('loggedInRole');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.navigationSubscription.unsubscribe();\r\n    }\r\n}\r\n","// ------------------------------------------------------------------------------\r\n// ----- settings.service..ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: services to get/store/post/put/delete via http and subjects used throughout the application\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Http, Headers, RequestOptions, Response, URLSearchParams } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport 'rxjs/add/observable/throw';\r\n\r\nimport { Region } from 'app/shared/interfaces/region';\r\nimport { Statisticgroup } from 'app/shared/interfaces/statisticgroup';\r\nimport { Regressionregion } from 'app/shared/interfaces/regressionregion';\r\nimport { Regressiontype } from 'app/shared/interfaces/regressiontype';\r\nimport { Scenario } from 'app/shared/interfaces/scenario';\r\nimport { Variabletype } from 'app/shared/interfaces/variabletype';\r\nimport { Unittype } from 'app/shared/interfaces/unittype';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from 'app/config.service';\r\nimport { Manager } from 'app/shared/interfaces/manager';\r\nimport { UnitSystem } from 'app/shared/interfaces/unitsystems';\r\nimport { Citation } from 'app/shared/interfaces/citation';\r\nimport { map, catchError } from 'rxjs/operators';\r\nimport { Error } from 'app/shared/interfaces/error';\r\nimport { Role } from 'app/shared/interfaces/role';\r\n\r\n@Injectable()\r\nexport class SettingsService {\r\n    public authHeader: Headers = new Headers({\r\n        'Content-Type': 'application/json',\r\n        Authorization: localStorage.getItem('credentials')\r\n    });\r\n    private configSettings: Config;\r\n    // SUBJECTS //////////////////////////////////////\r\n    private _regionSubject: BehaviorSubject<Array<Region>> = <BehaviorSubject<Region[]>>new BehaviorSubject([]);\r\n    private _statisticGroupSubject: BehaviorSubject<Array<Statisticgroup>> = <BehaviorSubject<Statisticgroup[]>>new BehaviorSubject([]);\r\n    private _regRegionSubject: BehaviorSubject<Array<Regressionregion>> = <BehaviorSubject<Regressionregion[]>>new BehaviorSubject([]);\r\n    private _regTypeSubject: BehaviorSubject<Array<Regressiontype>> = <BehaviorSubject<Regressiontype[]>>new BehaviorSubject([]);\r\n    private _scenarioSubject: BehaviorSubject<Array<Scenario>> = <BehaviorSubject<Scenario[]>>new BehaviorSubject([]);\r\n    private _variableTypeSubject: BehaviorSubject<Array<Variabletype>> = <BehaviorSubject<Variabletype[]>>new BehaviorSubject([]);\r\n    private _unitTypeSubject: BehaviorSubject<Array<Unittype>> = <BehaviorSubject<Unittype[]>>new BehaviorSubject([]);\r\n    private _unitSystemSubject: BehaviorSubject<Array<UnitSystem>> = <BehaviorSubject<UnitSystem[]>>new BehaviorSubject([]);\r\n    private _managersSubject: BehaviorSubject<Array<Manager>> = <BehaviorSubject<Manager[]>>new BehaviorSubject([]);\r\n    private _citationsSubject: BehaviorSubject<Array<Citation>> = <BehaviorSubject<Citation[]>>new BehaviorSubject([]);\r\n    private _errorsSubject: BehaviorSubject<Array<Error>> = <BehaviorSubject<Error[]>>new BehaviorSubject([]);\r\n    private _rolesSubject: BehaviorSubject<Array<Role>> = <BehaviorSubject<Role[]>>new BehaviorSubject([]);\r\n\r\n\r\n    constructor(private _http: Http, private _configService: ConfigService) {\r\n        this.configSettings = this._configService.getConfiguration();\r\n    }\r\n\r\n    // GETTERS /////////////////////////////////////////////\r\n    public regions(): Observable<Array<Region>> {\r\n        return this._regionSubject.asObservable();\r\n    }\r\n    public statisticGroups(): Observable<Array<Statisticgroup>> {\r\n        return this._statisticGroupSubject.asObservable();\r\n    }\r\n    public regRegions(): Observable<Array<Regressionregion>> {\r\n        return this._regRegionSubject.asObservable();\r\n    }\r\n    public regTypes(): Observable<Array<Regressiontype>> {\r\n        return this._regTypeSubject.asObservable();\r\n    }\r\n    public scenarios(): Observable<Array<Scenario>> {\r\n        return this._scenarioSubject.asObservable();\r\n    }\r\n    public variables(): Observable<Array<Variabletype>> {\r\n        return this._variableTypeSubject.asObservable();\r\n    }\r\n    public units(): Observable<Array<Unittype>> {\r\n        return this._unitTypeSubject.asObservable();\r\n    }\r\n    public unitSystems(): Observable<Array<UnitSystem>> {\r\n        return this._unitSystemSubject.asObservable();\r\n    }\r\n    public managers(): Observable<Array<Manager>> {\r\n        return this._managersSubject.asObservable();\r\n    }\r\n    public citations(): Observable<Array<Citation>> {\r\n        return this._citationsSubject.asObservable();\r\n    }\r\n    public errors(): Observable<Array<Error>> {\r\n        return this._errorsSubject.asObservable();\r\n    }\r\n    public roles(): Observable<Array<Role>> {\r\n        return this._rolesSubject.asObservable();\r\n    }\r\n\r\n    // HTTP REQUESTS ////////////////////////////////////\r\n\r\n    // ------------ GETS ---------------------------\r\n    public getEntities(url: string) {\r\n        const options = new RequestOptions({ headers: this.authHeader });\r\n        return this._http\r\n            .get(this.configSettings.baseURL + url, options)\r\n            .map(res => { if (res) {return <Array<any>>res.json(); }})\r\n            .catch(this.errorHandler);\r\n    }\r\n\r\n    // ------------ POSTS ------------------------------\r\n    public postEntity(entity: object, url: string) {\r\n        const options = new RequestOptions({ headers: this.authHeader });\r\n        return this._http\r\n            .post(this.configSettings.baseURL + url, entity, options)\r\n            .map(res => <any>res.json())\r\n            .catch(this.errorHandler);\r\n    }\r\n\r\n    // ------------ PUTS --------------------------------\r\n    public putEntity(id: number, entity: any, url: string) {\r\n        const options = new RequestOptions({ headers: this.authHeader });\r\n        return this._http\r\n            .put(this.configSettings.baseURL + url + '/' + id, entity, options)\r\n            .map(res => <any>res.json())\r\n            .catch(this.errorHandler);\r\n    }\r\n\r\n    // ------------ DELETES ------------------------------\r\n    public deleteEntity(id: number, url: string) {\r\n        const options = new RequestOptions({ headers: this.authHeader });\r\n        return this._http.delete(this.configSettings.baseURL + url + '/' + id, options)\r\n            .catch(this.errorHandler);\r\n    }\r\n\r\n    private errorHandler(error: Response | any) {\r\n        if (error._body !== '') {error._body = JSON.parse(error._body); }\r\n\r\n        return Observable.throw(error);\r\n    }\r\n    // SETTERS ///////////////////////////////////////////\r\n    public setRegions(r: Array<Region>) {\r\n        this._regionSubject.next(r);\r\n    }\r\n    public setStatGroups(s: Array<Statisticgroup>) {\r\n        this._statisticGroupSubject.next(s);\r\n    }\r\n    public setRegRegions(r: Array<Regressionregion>) {\r\n        this._regRegionSubject.next(r);\r\n    }\r\n    public setRegTypes(r: Array<Regressiontype>) {\r\n        this._regTypeSubject.next(r);\r\n    }\r\n    public setScenarios(s: Array<Scenario>) {\r\n        this._scenarioSubject.next(s);\r\n    }\r\n    public setVariables(v: Array<Variabletype>) {\r\n        this._variableTypeSubject.next(v);\r\n    }\r\n    public setUnits(u: Array<Unittype>) {\r\n        this._unitTypeSubject.next(u);\r\n    }\r\n    public setUnitSystems(u: Array<UnitSystem>) {\r\n        this._unitSystemSubject.next(u);\r\n    }\r\n    public setManagers(m: Array<Manager>) {\r\n        this._managersSubject.next(m);\r\n    }\r\n    public setCitations(c: Array<Citation>) {\r\n        this._citationsSubject.next(c);\r\n    }\r\n    public setErrors(e: Array<Error>) {\r\n        this._errorsSubject.next(e);\r\n    }\r\n    public setRoles(r: Array<Role>) {\r\n        this._rolesSubject.next(r);\r\n    }\r\n\r\n}\r\n","module.exports = \".modal-body p {\\r\\n    padding-top: 15px;\\r\\n}\\r\\n.modal-title {\\r\\n    color: #6e7490;\\r\\n    padding-top: 0;\\r\\n    font-size: 21px!important;\\r\\n}\\r\\n.modal-footer {    \\r\\n    align-items: center;\\r\\n    text-align: center;\\r\\n    display: block;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2Fib3V0L2Fib3V0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7Q0FDckI7QUFDRDtJQUNJLGVBQWU7SUFDZixlQUFlO0lBQ2YsMEJBQTBCO0NBQzdCO0FBQ0Q7SUFDSSxvQkFBb0I7SUFDcEIsbUJBQW1CO0lBQ25CLGVBQWU7Q0FDbEIiLCJmaWxlIjoic3JjL2FwcC9zaGFyZWQvYWJvdXQvYWJvdXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tb2RhbC1ib2R5IHAge1xyXG4gICAgcGFkZGluZy10b3A6IDE1cHg7XHJcbn1cclxuLm1vZGFsLXRpdGxlIHtcclxuICAgIGNvbG9yOiAjNmU3NDkwO1xyXG4gICAgcGFkZGluZy10b3A6IDA7XHJcbiAgICBmb250LXNpemU6IDIxcHghaW1wb3J0YW50O1xyXG59XHJcbi5tb2RhbC1mb290ZXIgeyAgICBcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxufSJdfQ== */\"","module.exports = \"<ng-template #about let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <div class=\\\"col-xs-12\\\">\\r\\n            <h4 class=\\\"modal-title pull-left\\\">About National Streamflow Statistics client application v{{appVersion}}</h4>  \\r\\n            <button class=\\\"close pull-right\\\" (click)=\\\"d('closed')\\\">x</button>                \\r\\n        </div>  \\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <ngb-tabset>\\r\\n            <ngb-tab>\\r\\n                <ng-template ngbTabTitle><i class=\\\"fa fa-question-circle\\\"></i>&nbsp;&nbsp;About</ng-template>                    \\r\\n                <ng-template ngbTabContent>\\r\\n                    <h2 style=\\\"padding-top:2em\\\">About National Streamflow Statistics (NSS) client application.</h2>\\r\\n                    <p>\\r\\n                        Spicy jalapeno bacon ipsum dolor amet ea short loin non, exercitation kielbasa brisket mollit alcatra rump swine boudin tempor ribeye ipsum. In \\r\\n                        velit in strip steak pork beef ribs. Pariatur doner spare ribs, anim velit fugiat consectetur ipsum cillum short loin tenderloin adipisicing. Leberkas \\r\\n                        kielbasa eu tri-tip consequat, ad laboris jowl short loin ea bacon ham hock. Turkey deserunt non tenderloin alcatra jerky pork loin shoulder fatback reprehenderit \\r\\n                        aute minim shank. Shank burgdoggen magna flank, qui aliqua porchetta laborum ribeye turducken pastrami labore eiusmod.\\r\\n                    </p>\\r\\n                    <p>\\r\\n                        Ham hock proident brisket, quis cow sausage capicola lorem ut flank. Commodo cillum et swine sed anim duis officia ullamco pariatur. Ex beef ribs eiusmod \\r\\n                        ground round exercitation ham hock duis meatball strip steak pork chop dolor filet mignon short loin. Excepteur sint pastrami duis, sunt hamburger occaecat \\r\\n                        short ribs prosciutto. Ad meatloaf shoulder aliquip pork chop swine porchetta alcatra.\\r\\n                    </p>\\r\\n                </ng-template>\\r\\n            </ngb-tab>\\r\\n            <ngb-tab>\\r\\n                <ng-template ngbTabTitle><i class=\\\"fa fa-bell\\\"></i>&nbsp;&nbsp;Disclaimer</ng-template>      \\r\\n                <ng-template ngbTabContent>\\r\\n                    <p>This software is preliminary or provisional and is subject to revision. It is being provided to meet the need for timely best science. \\r\\n                        The software has not received final approval by the U.S. Geological Survey (USGS). No warranty, expressed or implied, is made by the USGS \\r\\n                        or the U.S. Government as to the functionality of the software and related material nor shall the fact of release constitute any such warranty. \\r\\n                        The software is provided on the condition that neither the USGS nor the U.S. Government shall be held liable for any damages resulting from \\r\\n                        the authorized or unauthorized use of the software.\\r\\n                    </p>\\r\\n                </ng-template>\\r\\n            </ngb-tab>\\r\\n        </ngb-tabset>\\r\\n    </div>\\r\\n    <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn-black\\\" (click)=\\\"d('closed')\\\">\\r\\n            <i class=\\\"fa fa-close\\\"></i>\\r\\n            <span>&nbsp;&nbsp;Close</span>\\r\\n        </button>\\r\\n    </div>\\r\\n</ng-template>\"","// ------------------------------------------------------------------------------\r\n// ----- atLeast1Req.modal.ts ---------------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick USGS Wisconsin Internet Mapping\r\n// purpose: modal used to show about information\r\n\r\nimport { Component, ViewChild, Output, EventEmitter } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NSSService } from 'app/shared/services/app.service';\r\n\r\n@Component({\r\n  selector: 'aboutModal',\r\n  templateUrl: './about.component.html',\r\n  styleUrls: ['./about.component.css']\r\n})\r\n\r\nexport class AboutModal {   \r\n    @ViewChild('about') public aboutModal; // : ModalDirective;  //modal for validator    \r\n    private modalElement: any;\r\n    public CloseResult: any;\r\n    private modalSubscript;\r\n    public appVersion: string;\r\n\r\n    constructor(private _nssService: NSSService, private _modalService: NgbModal){ }\r\n    \r\n    ngOnInit() {\r\n      //show the filter modal == Change Filters button was clicked in sidebar\r\n      this.modalSubscript = this._nssService.showAboutModal.subscribe((show: boolean) => {\r\n          if (show) this.showAboutModal();\r\n      });\r\n      this._nssService.getVersion.subscribe((v: string) => {\r\n        this.appVersion = v;\r\n    });\r\n      \r\n      this.modalElement = this.aboutModal;\r\n    }\r\n\r\n    public showAboutModal(): void {      \r\n      this._modalService.open(this.modalElement, {backdrop: 'static', keyboard: false, size: 'lg'}).result.then((result) =>{\r\n        // this is the solution for the first modal losing scrollability\r\n            if (document.querySelector('body > .modal')) {\r\n                document.body.classList.add('modal-open');\r\n            }\r\n            this.CloseResult = `Closed with: ${result}`;\r\n        }, (reason) => {\r\n            this.CloseResult = `Dismissed ${this.getDismissReason(reason)}`\r\n        });\r\n    }\r\n\r\n    private getDismissReason(reason: any): string {\r\n        if (reason === ModalDismissReasons.ESC) return 'by pressing ESC';\r\n        else if (reason === ModalDismissReasons.BACKDROP_CLICK) return 'by clicking on a backdrop';\r\n        else return  `with: ${reason}`;\r\n    }\r\n    ngOnDestroy() {\r\n        this.modalSubscript.unsubscribe();\r\n    }\r\n}","module.exports = \".loader-hidden {\\r\\n    visibility: hidden;\\r\\n}\\r\\n.loader-overlay {\\r\\n    position: absolute;\\r\\n    width:100%;\\r\\n    height: 100%;\\r\\n    top:0;\\r\\n    left: 0;\\r\\n    z-index: 500000;\\r\\n}\\r\\n.page-loader {\\r\\n    position: absolute!important;\\r\\n    width:100%;\\r\\n    height: 100%;\\r\\n    opacity: .6;\\r\\n    z-index: 5000;\\r\\n    background-color: rgba(0,0,30,0.6);\\r\\n    background-image:url('https://wim.usgs.gov/website-assets/branding/usgsanimated.svg');\\r\\n    display: block !important;\\r\\n    background-repeat: no-repeat;\\r\\n    background-size: 120px auto;\\r\\n    background-position: center center;\\r\\n}\\r\\n.page-loader:after{\\r\\n  content: 'Loading...';\\r\\n  position: fixed;\\r\\n  top: 64%;\\r\\n  font-size: 22px;\\r\\n  color: white;\\r\\n  width: 100%;\\r\\n  text-align: center;\\r\\n  z-index: 5001;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvbG9hZGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxtQkFBbUI7Q0FDdEI7QUFDRDtJQUNJLG1CQUFtQjtJQUNuQixXQUFXO0lBQ1gsYUFBYTtJQUNiLE1BQU07SUFDTixRQUFRO0lBQ1IsZ0JBQWdCO0NBQ25CO0FBQ0Q7SUFDSSw2QkFBNkI7SUFDN0IsV0FBVztJQUNYLGFBQWE7SUFDYixZQUFZO0lBQ1osY0FBYztJQUNkLG1DQUFtQztJQUNuQyxzRkFBc0Y7SUFDdEYsMEJBQTBCO0lBQzFCLDZCQUE2QjtJQUM3Qiw0QkFBNEI7SUFDNUIsbUNBQW1DO0NBQ3RDO0FBQ0Q7RUFDRSxzQkFBc0I7RUFDdEIsZ0JBQWdCO0VBQ2hCLFNBQVM7RUFDVCxnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLFlBQVk7RUFDWixtQkFBbUI7RUFDbkIsY0FBYztDQUNmIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvbG9hZGVyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubG9hZGVyLWhpZGRlbiB7XHJcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbn1cclxuLmxvYWRlci1vdmVybGF5IHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHdpZHRoOjEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB0b3A6MDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB6LWluZGV4OiA1MDAwMDA7XHJcbn1cclxuLnBhZ2UtbG9hZGVyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDoxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgb3BhY2l0eTogLjY7XHJcbiAgICB6LWluZGV4OiA1MDAwO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMzAsMC42KTtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKCdodHRwczovL3dpbS51c2dzLmdvdi93ZWJzaXRlLWFzc2V0cy9icmFuZGluZy91c2dzYW5pbWF0ZWQuc3ZnJyk7XHJcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xyXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogMTIwcHggYXV0bztcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7XHJcbn1cclxuLnBhZ2UtbG9hZGVyOmFmdGVye1xyXG4gIGNvbnRlbnQ6ICdMb2FkaW5nLi4uJztcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgdG9wOiA2NCU7XHJcbiAgZm9udC1zaXplOiAyMnB4O1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICB3aWR0aDogMTAwJTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgei1pbmRleDogNTAwMTtcclxufVxyXG4iXX0= */\"","// ------------------------------------------------------------------------------\r\n// ------------ loader.component ------------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n// copyright:   2017 WiM - USGS\r\n// authors:     Tonia Roddick USGS Web Informatics and Mapping\r\n//              Erik Myers USGS Web Informatics and Mapping\r\n// purpose:     selector component that sits within the mapview.component.html page. \r\n//              Is a loading div that covers the whole page until the geojson is displayed on the map.\r\n\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { LoaderService } from './loader.service';\r\n\r\n@Component({\r\n    selector: 'loader-div',\r\n    template: `<div [class.loader-hidden]=\"!show\">\r\n                  <div class=\"page-loader\" id=\"page-loader\"></div>\r\n                </div>`,\r\n    styleUrls: ['loader.component.css']\r\n})\r\n\r\nexport class LoaderComponent implements OnInit {\r\n    public show = true; //start it showing until the geojson comes back\r\n    private subscription: Subscription;\r\n\r\n    constructor(private _loaderService: LoaderService) { }\r\n\r\n    ngOnInit() {\r\n        // subscription that updates the class on the div to show/hide it\r\n        this.subscription = this._loaderService.loaderState.subscribe((state: boolean) => {\r\n            this.show = state;\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n    }\r\n}","// ------------------------------------------------------------------------------\r\n// ------------ loader.service --------------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n// copyright:   2017 WiM - USGS\r\n// authors:     Tonia Roddick USGS Web Informatics and Mapping\r\n//              Erik Myers USGS Web Informatics and Mapping\r\n// purpose:     Service for updating boolean subjects that are subscribed to for show/hiding the loading div\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Subject ,  BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class LoaderService {\r\n    private _loaderSubject = new BehaviorSubject<boolean>(true);   \r\n    \r\n    public loaderState = this._loaderSubject.asObservable();\r\n    \r\n    constructor() { }\r\n    \r\n    // whole page initial load\r\n    public showLoader() {\r\n        this._loaderSubject.next(true);\r\n    }\r\n    public hideLoader() {\r\n        this._loaderSubject.next(false);\r\n    }\r\n\r\n}","// ------------------------------------------------------------------------------\r\n// ----- auth.guard.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: guard to ensure user is logged in before allowing activation of route\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport { AuthService } from 'app/shared/services/auth.service';\r\n\r\n@Injectable()\r\nexport class AdminGuard implements CanActivate {\r\n    constructor(private _router: Router, private _authService: AuthService) {}\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n        return this.checkLogin();\r\n    }\r\n\r\n    private checkLogin(): boolean {\r\n        if (localStorage.getItem('credentials') && localStorage.getItem('setupTime') !== null && !this.checkSetupTime() &&\r\n            localStorage.getItem('loggedInRole') === 'Administrator') {\r\n            return true;\r\n        }\r\n        // if it gets here it means they're not an admin\r\n        // navigate to the settings page\r\n        this._router.navigate(['/settings']);\r\n        return false;\r\n    }\r\n\r\n    // need to find out if localstorage item 'setupTime' is more than 12 hours ago\r\n    private checkSetupTime(): boolean {\r\n        let tooOld = false;\r\n\r\n        const twentyFourHours: number = 12 * 60 * 60 * 1000;\r\n        const now: number = new Date().getTime();\r\n        const setupTime: number = Number(localStorage.getItem('setupTime'));\r\n        if (now - setupTime > twentyFourHours) {\r\n            // is it greater than 12 hours\r\n            tooOld = true;\r\n            this._authService.removeUserInfo();\r\n        }\r\n\r\n        return tooOld;\r\n    }\r\n}\r\n","// ------------------------------------------------------------------------------\r\n// ----- auth.guard.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: guard to ensure user is logged in before allowing activation of route\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport { AuthService } from 'app/shared/services/auth.service';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n    constructor(private _router: Router, private _authService: AuthService) {}\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n        return this.checkLogin();\r\n    }\r\n    canActivateChild(_actRoute: ActivatedRouteSnapshot, _state: RouterStateSnapshot): boolean {\r\n        return this.canActivate(_actRoute, _state);\r\n    }\r\n\r\n    private checkLogin(): boolean {\r\n        if (localStorage.getItem('credentials') && localStorage.getItem('setupTime') !== null && !this.checkSetupTime()) {\r\n            return true;\r\n        }\r\n        // if it gets here..they are not logged in\r\n        // store the attempted url for redirecting\r\n        //   this._authService.redirectUrl = url;\r\n        this._authService.removeUserInfo();\r\n        localStorage.clear();\r\n        // navigate to the login page with extras\r\n        this._router.navigate(['/']);\r\n        return false;\r\n    }\r\n\r\n    // need to find out if localstorage item 'setupTime' is more than 12 hours ago\r\n    private checkSetupTime(): boolean {\r\n        let tooOld = false;\r\n\r\n        const twentyFourHours: number = 12 * 60 * 60 * 1000;\r\n        const now: number = new Date().getTime();\r\n        const setupTime: number = Number(localStorage.getItem('setupTime'));\r\n        if (now - setupTime > twentyFourHours) {\r\n            // is it greater than 12 hours\r\n            tooOld = true;\r\n            this._authService.removeUserInfo();\r\n        }\r\n\r\n        return tooOld;\r\n    }\r\n}\r\n","import { throwError as observableThrowError, Observable, Subject, BehaviorSubject } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { Http, Response, Headers, RequestOptions, URLSearchParams } from '@angular/http';\r\nimport 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\n\r\n// interfaces\r\nimport { Region } from 'app/shared/interfaces/region';\r\nimport { Regressionregion } from 'app/shared/interfaces/regressionregion';\r\nimport { Statisticgroup } from 'app/shared/interfaces/statisticgroup';\r\nimport { Regressiontype } from 'app/shared/interfaces/regressiontype';\r\nimport { Scenario } from 'app/shared/interfaces/scenario';\r\nimport { Citation } from 'app/shared/interfaces/citation';\r\nimport { Hydrochart } from 'app/shared/interfaces/hydrochart';\r\nimport { Config } from 'app/shared/interfaces/config';\r\nimport { ConfigService } from '../../config.service';\r\nimport { Toast } from 'angular2-toaster/src/toast';\r\nimport { Unittype } from 'app/shared/interfaces/unitType';\r\nimport { Variabletype } from 'app/shared/interfaces/variabletype';\r\nimport { Manager } from '../interfaces/manager';\r\nimport { Role } from '../interfaces/role';\r\n\r\n@Injectable()\r\nexport class NSSService {\r\n    // updated whenever selected values are updated - used for getting other parts\r\n    private _regRegionIdParams: string;\r\n    private _regTypeIdParams: string;\r\n    private _statGrpIdParams: string;\r\n    private configSettings: Config;\r\n    private jsonHeader: Headers = new Headers({ Accept: 'application/json', 'Content-Type': 'application/json' });\r\n\r\n    constructor(private _http: Http, private _configService: ConfigService) {\r\n        this.configSettings = this._configService.getConfiguration();\r\n        this.getRegions();\r\n    }\r\n\r\n    // -+-+-+-+-+-+-+-+-+ app version (gotten from environment.ts) -+-+-+-+-+-+-+-+\r\n    private appversion: BehaviorSubject<string> = <BehaviorSubject<string>>new BehaviorSubject('');\r\n    public setVersion(val: string) {\r\n        this.appversion.next(val);\r\n    }\r\n    public get getVersion(): any {\r\n        return this.appversion.asObservable();\r\n    }\r\n    // -+-+-+-+-+-+-+-+-+ about modal -+-+-+-+-+-+-+-+\r\n    private _showHideAboutModal: Subject<boolean> = new Subject<boolean>();\r\n    public setAboutModal(val: any) { \r\n        this._showHideAboutModal.next(val);\r\n    }\r\n    // show the filter modal in the mainview\r\n    public get showAboutModal(): any {\r\n        return this._showHideAboutModal.asObservable();\r\n    }\r\n\r\n    private _showHideCreateModal: Subject<boolean> = new Subject<boolean>();\r\n    public setCreateModal(val: any) {\r\n        this._showHideCreateModal.next(val);\r\n    }\r\n    // show the filter modal in the mainview\r\n    public get showCreateModal(): any {\r\n        return this._showHideCreateModal.asObservable();\r\n    }\r\n\r\n    private _showHideLoginModal: Subject<boolean> = new Subject<boolean>();\r\n    public setLoginModal(val: any) {\r\n        this._showHideLoginModal.next(val);\r\n    }\r\n    // show the filter modal in the mainview\r\n    public get showLoginModal(): any {\r\n        return this._showHideLoginModal.asObservable();\r\n    }\r\n\r\n    public get loginType(): any {\r\n        // this will return the login type (manager v. admin)\r\n        return '';\r\n    }\r\n\r\n    // -+-+-+-+-+-+-+-+-+ hydrograph  getter/setter  -+-+-+-+-+-+-+-+-+\r\n    private hydrograph: Hydrochart;\r\n    private hydroBind: Subject<Hydrochart> = new Subject<Hydrochart>();\r\n    setHydrograph(h: Hydrochart) {\r\n        this.hydrograph = h;\r\n        this.hydroBind.next(h);\r\n    }\r\n    getHydrograph(): Observable<Hydrochart> {\r\n        return this.hydroBind.asObservable();\r\n    }\r\n    private chartBind: Subject<string> = new Subject<string>();\r\n    addChart(c: string) {\r\n        this.chartBind.next(c);\r\n    }\r\n    getChart(): Observable<string> {\r\n        return this.chartBind.asObservable();\r\n    }\r\n\r\n    // -+-+-+-+-+-+-+-+-+ frequency  getter/setter  -+-+-+-+-+-+-+-+-+\r\n    private frequency: string;\r\n    private freqBind: Subject<string> = new Subject<string>();\r\n    setFrequency() {\r\n        this.frequency = 'newOne';\r\n        this.freqBind.next('newOne');\r\n    }\r\n    getFrequency(): Observable<string> {\r\n        return this.freqBind.asObservable();\r\n    }\r\n\r\n    // -+-+-+-+-+-+-+-+-+ toaster  getter/setter  -+-+-+-+-+-+-+-+-+\r\n    private toast: Toast;\r\n    private toastBind: Subject<Toast> = new Subject<Toast>();\r\n    public showToast(t: Toast) {\r\n        this.toast = t;\r\n        this.toastBind.next(t);\r\n    }\r\n    public getToast(): Observable<Toast> {\r\n        return this.toastBind.asObservable();\r\n    }\r\n\r\n    // -+-+-+-+-+-+ region section -+-+-+-+-+-+-+\r\n    private _regionSubject: Subject<Array<Region>> = new Subject<Array<Region>>(); //array of regions that sidebar and mainview use\r\n    private _selectedRegion: BehaviorSubject<Region> = new BehaviorSubject<any>(''); //selectedregion\r\n\r\n    public get regions(): Observable<Array<Region>> {\r\n        // getter (regions)\r\n        return this._regionSubject.asObservable();\r\n    }\r\n\r\n    // setter (selectedRegion)\r\n    public setSelectedRegion(v: Region) {\r\n        if (v == this._selectedRegion.getValue()) return;\r\n        this._selectedRegion.next(v);\r\n        this._selectedRegRegions.next([]);\r\n        this._selectedStatGroups = [];\r\n        this._selectedRegressionTypes = [];\r\n        this.chartBind.next('');\r\n        // go get all the other stuff (regressionregions, regressiontypes,statisticgroups and scenarios\r\n        this.initializeRegion();\r\n    }\r\n    // getter (selectedRegion)\r\n    public get selectedRegion(): Observable<Region> {\r\n        return this._selectedRegion.asObservable();\r\n    }\r\n    // get all regions\r\n    public getRegions(): void {\r\n        const options = new RequestOptions({ headers: this.jsonHeader });\r\n        this._http\r\n            .get(this.configSettings.baseURL + this.configSettings.regionURL, options)\r\n            .map(res => <Array<Region>>res.json())\r\n            .catch(this.handleError)\r\n            .subscribe(r => {\r\n                this._regionSubject.next(r);\r\n            });\r\n    }\r\n    // -+-+-+-+-+-+ end region section -+-+-+-+-+-+-+\r\n\r\n    // -+-+-+-+-+-+ regressionregion -+-+-+-+-+-+-+\r\n    private _regressionRegionSubject: Subject<Array<Regressionregion>> = new Subject<Array<Regressionregion>>();\r\n    public get regressionRegions(): Observable<Array<Regressionregion>> {\r\n        return this._regressionRegionSubject.asObservable();\r\n    }\r\n\r\n    private _selectedRegRegions: BehaviorSubject<Array<Regressionregion>> = new BehaviorSubject<Array<Regressionregion>>([]);\r\n    // setter (selectedRegion)\r\n    public setSelectedRegRegions(v: Array<Regressionregion>) {\r\n        this.chartBind.next('');\r\n        if (v.length > 0) {\r\n            const srr: Array<number> = [];\r\n            v.forEach(rr => {\r\n                srr.push(rr.id);\r\n            });\r\n\r\n            this._selectedRegRegions.next(v);\r\n\r\n            // now update statisticGroups, regressionTypes if there are selectedRegRegions\r\n            this._regRegionIdParams = srr.length >= 0 ? srr.join(',') : '';\r\n\r\n            // params for regressionTypes and statisticGroups\r\n            const regTypeParams: URLSearchParams = new URLSearchParams();\r\n            regTypeParams.set('regressionregions', this._regRegionIdParams);\r\n            regTypeParams.set('statisticgroups', this._statGrpIdParams);\r\n            this.getRegionRegressionTypes(this._selectedRegion.getValue().id, regTypeParams).subscribe(\r\n                rt => {\r\n                    // format all reg type stuff\r\n                    this.formatRegTypeStuff(rt);\r\n\r\n                    // params for statistic groups\r\n                    const statGrpParams: URLSearchParams = new URLSearchParams();\r\n                    statGrpParams.set('regressionregions', this._regRegionIdParams);\r\n                    statGrpParams.set('regressiontypes', this._regTypeIdParams);\r\n                    this.getRegionStatisticGrps(this._selectedRegion.getValue().id, statGrpParams).subscribe(\r\n                        sg => {\r\n                            this.formatStatisticGrpStuff(sg);\r\n\r\n                            // params for scenarios\r\n                            const scenarioParams: URLSearchParams = new URLSearchParams();\r\n                            scenarioParams.set('regressionregions', this._regRegionIdParams);\r\n                            scenarioParams.set('regressiontypes', this._regTypeIdParams);\r\n                            scenarioParams.set('statisticgroups', this._statGrpIdParams);\r\n                            scenarioParams.set('unitsystems', '2');\r\n                            this.getRegionScenario(this._selectedRegion.getValue().id, scenarioParams); //get scenarios\r\n                        },\r\n                        error => this.handleError\r\n                    ); // get StatisticGroups\r\n                },\r\n                error => this.handleError\r\n            ); // get regressionRegions\r\n        } else {\r\n            // they cleared it\r\n            this._selectedRegRegions.next([]);\r\n            // now update statisticGroups, regressionTypes if there are selectedRegRegions\r\n            const regTypeParams: URLSearchParams = new URLSearchParams();\r\n            regTypeParams.set('statisticgroups', this._statGrpIdParams);\r\n            this.getRegionRegressionTypes(this._selectedRegion.getValue().id, regTypeParams).subscribe(\r\n                rt => {\r\n                    this.formatRegTypeStuff(rt);\r\n\r\n                    // params for statistic groups\r\n                    const statGrpParams: URLSearchParams = new URLSearchParams();\r\n                    statGrpParams.set('regressiontypes', this._regTypeIdParams);\r\n                    this.getRegionStatisticGrps(this._selectedRegion.getValue().id, statGrpParams).subscribe(\r\n                        sg => {\r\n                            this.formatStatisticGrpStuff(sg);\r\n\r\n                            // params for scenarios\r\n                            const scenarioParams: URLSearchParams = new URLSearchParams();\r\n                            scenarioParams.set('regressiontypes', this._regTypeIdParams);\r\n                            scenarioParams.set('statisticgroups', this._statGrpIdParams);\r\n                            scenarioParams.set('unitsystems', '2');\r\n                            this.getRegionScenario(this._selectedRegion.getValue().id, scenarioParams); // get scenarios\r\n                        },\r\n                        error => this.handleError\r\n                    ); // get StatisticGroups\r\n                },\r\n                error => this.handleError\r\n            ); // get RegressionTypes\r\n        }\r\n    }\r\n    // getter (selectedRegRegion)\r\n    public get selectedRegRegions(): Observable<Array<Regressionregion>> {\r\n        return this._selectedRegRegions.asObservable();\r\n    }\r\n    // once http.get.map is done.. the .subcribe calls this function to get everything formatted\r\n    private formatRegRegionStuff(rr: Array<Regressionregion>) {\r\n        // remove from _selectedRegRegions if not in response.\r\n        if (this._selectedRegRegions.getValue() !== undefined) {\r\n            for (let srr = this._selectedRegRegions.getValue().length; srr--; ) {\r\n                const RRSind = rr\r\n                    .map(function(eachrr) {\r\n                        return eachrr.id;\r\n                    })\r\n                    .indexOf(this._selectedRegRegions.getValue()[srr].id);\r\n                if (RRSind < 0) this._selectedRegRegions.getValue().splice(srr, 1);\r\n            }\r\n            // repopulate param string comma sep IDs\r\n            const regRegIDarray: Array<number> = new Array<number>();\r\n            this._selectedRegRegions.getValue().forEach(rt => {\r\n                regRegIDarray.push(rt.id); // pushing each ID into arrayof numbers to then join as comma sep string for parameters\r\n            });\r\n            this._regRegionIdParams = regRegIDarray.length >= 0 ? regRegIDarray.join(',') : '';\r\n        }\r\n        this._regressionRegionSubject.next(rr);\r\n    }\r\n    // -+-+-+-+-+-+ end regressionRegion section -+-+-+-+-+-+-+\r\n\r\n    // -+-+-+-+-+-+ statisticgroups section -+-+-+-+-+-+-+-+-+-+\r\n    private _statisticGroupSubject: Subject<Array<Statisticgroup>> = new Subject<Array<Statisticgroup>>();\r\n    public get statisticGroups(): Observable<Array<Statisticgroup>> {\r\n        return this._statisticGroupSubject.asObservable();\r\n    }\r\n\r\n    private _selectedStatGroups: Array<Statisticgroup>;\r\n    // setter (selectedStatisticgroup)\r\n    public set selectedStatGroups(v: Array<Statisticgroup>) {\r\n        this.chartBind.next('');\r\n        if (v.length > 0) {\r\n            this._selectedStatGroups = v;\r\n            const ssg: Array<number> = [];\r\n            this._selectedStatGroups.forEach(ss => {\r\n                ssg.push(ss.id);\r\n            });\r\n            // now update regressionRegions, regressionTypes if there are selectedStatisticGroups\r\n            this._statGrpIdParams = ssg.length >= 0 ? ssg.join(',') : '';\r\n\r\n            // params for regressionTypes\r\n            const regTypeParams: URLSearchParams = new URLSearchParams();\r\n            regTypeParams.set('regressionregions', this._regRegionIdParams);\r\n            regTypeParams.set('statisticgroups', this._statGrpIdParams);\r\n            this.getRegionRegressionTypes(this._selectedRegion.getValue().id, regTypeParams).subscribe(\r\n                rt => {\r\n                    // format all reg type stuff\r\n                    this.formatRegTypeStuff(rt);\r\n\r\n                    // params for regressionRegions\r\n                    const regRegionParams: URLSearchParams = new URLSearchParams();\r\n                    regRegionParams.set('statisticgroups', this._statGrpIdParams);\r\n                    regRegionParams.set('regressiontypes', this._regTypeIdParams);\r\n                    this.getRegionRegressionRegions(this._selectedRegion.getValue().id, regRegionParams).subscribe(\r\n                        rr => {\r\n                            // format all reg regions stuff\r\n                            this.formatRegRegionStuff(rr);\r\n\r\n                            // params for scenarios\r\n                            const scenarioParams: URLSearchParams = new URLSearchParams();\r\n                            scenarioParams.set('regressionregions', this._regRegionIdParams);\r\n                            scenarioParams.set('regressiontypes', this._regTypeIdParams);\r\n                            scenarioParams.set('statisticgroups', this._statGrpIdParams);\r\n                            scenarioParams.set('unitsystems', '2');\r\n                            this.getRegionScenario(this._selectedRegion.getValue().id, scenarioParams); //get scenarios\r\n                        },\r\n                        error => this.handleError\r\n                    ); // getRegionRegressionRegions\r\n                },\r\n                error => this.handleError\r\n            ); // getRegionRegressionTypes\r\n        } // v.lenght > 0\r\n        else {\r\n            // they cleared it\r\n            this._selectedStatGroups = [];\r\n            // now update statisticGroups, regressionTypes if there are selectedRegRegions\r\n            const regTypeParams: URLSearchParams = new URLSearchParams();\r\n            regTypeParams.set('regressionregions', this._regRegionIdParams);\r\n            this.getRegionRegressionTypes(this._selectedRegion.getValue().id, regTypeParams).subscribe(\r\n                rt => {\r\n                    // format all reg type stuff\r\n                    this.formatRegTypeStuff(rt);\r\n\r\n                    // params for regressionRegions\r\n                    const regRegionsParams: URLSearchParams = new URLSearchParams();\r\n                    regRegionsParams.set('regressiontypes', this._regTypeIdParams);\r\n                    this.getRegionRegressionRegions(this._selectedRegion.getValue().id, regRegionsParams).subscribe(\r\n                        rr => {\r\n                            // format all reg regions stuff\r\n                            this.formatRegRegionStuff(rr);\r\n\r\n                            // params for scenarios\r\n                            const scenarioParams: URLSearchParams = new URLSearchParams();\r\n                            scenarioParams.set('regressiontypes', this._regTypeIdParams);\r\n                            scenarioParams.set('regressionregions', this._regRegionIdParams);\r\n                            scenarioParams.set('unitsystems', '2');\r\n                            this.getRegionScenario(this._selectedRegion.getValue().id, scenarioParams); //get scenarios\r\n                        },\r\n                        error => this.handleError\r\n                    ); // get getRegionRegressionRegions\r\n                },\r\n                error => this.handleError\r\n            ); // get RegressionTypes\r\n        }\r\n    }\r\n    // getter (selectedStatisticgroup)\r\n    public get selectedStatGroups(): Array<Statisticgroup> {\r\n        return this._selectedStatGroups;\r\n    }\r\n    // once http.get.map is done.. the .subcribe calls this function to get everything formatted\r\n    private formatStatisticGrpStuff(sg: Array<Statisticgroup>) {\r\n        // remove from _selectedStatGroups if not in response.\r\n        if (this._selectedStatGroups != undefined) {\r\n            for (var si = this._selectedStatGroups.length; si--; ) {\r\n                let SSind = sg\r\n                    .map(function(eachsg) {\r\n                        return eachsg.id;\r\n                    })\r\n                    .indexOf(this._selectedStatGroups[si].id);\r\n                if (SSind < 0) this._selectedStatGroups.splice(si, 1);\r\n            }\r\n            // repopulate param string comma sep IDs\r\n            const statGrpIDarray: Array<number> = new Array<number>();\r\n            this._selectedStatGroups.forEach(rt => {\r\n                statGrpIDarray.push(rt.id); // pushing each ID into arrayof numbers to then join as comma sep string for parameters\r\n            });\r\n            this._statGrpIdParams = statGrpIDarray.length >= 0 ? statGrpIDarray.join(',') : '';\r\n        }\r\n        this._statisticGroupSubject.next(sg);\r\n    }\r\n    // -+-+-+-+-+-+ end statisticgroups section -+-+-+-+-+-+-+-+-+-+\r\n\r\n    // -+-+-+-+-+-+ regressionTypes -+-+-+-+-+-+-+-+-+-+-+-+\r\n    private _regressionTypeSubject: Subject<Array<Regressiontype>> = new Subject<Array<Regressiontype>>();\r\n    private _selectedRegressionTypes: Array<Regressiontype>;\r\n\r\n    public get regressionTypes(): Observable<Array<Regressiontype>> {\r\n        return this._regressionTypeSubject.asObservable();\r\n    }\r\n    // setter (selectedRegressionType)\r\n    public set selectedRegressionTypes(v: Array<Regressiontype>) {\r\n        this.chartBind.next('');\r\n        if (v.length > 0) {\r\n            this._selectedRegressionTypes = v;\r\n            const srt: Array<number> = [];\r\n            this._selectedRegressionTypes.forEach(rt => {\r\n                srt.push(rt.ID);\r\n            });\r\n            // now update regressionRegions, regressionTypes if there are selectedStatisticGroups\r\n            this._regTypeIdParams = srt.length >= 0 ? srt.join(',') : '';\r\n\r\n            const statGrpParams: URLSearchParams = new URLSearchParams();\r\n            statGrpParams.set('regressionregions', this._regRegionIdParams);\r\n            statGrpParams.set('regressiontypes', this._regTypeIdParams);\r\n            this.getRegionStatisticGrps(this._selectedRegion.getValue().id, statGrpParams).subscribe(\r\n                sg => {\r\n                    this.formatStatisticGrpStuff(sg);\r\n\r\n                    // params for regRegions\r\n                    const regRegionParams: URLSearchParams = new URLSearchParams();\r\n                    regRegionParams.set('statisticgroups', this._statGrpIdParams);\r\n                    regRegionParams.set('regressiontypes', this._regTypeIdParams);\r\n                    this.getRegionRegressionRegions(this._selectedRegion.getValue().id, regRegionParams).subscribe(\r\n                        rr => {\r\n                            this.formatRegRegionStuff(rr);\r\n\r\n                            // params for scenarios\r\n                            const scenarioParams: URLSearchParams = new URLSearchParams();\r\n                            scenarioParams.set('regressionregions', this._regRegionIdParams);\r\n                            scenarioParams.set('regressiontypes', this._regTypeIdParams);\r\n                            scenarioParams.set('statisticgroups', this._statGrpIdParams);\r\n                            scenarioParams.set('unitsystems', '2');\r\n                            this.getRegionScenario(this._selectedRegion.getValue().id, scenarioParams); //get scenarios\r\n                        },\r\n                        error => this.handleError\r\n                    ); // get regressionRegions\r\n                },\r\n                error => this.handleError\r\n            ); // get RegressionTypes\r\n        } // v.lenght > 0\r\n        else {\r\n            // they cleared it\r\n            this._selectedRegressionTypes = [];\r\n            // now update statisticGroups, regressionTypes if there are selectedRegRegions\r\n            const regTypeParams: URLSearchParams = new URLSearchParams();\r\n            regTypeParams.set('regressionregions', this._regRegionIdParams);\r\n            this.getRegionStatisticGrps(this._selectedRegion.getValue().id, regTypeParams).subscribe(\r\n                sg => {\r\n                    this.formatStatisticGrpStuff(sg);\r\n\r\n                    // params for reg regions\r\n                    const regRegionsParams: URLSearchParams = new URLSearchParams();\r\n                    regRegionsParams.set('statisticgroups', this._statGrpIdParams);\r\n                    this.getRegionRegressionRegions(this._selectedRegion.getValue().id, regRegionsParams).subscribe(\r\n                        rr => {\r\n                            this.formatRegRegionStuff(rr);\r\n\r\n                            // params for scenarios\r\n                            const scenarioParams: URLSearchParams = new URLSearchParams();\r\n                            scenarioParams.set('statisticgroups', this._statGrpIdParams);\r\n                            scenarioParams.set('regressionregions', this._regRegionIdParams);\r\n                            scenarioParams.set('unitsystems', '2');\r\n                            this.getRegionScenario(this._selectedRegion.getValue().id, scenarioParams); //get scenarios\r\n                        },\r\n                        error => this.handleError\r\n                    ); // get regressionregions\r\n                },\r\n                error => this.handleError\r\n            ); // get RegressionTypes\r\n        }\r\n    }\r\n    // getter (selectedRegressionType)\r\n    public get selectedRegressionTypes(): Array<Regressiontype> {\r\n        return this._selectedRegressionTypes;\r\n    }\r\n    // once http.get.map is done.. the .subcribe calls this function to get everything formatted\r\n    formatRegTypeStuff(rt: Array<Regressiontype>) {\r\n        rt.forEach(r => {\r\n            r.id = r.id;\r\n            r.name = r.name;\r\n        });\r\n        // remove from _selectedStatGroups if not in response.\r\n        if (this._selectedRegressionTypes != undefined) {\r\n            for (let srt = this._selectedRegressionTypes.length; srt--; ) {\r\n                const RTSind = rt\r\n                    .map(function(eachrt) {\r\n                        return eachrt.id;\r\n                    })\r\n                    .indexOf(this._selectedRegressionTypes[srt].id);\r\n                if (RTSind < 0) this._selectedRegressionTypes.splice(srt, 1);\r\n            }\r\n            // repopulate param string comma sep IDs\r\n            const regTypeIDarray: Array<number> = new Array<number>();\r\n            this._selectedRegressionTypes.forEach(rt => {\r\n                regTypeIDarray.push(rt.id); // pushing each ID into arrayof numbers to then join as comma sep string for parameters\r\n            });\r\n            this._regTypeIdParams = regTypeIDarray.length >= 0 ? regTypeIDarray.join(',') : '';\r\n        }\r\n        this._regressionTypeSubject.next(rt);\r\n    }\r\n    // -+-+-+-+-+-+ end regressionTypes section -+-+-+-+-+-+-+-+-+-+\r\n\r\n    // -+-+-+-+-+-+ Scenarios section -+-+-+-+-+-+-+-+-+-+\r\n    private _scenarioSubject: Subject<Array<Scenario>> = new Subject<Array<Scenario>>();\r\n    public get scenarios(): Observable<Array<Scenario>> {\r\n        return this._scenarioSubject.asObservable();\r\n    }\r\n    public setScenarios(s: Array<Scenario>) {\r\n        this._scenarioSubject.next(s);\r\n        this.chartBind.next('');\r\n    }\r\n    // -+-+-+-+-+-+ end Scenarios section -+-+-+-+-+-+-+-+-+-+\r\n\r\n    // region has been selected, populate all other multiselects and get scenarios\r\n    private initializeRegion(): void {\r\n        this.getRegionRegressionRegions(this._selectedRegion.getValue().id).subscribe(rr => {\r\n            this.formatRegRegionStuff(rr);\r\n        }); // get RegressionRegions\r\n        this.getRegionStatisticGrps(this._selectedRegion.getValue().id).subscribe(sg => {\r\n            this.formatStatisticGrpStuff(sg);\r\n        }); // get StatisticGroups\r\n        this.getRegionRegressionTypes(this._selectedRegion.getValue().id).subscribe(rt => {\r\n            this.formatRegTypeStuff(rt);\r\n        }); // get RegressionTypes\r\n        const scenarioParams: URLSearchParams = new URLSearchParams();\r\n        scenarioParams.set('unitsystems', '2');\r\n        this.getRegionScenario(this._selectedRegion.getValue().id, scenarioParams); // get scenarios\r\n    }\r\n    // -+-+-+-+-+-+-+-+-+-+-+-+ http GETs -+-+-+-+-+-+-+-+-+-+-+-+\r\n\r\n    // get unit types\r\n    public getUnitTypes(searchArgs?: URLSearchParams) {\r\n        const options = new RequestOptions({ headers: this.jsonHeader, search: searchArgs });\r\n        return this._http.get(this.configSettings.baseURL + this.configSettings.unitsURL, options).map(res => <Array<Unittype>>res.json());\r\n    }\r\n\r\n    // get variable types\r\n    public getVariableTypes(searchArgs?: URLSearchParams) {\r\n        const options = new RequestOptions({ headers: this.jsonHeader, search: searchArgs });\r\n        return this._http\r\n            .get(this.configSettings.baseURL + this.configSettings.variablesURL, options)\r\n            .map(res => <Array<Variabletype>>res.json());\r\n    }\r\n    // get regressionRegions by region\r\n    private getRegionRegressionRegions(id: number, searchArgs?: URLSearchParams) {\r\n        const options = new RequestOptions({ headers: this.jsonHeader, search: searchArgs });\r\n        return this._http\r\n            .get(this.configSettings.baseURL + this.configSettings.regionURL + id + '/' + this.configSettings.regRegionURL, options)\r\n            .map(res => <Array<Regressionregion>>res.json());\r\n    }\r\n\r\n    // get regressiontypes by region\r\n    private getRegionRegressionTypes(id: number, searchArgs?: URLSearchParams) {\r\n        const options = new RequestOptions({ headers: this.jsonHeader, search: searchArgs });\r\n        return this._http\r\n            .get(this.configSettings.baseURL + this.configSettings.regionURL + id + '/' + this.configSettings.regTypeURL, options)\r\n            .map(res => <Regressiontype[]>res.json());\r\n    }\r\n\r\n    // get statisticgroups by region\r\n    private getRegionStatisticGrps(id: number, searchArgs?: URLSearchParams) {\r\n        const options = new RequestOptions({ headers: this.jsonHeader, search: searchArgs });\r\n        return this._http\r\n            .get(this.configSettings.baseURL + this.configSettings.regionURL + id + '/' + this.configSettings.statisticGrpURL, options)\r\n            .map(res => <Statisticgroup[]>res.json());\r\n    }\r\n\r\n    // get scenarios by region\r\n    private getRegionScenario(id: number, searchArgs?: URLSearchParams) {\r\n        const options = new RequestOptions({ headers: this.jsonHeader, search: searchArgs });\r\n        return this._http\r\n            .get(this.configSettings.baseURL + this.configSettings.regionURL + id + '/' + this.configSettings.scenariosURL, options)\r\n            .map(res => <Scenario[]>res.json())\r\n            .subscribe(\r\n                s => {\r\n                    s.forEach(scen => {\r\n                        // get citations\r\n                        let i = scen.links[0].href.indexOf('?');\r\n                        let param = scen.links[0].href.substring(i + 1);\r\n                        this.getCitations(new URLSearchParams(param)).subscribe(c => {\r\n                            scen.citations = c;\r\n                        });\r\n                        // clear Parameter.'Value'\r\n                        scen.regressionRegions.forEach(rr => {\r\n                            rr.parameters.forEach(p => {\r\n                                p.value = null;\r\n                            });\r\n                        });\r\n                    });\r\n                    this._scenarioSubject.next(s);\r\n                },\r\n                error => this.handleError\r\n            );\r\n    }\r\n\r\n    // calculate Scenarios (POST)\r\n    postScenarios(id: number, s: Scenario[], searchArgs?: URLSearchParams) {\r\n        // let body = JSON.stringify(s); \r\n        let options = new RequestOptions({ headers: this.jsonHeader, search: searchArgs });\r\n\r\n        return this._http\r\n            .post(this.configSettings.baseURL + this.configSettings.regionURL + id + '/scenarios/estimate', s, options)\r\n            .map(sResult => <Scenario[]>sResult.json())\r\n            .subscribe(\r\n                sResult => {\r\n                    sResult.forEach(scen => {\r\n                        if (scen.regressionRegions.length > 0) {\r\n                            // get citations\r\n                            let i = scen.links[0].href.indexOf('?');\r\n                            let param = scen.links[0].href.substring(i + 1);\r\n                            this.getCitations(new URLSearchParams(param)).subscribe(\r\n                                c => {\r\n                                    scen.citations = c;\r\n                                },\r\n                                error => this.handleError\r\n                            );\r\n                        }\r\n                    });\r\n                    this._scenarioSubject.next(sResult);\r\n                },\r\n                error => this.handleError\r\n            );\r\n    }\r\n\r\n    private getCitations(searchArgs?: URLSearchParams) {\r\n        let options = new RequestOptions({ headers: this.jsonHeader, search: searchArgs });\r\n\r\n        return this._http\r\n            .get(this.configSettings.baseURL + this.configSettings.citationURL, options)\r\n            .map(cit => <Citation[]>cit.json())\r\n            .catch(this.handleError);\r\n    }\r\n\r\n    private handleError(error: any) {\r\n        let errMsg = error.message ? error.message : error.status ? `${error.status} - ${error.statusText}` : 'Server error';\r\n        console.error(errMsg);\r\n        return observableThrowError(errMsg);\r\n    }\r\n}\r\n","// ------------------------------------------------------------------------------\r\n// ----- auth.service -----------------------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick USGS Wisconsin Internet Mapping\r\n// purpose: store and retrieve loggedIn properties service (global)\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Http, Response } from '@angular/http';\r\nimport { Subject } from 'rxjs/Subject';\r\n\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\n\r\nimport { Manager } from '../interfaces/manager';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n    public redirectUrl: string; // store the URL so we can redirect after logging in\r\n    public role: string;\r\n\r\n    constructor(private _http: Http, public _router: Router) {}\r\n\r\n    // store loggedIn parts (loggedInRole, loggedInName, loggedInUserName, loggedInID)\r\n    private _loggedInRole: Subject<string> = new Subject<string>();\r\n    public setloggedInRole(val: string) {\r\n        this.role = val;\r\n        this._loggedInRole.next(val);\r\n    }\r\n    public loggedInRole(): Observable<string> {\r\n        // getter (loggedInRole)\r\n        return this._loggedInRole.asObservable();\r\n    }\r\n    private _loggedInName: Subject<string> = new Subject<string>();\r\n    public setloggedInName(val: string) {\r\n        this._loggedInName.next(val);\r\n    }\r\n    public loggedInName(): Observable<string> {\r\n        // getter (loggedInName)\r\n        return this._loggedInName.asObservable();\r\n    }\r\n    private _loggedInUserName: Subject<string> = new Subject<string>();\r\n    public setloggedInUserName(val: string) {\r\n        this._loggedInUserName.next(val);\r\n    }\r\n    public loggedInUserName(): Observable<string> {\r\n        // getter (loggedInName)\r\n        return this._loggedInUserName.asObservable();\r\n    }\r\n    private _loggedInID: Subject<number> = new Subject<number>();\r\n    public setloggedInID(val: number) {\r\n        this._loggedInID.next(val);\r\n    }\r\n    public loggedInID(): Observable<number> {\r\n        // getter (loggedInName)\r\n        return this._loggedInID.asObservable();\r\n    }\r\n\r\n    //store the info to be retrieved in other components\r\n    public storeUserInfo(manager: Manager): void {\r\n        //store in localStorage and in .next for subscriptions on change\r\n        localStorage.setItem('loggedInRole', this.getLoggedInRole(manager.roleID));\r\n        localStorage.setItem('loggedInName', manager.firstName + ' ' + manager.lastName);\r\n        localStorage.setItem('loggedInUserName', manager.username);\r\n        localStorage.setItem('loggedInID', manager.id.toString());\r\n\r\n        this._loggedInRole.next(this.getLoggedInRole(manager.roleID));\r\n        this._loggedInName.next(manager.firstName + ' ' + manager.lastName);\r\n        this._loggedInUserName.next(manager.username);\r\n        this._loggedInID.next(manager.id);\r\n        this.setStorageExpiration();\r\n    }\r\n    //logged out, clear the data\r\n    public removeUserInfo(): void {\r\n        localStorage.clear();\r\n        this._loggedInRole.next();\r\n        this._loggedInName.next();\r\n        this._loggedInUserName.next();\r\n        this._loggedInID.next();\r\n    }\r\n    // make sure to clear localStorage after 12 hrs (use this when setting creds)\r\n    private setStorageExpiration(): void {\r\n        let hours: number = 12; // Reset when storage is more than 12 hours\r\n        let now: number = new Date().getTime();\r\n        let setupTime: number = Number(localStorage.getItem('setupTime'));\r\n        localStorage.setItem('setupTime', now.toString());\r\n    }\r\n    // get the loggedIn Role\r\n    private getLoggedInRole(roleId: number): string {\r\n        switch (roleId) {\r\n            case 1:\r\n                return 'Administrator';\r\n            case 2:\r\n                return 'Manager';\r\n        }\r\n    }\r\n} // end AuthService\r\n","// ------------------------------------------------------------------------------\r\n// ----- login.service.ts -----------------------------------------------\r\n// ------------------------------------------------------------------------------\r\n\r\n// copyright:   2017 WiM - USGS\r\n// authors:  Tonia Roddick - USGS Wisconsin Internet Mapping\r\n// purpose: login service that logs user in (http) and stores creds, passes user info on to authservice\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Http, Headers, Response } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/observable/throw';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { AuthService } from 'app/shared/services/auth.service';\r\nimport { ConfigService } from 'app/config.service';\r\nimport { Config } from 'app/shared/interfaces/config';\r\n\r\n@Injectable()\r\nexport class LoginService {\r\n    private configSettings: Config;\r\n\r\n    public _loggedInSubject: BehaviorSubject<boolean> = <BehaviorSubject<boolean>>new BehaviorSubject(false);\r\n\r\n    constructor(private http: Http, private _authService: AuthService, private _configService: ConfigService) {\r\n        this.configSettings = this._configService.getConfiguration();\r\n    }\r\n\r\n    public isLoggedIn(): Observable<boolean> {\r\n        return this._loggedInSubject.asObservable();\r\n    }\r\n\r\n    // log in\r\n    public login(username: string, password: string) {\r\n        const headers: Headers = new Headers();\r\n        const creds: string = 'Basic ' + btoa(username + ':' + password);\r\n\r\n        headers.append('Authorization', creds);\r\n        headers.append('Accept', 'application/json');\r\n        headers.append('Content-Type', 'application/json');\r\n        return this.http.get(this.configSettings.baseURL + this.configSettings.loginURL, { headers: headers })\r\n            .map((response: Response) => {\r\n                // login successful if there's a jwt token in the response\r\n                const user = response.json();\r\n                if (user) {\r\n                    this._loggedInSubject.next(true);\r\n                    // store user creds in localStorage and details in service for retrieval\r\n                    localStorage.setItem('credentials', creds);\r\n                    this._authService.storeUserInfo(user);\r\n                }\r\n            })\r\n            .catch(this.handleError);\r\n    }\r\n    // log out and clear everything\r\n    public logout() {\r\n        this._loggedInSubject.next(false);\r\n        localStorage.clear();\r\n        this._authService.removeUserInfo();\r\n    }\r\n\r\n    private handleError(error: Response | any) {\r\n        return Observable.throw(error);\r\n    }\r\n}\r\n","module.exports = \".wim-sidebar {\\r\\n    background-color: #eceef4;\\r\\n    width: 300px;\\r\\n    pointer-events: auto;\\r\\n    position: fixed;\\r\\n    top: 70;\\r\\n    -webkit-transform: translate3d(0px, 0px, 0px);\\r\\n            transform: translate3d(0px, 0px, 0px);\\r\\n    z-index: 100;\\r\\n    margin-top: 70px;\\r\\n    height: 100%;\\r\\n    height: calc(100% - 70px);\\r\\n    overflow: auto;\\r\\n    box-sizing: border-box;\\r\\n    padding: 25px 15px;\\r\\n}\\r\\n\\r\\n.sidebar-item{\\r\\n    display: block;\\r\\n    box-sizing: border-box;\\r\\n    padding: 0 0 15px 0;\\r\\n}\\r\\n\\r\\n.wim-sidebar select{\\r\\n    background-color: white;\\r\\n}\\r\\n\\r\\n.wim-sidebar button{\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.wim-sidebar label{\\r\\n    display: block;\\r\\n}\\r\\n\\r\\nselect:focus{\\r\\n\\tbackground-image: url('data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"14\\\" viewBox=\\\"0 0 29 14\\\" width=\\\"29\\\"><path fill=\\\"#0F8AFF\\\" d=\\\"M9.37727 3.625l5.08154 6.93523L19.54036 3.625\\\"/></svg>');\\r\\n}\\r\\n\\r\\n.footer-links {\\r\\n    display: block;\\r\\n    box-sizing: border-box;\\r\\n    padding: 0 5px;\\r\\n    text-align: center;\\r\\n    line-height: 1.5em;\\r\\n    opacity: .75;\\r\\n}\\r\\n\\r\\n.footer-links a {\\r\\n    display: inline-block;\\r\\n    box-sizing: border-box;\\r\\n    padding: 0 4px;\\r\\n    font-size: 8pt;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.identification {\\r\\n    text-transform: uppercase;\\r\\n    letter-spacing: 1px;\\r\\n    font-size: 9pt;\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    padding-left: 8px;\\r\\n    opacity: .75;\\r\\n    text-align: center;\\r\\n    color: #6e7490;\\r\\n}\\r\\n\\r\\n.identification a {\\r\\n    font-weight: 700;\\r\\n    color: #6E7490;\\r\\n    transition: .15s;    \\r\\n}\\r\\n\\r\\n/*.identification a:hover {\\r\\n    transition: .15s;\\r\\n    color: rgba(0,0,0,.9)!important;\\r\\n}*/\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2lkZWJhci9zaWRlYmFyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSwwQkFBMEI7SUFDMUIsYUFBYTtJQUNiLHFCQUFxQjtJQUNyQixnQkFBZ0I7SUFDaEIsUUFBUTtJQUNSLDhDQUFzQztZQUF0QyxzQ0FBc0M7SUFDdEMsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsMEJBQTBCO0lBQzFCLGVBQWU7SUFDZix1QkFBdUI7SUFDdkIsbUJBQW1CO0NBQ3RCOztBQUVEO0lBQ0ksZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixvQkFBb0I7Q0FDdkI7O0FBRUQ7SUFDSSx3QkFBd0I7Q0FDM0I7O0FBQ0Q7SUFDSSxZQUFZO0NBQ2Y7O0FBQ0Q7SUFDSSxlQUFlO0NBQ2xCOztBQUVEO0NBQ0MsbU5BQW1OO0NBQ25OOztBQUNEO0lBQ0ksZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQixhQUFhO0NBQ2hCOztBQUNEO0lBQ0ksc0JBQXNCO0lBQ3RCLHVCQUF1QjtJQUN2QixlQUFlO0lBQ2YsZUFBZTtJQUNmLHNCQUFzQjtDQUN6Qjs7QUFDRDtJQUNJLDBCQUEwQjtJQUMxQixvQkFBb0I7SUFDcEIsZUFBZTtJQUNmLGVBQWU7SUFDZixZQUFZO0lBQ1osVUFBVTtJQUNWLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixlQUFlO0NBQ2xCOztBQUNEO0lBQ0ksaUJBQWlCO0lBQ2pCLGVBQWU7SUFDZixpQkFBaUI7Q0FDcEI7O0FBQ0Q7OztHQUdHIiwiZmlsZSI6InNyYy9hcHAvc2lkZWJhci9zaWRlYmFyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIud2ltLXNpZGViYXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VjZWVmNDtcclxuICAgIHdpZHRoOiAzMDBweDtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiA3MDtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweCk7XHJcbiAgICB6LWluZGV4OiAxMDA7XHJcbiAgICBtYXJnaW4tdG9wOiA3MHB4O1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA3MHB4KTtcclxuICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIHBhZGRpbmc6IDI1cHggMTVweDtcclxufVxyXG5cclxuLnNpZGViYXItaXRlbXtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIHBhZGRpbmc6IDAgMCAxNXB4IDA7XHJcbn1cclxuXHJcbi53aW0tc2lkZWJhciBzZWxlY3R7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxufVxyXG4ud2ltLXNpZGViYXIgYnV0dG9ue1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuLndpbS1zaWRlYmFyIGxhYmVse1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuXHJcbnNlbGVjdDpmb2N1c3tcclxuXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGhlaWdodD1cIjE0XCIgdmlld0JveD1cIjAgMCAyOSAxNFwiIHdpZHRoPVwiMjlcIj48cGF0aCBmaWxsPVwiIzBGOEFGRlwiIGQ9XCJNOS4zNzcyNyAzLjYyNWw1LjA4MTU0IDYuOTM1MjNMMTkuNTQwMzYgMy42MjVcIi8+PC9zdmc+Jyk7XHJcbn1cclxuLmZvb3Rlci1saW5rcyB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICBwYWRkaW5nOiAwIDVweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjVlbTtcclxuICAgIG9wYWNpdHk6IC43NTtcclxufVxyXG4uZm9vdGVyLWxpbmtzIGEge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIHBhZGRpbmc6IDAgNHB4O1xyXG4gICAgZm9udC1zaXplOiA4cHQ7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuLmlkZW50aWZpY2F0aW9uIHtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICBsZXR0ZXItc3BhY2luZzogMXB4O1xyXG4gICAgZm9udC1zaXplOiA5cHQ7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIHBhZGRpbmctbGVmdDogOHB4O1xyXG4gICAgb3BhY2l0eTogLjc1O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgY29sb3I6ICM2ZTc0OTA7XHJcbn1cclxuLmlkZW50aWZpY2F0aW9uIGEge1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICAgIGNvbG9yOiAjNkU3NDkwO1xyXG4gICAgdHJhbnNpdGlvbjogLjE1czsgICAgXHJcbn1cclxuLyouaWRlbnRpZmljYXRpb24gYTpob3ZlciB7XHJcbiAgICB0cmFuc2l0aW9uOiAuMTVzO1xyXG4gICAgY29sb3I6IHJnYmEoMCwwLDAsLjkpIWltcG9ydGFudDtcclxufSovXHJcbiJdfQ== */\"","module.exports = \"<form class=\\\"wim-sidebar fixed\\\" id=\\\"wimSidebar\\\">\\r\\n\\r\\n    <div class=\\\"sidebar-item\\\">\\r\\n        <label>Choose Region:</label>\\r\\n        <select [ngModel]=\\\"selectedRegion\\\" (ngModelChange)=\\\"onRegSelect($event)\\\" name=\\\"region\\\">\\r\\n            <option value=\\\"\\\" selected disabled hidden></option>\\r\\n            <option [ngValue]=\\\"i\\\" *ngFor=\\\"let i of regions\\\">{{i.name}}</option>\\r\\n        </select>\\r\\n    </div> <!-- end sidebar-item-->\\r\\n\\r\\n\\r\\n    <div class=\\\"sidebar-item\\\" *ngIf=\\\"statisticGroups\\\">\\r\\n        <label>Limit by Statistic Group(s):</label>\\r\\n        <ss-multiselect-dropdown [options]=\\\"statisticGroups\\\" [texts]=\\\"myMSTexts\\\" [settings]=\\\"myRTSettings\\\" name=\\\"selectedStatGrpIDs\\\"\\r\\n            [(ngModel)]=\\\"selectedStatGrpIDs\\\" (ngModelChange)=\\\"onStatGrpSelect($event)\\\">\\r\\n        </ss-multiselect-dropdown>\\r\\n    </div> <!-- end sidebar-item-->\\r\\n\\r\\n\\r\\n    <div class=\\\"sidebar-item\\\" *ngIf=\\\"regressionRegions\\\"> \\r\\n        <label>Limit by Regression Group(s):</label>\\r\\n        <ss-multiselect-dropdown [options]=\\\"regressionRegions\\\" [texts]=\\\"myMSTexts\\\" [settings]=\\\"myRRSettings\\\" name=\\\"selectedRegRegionIDs\\\"\\r\\n            [(ngModel)]=\\\"selectedRegRegionIDs\\\" (ngModelChange)=\\\"onRegressionRegSelect($event)\\\"> \\r\\n        </ss-multiselect-dropdown>\\r\\n    </div> <!-- end sidebar-item-->\\r\\n\\r\\n\\r\\n    <div class=\\\"sidebar-item\\\" *ngIf=\\\"regressionTypes\\\">\\r\\n        <label>Limit by Statistic:</label>\\r\\n        <ss-multiselect-dropdown [options]=\\\"regressionTypes\\\" [texts]=\\\"myMSTexts\\\" [settings]=\\\"mySGSettings\\\" name=\\\"selectedRegTypeIDs\\\"\\r\\n            [(ngModel)]=\\\"selectedRegTypeIDs\\\" (ngModelChange)=\\\"onRegTypeSelect($event)\\\">\\r\\n        </ss-multiselect-dropdown>\\r\\n    </div> <!-- end sidebar-item-->\\r\\n\\r\\n\\r\\n    <div class=\\\"sidebar-item\\\" *ngIf=\\\"scenarios && scenarios.length > 0 && scenarios[0].regressionRegions.length > 0\\\">\\r\\n        <label>Calculate Statistic:</label>\\r\\n        <button style=\\\"margin-top: 6px\\\" [disabled]=\\\"scenarios[0].regressionRegions[0].Results != undefined\\\" type=\\\"button\\\"\\r\\n            class=\\\"btn-black\\\" (click)=\\\"CalculateScenario()\\\">Compute</button>\\r\\n    </div> <!-- end sidebar-item-->\\r\\n\\r\\n    <div class=\\\"sidebar-item\\\" *ngIf=\\\"showChart\\\">\\r\\n        <label>Chart:</label>\\r\\n        <ul style=\\\"padding: 0px !important;\\\">\\r\\n            <div *ngFor=\\\"let pt of plotTypes\\\" (click)=\\\"selectChart(pt)\\\">\\r\\n                <li style=\\\"list-style: none; cursor: pointer\\\" class=\\\"simple-btn\\\">{{pt}}</li>\\r\\n            </div>\\r\\n        </ul>\\r\\n    </div> <!-- end sidebar-item-->\\r\\n\\r\\n    <div class=\\\"sidebar-item\\\" *ngIf=\\\"scenarios && scenarios.length > 0 && scenarios[0].regressionRegions.length > 0 && scenarios[0].regressionRegions[0].results != undefined\\\">\\r\\n        <label>Go To:</label>\\r\\n        <ul style=\\\"padding: 0 !important;\\\">\\r\\n            <li style=\\\"list-style:none\\\"><a pageScroll href=\\\"#citations\\\" class=\\\"simple-btn-link\\\">Citations</a></li>\\r\\n            <li *ngIf=\\\"showChart\\\" style=\\\"list-style:none\\\"><a pageScroll href=\\\"#chart\\\" class=\\\"simple-btn-link\\\">Charts</a></li>\\r\\n            <li style=\\\"list-style:none\\\"><a pageScroll href=\\\"#appendix\\\" class=\\\"simple-btn-link\\\">Appendix</a></li>\\r\\n        </ul>\\r\\n    </div> <!-- end sidebar-item-->\\r\\n\\r\\n    <div class=\\\"footer-links\\\">\\r\\n        <div class=\\\"identification\\\">Powered by <a href=\\\"https://wim.usgs.gov/\\\" target=\\\"_blank\\\">WiM</a></div>\\r\\n        <!--     <div class=\\\"identification pull-right\\\">powered by <a href=\\\"https://wim.usgs.gov/\\\" target=\\\"_blank\\\">WiM</a></div>-->\\r\\n        <a href=\\\"https://usgs.gov\\\" target=\\\"_blank\\\">USGS Home</a><a href=\\\"https://answers.usgs.gov\\\" target=\\\"_blank\\\">Contact\\r\\n            USGS</a>\\r\\n        <a href=\\\"https://search.usgs.gov\\\" target=\\\"_blank\\\">Search USGS</a>\\r\\n        <a href=\\\"https://www2.usgs.gov/laws/accessibility.html\\\" target=\\\"_blank\\\">Accessibility</a>\\r\\n        <a href=\\\"https://www2.usgs.gov/foia/\\\" target=\\\"_blank\\\">FOIA</a>\\r\\n        <a href=\\\"https://www2.usgs.gov/laws/privacy.html\\\" target=\\\"_blank\\\">Privacy</a>\\r\\n        <a href=\\\"https://www2.usgs.gov/laws/policies_notices.html\\\" target=\\\"_blank\\\">Policies &amp; Notices</a>\\r\\n    </div>\\r\\n</form>\"","import { Component, OnInit } from '@angular/core';\r\nimport { URLSearchParams } from '@angular/http';\r\nimport { NSSService } from '../shared/services/app.service';\r\nimport { Region } from '../shared/interfaces/region';\r\nimport { Scenario } from '../shared/interfaces/scenario';\r\nimport { Statisticgroup } from '../shared/interfaces/statisticgroup';\r\nimport { Regressiontype } from '../shared/interfaces/regressiontype';\r\nimport { Regressionregion } from '../shared/interfaces/regressionregion';\r\nimport { IMultiSelectOption, IMultiSelectSettings, IMultiSelectTexts } from '../../../node_modules/angular-2-dropdown-multiselect';\r\nimport { Toast } from 'angular2-toaster/src/toast';\r\n\r\n@Component({\r\n    selector: 'wim-sidebar',\r\n    templateUrl: './sidebar.component.html',\r\n    styleUrls: ['./sidebar.component.css']\r\n})\r\nexport class SidebarComponent implements OnInit {\r\n    public doShow: boolean;\r\n    public showChart: boolean; //show the Chart: Sidebar option\r\n    public plotTypes: Array<string> = ['Frequency Plot', 'Hydrograph']; //Hydrograph, Frequency Plot\r\n    public selectedPlot: string; //which chart type they selected\r\n    //regions\r\n    //public get selectedRegion():Region {return this._nssService.selectedRegion;};\r\n    public selectedRegion: Region;\r\n    public regions: Array<Region>;\r\n\r\n    //regression regions\r\n    private selectedRegRegionIDs: Array<number>; //multiselect populates this with those selected\r\n    //public get selectedRegRegion(): Array<Regressionregion> { return this._nssService.selectedRegRegions; };\r\n    public selectedRegressionRegions: Array<Regressionregion>;\r\n    public regressionRegions: Array<Regressionregion>;\r\n    private myRRSettings: IMultiSelectSettings;\r\n    private myMSTexts: IMultiSelectTexts;\r\n\r\n    //regression types\r\n    private selectedRegTypeIDs: Array<number>;\r\n    public get selectedRegType(): Array<Regressiontype> {\r\n        return this._nssService.selectedRegressionTypes;\r\n    }\r\n    public regressionTypes: Array<Regressiontype>;\r\n    private myRTSettings: IMultiSelectSettings;\r\n\r\n    //statisticGrps\r\n    private selectedStatGrpIDs: Array<number>;\r\n    public get selectedStatGrp(): Array<Statisticgroup> {\r\n        return this._nssService.selectedStatGroups;\r\n    }\r\n    public statisticGroups: Array<Statisticgroup>;\r\n    private mySGSettings: IMultiSelectSettings;\r\n\r\n    //scenario\r\n    public scenarios: Array<Scenario>;\r\n\r\n    constructor(private _nssService: NSSService) {}\r\n\r\n    ngOnInit() {\r\n        this.doShow = true;\r\n        this.selectedPlot = '';\r\n        this.selectedRegressionRegions = [];\r\n        //subscribe to regions\r\n        this._nssService.getRegions();\r\n        this._nssService.regions.subscribe((regions: Array<Region>) => {\r\n            this.regions = regions;\r\n        });\r\n        this._nssService.selectedRegion.subscribe((r: Region) => {\r\n            this.selectedRegion = r;\r\n        });\r\n        //subscribe to selected regression regions\r\n        this._nssService.selectedRegRegions.subscribe((rr: Array<Regressionregion>) => {\r\n            this.selectedRegressionRegions = rr;\r\n        });\r\n        //subscribe to regressionRegions\r\n        this._nssService.regressionRegions.subscribe((rr: Array<Regressionregion>) => {\r\n            this.regressionRegions = rr;\r\n            //remove from selectedRegRegion if not in response.\r\n            if (this.selectedRegRegionIDs != undefined) {\r\n                if (rr.length > 0) {\r\n                    for (var rri = this.selectedRegRegionIDs.length; rri--; ) {\r\n                        let RRind = rr\r\n                            .map(function(eachrr) {\r\n                                return eachrr.ID;\r\n                            })\r\n                            .indexOf(this.selectedRegRegionIDs[rri]);\r\n                        if (RRind < 0) this.selectedRegRegionIDs.splice(rri, 1);\r\n                    }\r\n                } else this.selectedRegRegionIDs = [];\r\n            }\r\n        });\r\n        //subscribe to StatisticGroups\r\n        this._nssService.statisticGroups.subscribe((sg: Array<Statisticgroup>) => {\r\n            this.statisticGroups = sg;\r\n            //remove from selectedStatGrp if not in response.\r\n            if (this.selectedStatGrpIDs != undefined) {\r\n                if (sg.length > 0) {\r\n                    for (var si = this.selectedStatGrpIDs.length; si--; ) {\r\n                        let SSind = sg\r\n                            .map(function(eachsg) {\r\n                                return eachsg.ID;\r\n                            })\r\n                            .indexOf(this.selectedStatGrpIDs[si]);\r\n                        if (SSind < 0) this.selectedStatGrpIDs.splice(si, 1);\r\n                    }\r\n                } else this.selectedStatGrpIDs = [];\r\n            }\r\n        });\r\n        //subscribe to regressionTypes\r\n        this._nssService.regressionTypes.subscribe((rt: Array<Regressiontype>) => {\r\n            this.regressionTypes = rt;\r\n            //remove from selectedRegType if not in response\r\n            if (this.selectedRegTypeIDs != undefined) {\r\n                if (rt.length > 0) {\r\n                    for (var rti = this.selectedRegTypeIDs.length; rti--; ) {\r\n                        let RTind = rt\r\n                            .map(function(eachrt) {\r\n                                return eachrt.ID;\r\n                            })\r\n                            .indexOf(this.selectedRegTypeIDs[rti]);\r\n                        if (RTind < 0) this.selectedRegTypeIDs.splice(rti, 1);\r\n                    }\r\n                } else this.selectedRegTypeIDs = [];\r\n            }\r\n        });\r\n        //subscribe to scenario\r\n        this._nssService.scenarios.subscribe((s: Array<Scenario>) => {\r\n            this.scenarios = s;\r\n            this.scenarios.forEach(s => {\r\n                //if there are results, show the chart buttons\r\n                if (s.regressionRegions.length > 0 && s.regressionRegions[0].results && s.statisticGroupName.indexOf('Peak-Flow') > -1)\r\n                    this.showChart = true;\r\n                else this.showChart = false;\r\n            });\r\n        });\r\n        //settings for multiselect.. added max-width and font-size to the library's ts file directly\r\n        this.myRRSettings = {\r\n            pullRight: false,\r\n            enableSearch: false,\r\n            checkedStyle: 'glyphicon', //'checkboxes',\r\n            buttonClasses: 'btn btn-default',\r\n            selectionLimit: 0,\r\n            closeOnSelect: false,\r\n            showCheckAll: true,\r\n            showUncheckAll: true,\r\n            dynamicTitleMaxItems: 2,\r\n            maxHeight: '300px'\r\n        };\r\n        this.myRTSettings = {\r\n            pullRight: false,\r\n            enableSearch: false,\r\n            checkedStyle: 'glyphicon', //'checkboxes',\r\n            buttonClasses: 'btn btn-default',\r\n            selectionLimit: 0,\r\n            closeOnSelect: false,\r\n            showCheckAll: true,\r\n            showUncheckAll: true,\r\n            dynamicTitleMaxItems: 2,\r\n            maxHeight: '300px'\r\n        };\r\n        this.mySGSettings = {\r\n            pullRight: false,\r\n            enableSearch: false,\r\n            checkedStyle: 'glyphicon', //'checkboxes',\r\n            buttonClasses: 'btn btn-default',\r\n            selectionLimit: 0,\r\n            closeOnSelect: false,\r\n            showCheckAll: true,\r\n            showUncheckAll: true,\r\n            dynamicTitleMaxItems: 2,\r\n            maxHeight: '300px'\r\n        };\r\n        this.myMSTexts = {\r\n            checkAll: 'Check all',\r\n            uncheckAll: 'Uncheck all',\r\n            checked: 'checked',\r\n            checkedPlural: 'checked',\r\n            defaultTitle: 'Select'\r\n        };\r\n    } // end ngOnInit()\r\n\r\n    // select Region. get regressionRegions, regressionTypes, StatisticGroups\r\n    public onRegSelect(r: Region) {\r\n        this.selectedRegRegionIDs = [];\r\n        this.selectedStatGrpIDs = [];\r\n        this.selectedRegTypeIDs = [];\r\n        this._nssService.setSelectedRegion(r);\r\n    }\r\n\r\n    // select of regression region. set the selectedRegRegions\r\n    public onRegressionRegSelect(): void { \r\n        let selectedRegRegions: Array<Regressionregion> = new Array<Regressionregion>();\r\n        this.selectedRegRegionIDs.forEach(srr => {\r\n            // for each selected (number only) get the IRegressionRegion to send as array to the _service for updating on main\r\n            selectedRegRegions.push(\r\n                this.regressionRegions.filter(function(rr) {\r\n                    return rr.id === srr;\r\n                })[0]\r\n            );\r\n        });\r\n        this._nssService.setSelectedRegRegions(selectedRegRegions);\r\n    }\r\n\r\n    // select of statisticgrp. update regressionregions and regressiontypes and scenario for mainView\r\n    public onStatGrpSelect(): void {\r\n        let selectedStatGroups: Array<Statisticgroup> = new Array<Statisticgroup>();\r\n        this.selectedStatGrpIDs.forEach(ssg => {\r\n            // for each selected (number only) get the IRegressionRegion to send as array to the _service for updating on main\r\n            selectedStatGroups.push(\r\n                this.statisticGroups.filter(function(rr) {\r\n                    return rr.id === ssg;\r\n                })[0]\r\n            );\r\n        });\r\n        this._nssService.selectedStatGroups = selectedStatGroups;\r\n    }\r\n\r\n    // select of regression type. update statisticgrps and regressionregions\r\n    public onRegTypeSelect(): void {\r\n        let selectedRegTypes: Array<Regressiontype> = new Array<Regressiontype>();\r\n        this.selectedRegTypeIDs.forEach(srt => {\r\n            // for each selected (number only) get the IRegressionRegion to send as array to the _service for updating on main\r\n            selectedRegTypes.push(\r\n                this.regressionTypes.filter(function(rr) {\r\n                    return rr.id == srt;\r\n                })[0]\r\n            );\r\n        });\r\n        this._nssService.selectedRegressionTypes = selectedRegTypes;\r\n    }\r\n\r\n    // submit / Compute button click\r\n    public CalculateScenario(): void {\r\n        let ValueRequired: boolean = false;\r\n        let totalWeight: number = Number(0);\r\n        let numOfRegRegions: number = Number(0); // don't care about weights if only 1 regRegion\r\n        // make sure all values are populated\r\n        this.scenarios.forEach(s => {\r\n            numOfRegRegions = s.regressionRegions.length;\r\n            s.regressionRegions.forEach(rr => {\r\n                if (numOfRegRegions > 1) totalWeight += Number(rr.percentWeight);\r\n                rr.parameters.forEach(p => {\r\n                    if (!p.value) {\r\n                        ValueRequired = true;\r\n                        p.missingVal = true;\r\n                    } else p.missingVal = false;\r\n                });\r\n            });\r\n        });\r\n\r\n        if (ValueRequired) {\r\n            let toast: Toast = {\r\n                type: 'warning',\r\n                title: 'Error',\r\n                body: 'All values are required'\r\n            };\r\n            this._nssService.showToast(toast);\r\n        } else if (numOfRegRegions > 1 && (totalWeight < 100 || isNaN(totalWeight))) {\r\n            let weightToast: Toast = {\r\n                type: 'warning',\r\n                title: 'Error',\r\n                body: '% Weights must equal 100%'\r\n            };\r\n            this._nssService.showToast(weightToast);\r\n        } // end invalid\r\n        else {\r\n            // remove Citations, RegressionRegions.Parameters.OutOfRange and .missingVal props\r\n            this.scenarios.forEach(s => {\r\n                delete s.citations;\r\n                s.regressionRegions.forEach(rr => {\r\n                    rr.parameters.forEach(p => {\r\n                        delete p.outOfRange;\r\n                        delete p.missingVal;\r\n                        delete p.seeDescription;\r\n                    });\r\n                });\r\n            });\r\n            // now post the scenario to get the results to pass to mainview\r\n            let regTypesIDstring = this.selectedRegTypeIDs !== undefined ? this.selectedRegTypeIDs.join(',') : '';\r\n            let statGrpIDstring = this.selectedStatGrpIDs !== undefined ? this.selectedStatGrpIDs.join(',') : '';\r\n            let regRegionsIDstring = this.selectedRegRegionIDs !== undefined ? this.selectedRegRegionIDs.join(',') : '';\r\n            let sParams: URLSearchParams = new URLSearchParams();\r\n            sParams.set('regressionregions', regRegionsIDstring);\r\n            sParams.set('regressiontypes', regTypesIDstring);\r\n            sParams.set('statisticgroups', statGrpIDstring);\r\n            this._nssService.postScenarios(this.selectedRegion.id, this.scenarios, sParams);\r\n        }\r\n    }\r\n\r\n    // want to see a chart (which one?) ---- may delete, trying it on (ngModelChange)=\" of select\r\n    public selectChart(p: string): void {\r\n        if (p !== '') {\r\n            // this.selectedPlot = p;\r\n            // this.selectedPlot = undefined;\r\n            this._nssService.addChart(p);\r\n        }\r\n    }\r\n\r\n    // number only allowed in Value\r\n    _keyPress(event: any) {\r\n        const pattern = /[0-9\\+\\-\\.\\ ]/;\r\n        let inputChar = String.fromCharCode(event.charCode);\r\n        if (!pattern.test(inputChar)) {\r\n            // invalid character, prevent input\r\n            event.preventDefault();\r\n        }\r\n    }\r\n}\r\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  configFile: 'assets/config.json',\r\n  version: require('../../package.json').version\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n"],"sourceRoot":""}